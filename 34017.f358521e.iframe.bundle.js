"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[34017],{"./ui/helpers/utils/permission.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>getPermissionDescription,i:()=>getWeightedPermissions});var _obj,deep_freeze_strict=__webpack_require__("./node_modules/deep-freeze-strict/index.js"),deep_freeze_strict_default=__webpack_require__.n(deep_freeze_strict),react=__webpack_require__("./node_modules/react/index.js"),rpc=__webpack_require__("./node_modules/@metamask/snaps-rpc-methods/dist/endowments/rpc.mjs"),derivation_paths=__webpack_require__("./node_modules/@metamask/snaps-utils/dist/derivation-paths.mjs"),caveats=__webpack_require__("./node_modules/@metamask/snaps-utils/dist/caveats.mjs"),util=__webpack_require__("./node_modules/@metamask/controller-utils/dist/util.mjs"),caip25Permission=__webpack_require__("./node_modules/@metamask/chain-agnostic-permission/dist/caip25Permission.mjs"),permissions=__webpack_require__("./shared/constants/permissions.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");function specifications_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__("./shared/modules/selectors/networks.ts");var PermissionNames=Object.freeze(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){specifications_define_property(target,key,source[key])})}return target}({},permissions.wq,permissions.l_));Object.freeze(specifications_define_property({},caip25Permission.DH,caip25Permission.xs)),Object.freeze(["eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"]),Object.freeze(["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_decrypt","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getEncryptionPublicKey","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_requestAccounts","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_submitHashrate","eth_submitWork","eth_subscribe","eth_syncing","eth_uninstallFilter","eth_unsubscribe","metamask_getProviderState","metamask_logWeb3ShimUsage","metamask_sendDomainMetadata","metamask_watchAsset","net_listening","net_peerCount","net_version","personal_ecRecover","personal_sign","wallet_addEthereumChain","wallet_getCallsStatus","wallet_getCapabilities","wallet_getPermissions","wallet_requestPermissions","wallet_revokePermissions","wallet_registerOnboarding","wallet_sendCalls","wallet_switchEthereumChain","wallet_watchAsset","web3_clientVersion","web3_sha3","wallet_getAllSnaps","wallet_getSnaps","wallet_requestSnaps","wallet_invokeSnap","wallet_invokeKeyring","snap_getClientStatus","snap_getCurrencyRate","snap_clearState","snap_getFile","snap_getState","snap_listEntropySources","snap_createInterface","snap_updateInterface","snap_getInterfaceState","snap_getInterfaceContext","snap_resolveInterface","snap_setState","snap_scheduleBackgroundEvent","snap_cancelBackgroundEvent","snap_getBackgroundEvents","snap_experimentalProviderRequest","snap_trackError","snap_trackEvent","snap_openWebSocket","snap_sendWebSocketMessage","snap_closeWebSocket","snap_getWebSockets","snap_startTrace","snap_endTrace"]);var caip_permission_operator_accounts=__webpack_require__("./node_modules/@metamask/chain-agnostic-permission/dist/operators/caip-permission-operator-accounts.mjs"),caip_permission_operator_session_scopes=__webpack_require__("./node_modules/@metamask/chain-agnostic-permission/dist/operators/caip-permission-operator-session-scopes.mjs"),caip_permission_operator_permittedChains=__webpack_require__("./node_modules/@metamask/chain-agnostic-permission/dist/operators/caip-permission-operator-permittedChains.mjs"),reselect=__webpack_require__("./node_modules/reselect/dist/reselect.mjs"),getSubjects=function(state){return state.subjects};(0,reselect.Mz)(getSubjects,function(subjects){var originToAccountsMap=new Map;return Object.values(subjects).forEach(function(subject){var _subject_permissions_Caip25EndowmentPermissionName,_subject_permissions,caveat=((null==(_subject_permissions=subject.permissions)||null==(_subject_permissions_Caip25EndowmentPermissionName=_subject_permissions[caip25Permission.em])?void 0:_subject_permissions_Caip25EndowmentPermissionName.caveats)||[]).find(function(param){return param.type===caip25Permission.DH});if(caveat){var ethAccounts=(0,caip_permission_operator_accounts.sg)(caveat.value);originToAccountsMap.set(subject.origin,ethAccounts)}}),originToAccountsMap}),(0,reselect.Mz)(getSubjects,function(_,scopes){return scopes},function(subjects,scopes){var originToAccountsMap=new Map;return Object.values(subjects).forEach(function(subject){var _subject_permissions_Caip25EndowmentPermissionName,_subject_permissions,caveat=((null==(_subject_permissions=subject.permissions)||null==(_subject_permissions_Caip25EndowmentPermissionName=_subject_permissions[caip25Permission.em])?void 0:_subject_permissions_Caip25EndowmentPermissionName.caveats)||[]).find(function(param){return param.type===caip25Permission.DH});if(caveat){var scopeAccounts=(0,caip_permission_operator_session_scopes.Ns)(caveat.value,scopes);scopeAccounts.length>0&&originToAccountsMap.set(subject.origin,scopeAccounts)}}),originToAccountsMap}),(0,reselect.Mz)(getSubjects,function(_,property){return property},function(subjects,property){var result={};return Object.values(subjects).forEach(function(subject){var _subject_permissions_Caip25EndowmentPermissionName,_subject_permissions,_caveat_value_sessionProperties,_caveat_value,caveat=((null==(_subject_permissions=subject.permissions)||null==(_subject_permissions_Caip25EndowmentPermissionName=_subject_permissions[caip25Permission.em])?void 0:_subject_permissions_Caip25EndowmentPermissionName.caveats)||[]).find(function(param){return param.type===caip25Permission.DH}),sessionProperty=null==caveat||null==(_caveat_value=caveat.value)||null==(_caveat_value_sessionProperties=_caveat_value.sessionProperties)?void 0:_caveat_value_sessionProperties[property];void 0!==sessionProperty&&(result[subject.origin]=sessionProperty)}),result}),(0,reselect.Mz)(getSubjects,function(subjects){return Object.values(subjects).reduce(function(originToAuthorizationsMap,subject){var _subject_permissions_Caip25EndowmentPermissionName,_subject_permissions,caveat=((null==(_subject_permissions=subject.permissions)||null==(_subject_permissions_Caip25EndowmentPermissionName=_subject_permissions[caip25Permission.em])?void 0:_subject_permissions_Caip25EndowmentPermissionName.caveats)||[]).find(function(param){return param.type===caip25Permission.DH});return caveat&&originToAuthorizationsMap.set(subject.origin,caveat.value),originToAuthorizationsMap},new Map)}),(0,reselect.Mz)(getSubjects,function(subjects){return Object.values(subjects).reduce(function(originToChainsMap,subject){var _subject_permissions_Caip25EndowmentPermissionName,_subject_permissions,caveat=((null==(_subject_permissions=subject.permissions)||null==(_subject_permissions_Caip25EndowmentPermissionName=_subject_permissions[caip25Permission.em])?void 0:_subject_permissions_Caip25EndowmentPermissionName.caveats)||[]).find(function(param){return param.type===caip25Permission.DH});if(caveat){var ethChainIds=(0,caip_permission_operator_permittedChains.d_)(caveat.value);originToChainsMap.set(subject.origin,ethChainIds)}return originToChainsMap},new Map)});var utils_util=__webpack_require__("./ui/helpers/utils/util.js");function permission_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function permission_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function permission_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){permission_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||permission_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function permission_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return permission_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return permission_array_like_to_array(o,minLen)}}var UNKNOWN_PERMISSION=Symbol("unknown"),RIGHT_INFO_ICON=react.createElement(component_library.In,{name:component_library.$M.Info,size:component_library.lK.Sm,color:design_system.Li.iconMuted});function getSnapNameComponent(snapName){return react.createElement(component_library.EY,{fontWeight:design_system.IT.Medium,variant:design_system.J3.inherit,color:design_system.r7.inherit},snapName)}var PERMISSION_DESCRIPTIONS=deep_freeze_strict_default()((permission_define_property(_obj={},caip25Permission.em,function(param){var t=param.t;return param.isRequestApprovalPermittedChains?{label:t("permission_walletSwitchEthereumChain"),leftIcon:component_library.$M.Wifi,weight:permissions.a1.permittedChains}:{label:t("permission_ethereumAccounts"),leftIcon:component_library.$M.Eye,weight:permissions.a1.eth_accounts}}),permission_define_property(_obj,permissions.wq.eth_accounts,function(param){return{label:(0,param.t)("permission_ethereumAccounts"),leftIcon:component_library.$M.Eye,weight:permissions.a1.eth_accounts}}),permission_define_property(_obj,PermissionNames.permittedChains,function(param){return{label:(0,param.t)("permission_walletSwitchEthereumChain"),leftIcon:component_library.$M.Wifi,weight:permissions.a1.permittedChains}}),permission_define_property(_obj,permissions.wq.snap_dialog,function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_dialog"),description:t("permission_dialogDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Messages,weight:permissions.a1.snap_dialog}}),permission_define_property(_obj,permissions.wq.snap_notify,function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_notifications"),description:t("permission_notificationsDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Notification,weight:permissions.a1.snap_notify}}),permission_define_property(_obj,permissions.wq.snap_getBip32PublicKey,function(param){var t=param.t,permissionValue=param.permissionValue,subjectName=param.subjectName;return permissionValue.caveats[0].value.map(function(param,i){var _path_join,_getSnapDerivationPathName,path=param.path,curve=param.curve,baseDescription={leftIcon:component_library.$M.SecuritySearch,weight:permissions.a1.snap_getBip32PublicKey,id:"public-key-access-bip32-".concat(null==(_path_join=path.join("-"))?void 0:_path_join.replace(RegExp("'","gu"),"h"),"-").concat(curve,"-").concat(i),warningMessageSubject:null!=(_getSnapDerivationPathName=(0,derivation_paths.sm)(path,curve))?_getSnapDerivationPathName:"".concat(t("unknownNetworkForKeyEntropy"),"  ").concat(path.join("/")," (").concat(curve,")")},friendlyName=(0,derivation_paths.sm)(path,curve);return friendlyName?_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_viewNamedBip32PublicKeys",[react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:path.join("/")},friendlyName)]),description:t("permission_viewBip32PublicKeysDescription",[react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:"description-".concat(path.join("/"))},friendlyName),getSnapNameComponent(subjectName)])}):_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_viewBip32PublicKeys",[react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:path.join("/")},"".concat(t("unknownNetworkForKeyEntropy")," ")," ",path.join("/")),curve]),description:t("permission_viewBip32PublicKeysDescription",[react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:"description-".concat(path.join("/"))},path.join("/")),getSnapNameComponent(subjectName)])})})}),permission_define_property(_obj,permissions.wq.snap_getBip32Entropy,function(param){var t=param.t,permissionValue=param.permissionValue,subjectName=param.subjectName;return permissionValue.caveats[0].value.map(function(param,i){var _path_join,_getSnapDerivationPathName,path=param.path,curve=param.curve,baseDescription={leftIcon:component_library.$M.Key,weight:permissions.a1.snap_getBip32Entropy,id:"key-access-bip32-".concat(null==(_path_join=path.join("-"))?void 0:_path_join.replace(RegExp("'","gu"),"h"),"-").concat(curve,"-").concat(i),warningMessageSubject:null!=(_getSnapDerivationPathName=(0,derivation_paths.sm)(path,curve))?_getSnapDerivationPathName:"".concat(t("unknownNetworkForKeyEntropy")," ").concat(path.join("/")," (").concat(curve,")")},friendlyName=(0,derivation_paths.sm)(path,curve);return friendlyName?_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_manageBip32Keys",[react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:path.join("/")},friendlyName)]),description:t("permission_manageBip44AndBip32KeysDescription",[getSnapNameComponent(subjectName)])}):_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_manageBip32Keys",[react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:path.join("/")},"".concat(t("unknownNetworkForKeyEntropy")," ").concat(path.join("/")," (").concat(curve,")"))]),description:t("permission_manageBip44AndBip32KeysDescription",[getSnapNameComponent(subjectName)])})})}),permission_define_property(_obj,permissions.wq.snap_getBip44Entropy,function(param){var t=param.t,permissionValue=param.permissionValue,subjectName=param.subjectName;return permissionValue.caveats[0].value.map(function(param,i){var _getSlip44ProtocolName,_getSlip44ProtocolName1,coinType=param.coinType;return{label:t("permission_manageBip44Keys",[react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:"coin-type-".concat(coinType)},null!=(_getSlip44ProtocolName=(0,derivation_paths.My)(coinType))?_getSlip44ProtocolName:"".concat(t("unknownNetworkForKeyEntropy")," m/44'/").concat(coinType,"'"))]),description:t("permission_manageBip44AndBip32KeysDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Key,weight:permissions.a1.snap_getBip44Entropy,id:"key-access-bip44-".concat(coinType,"-").concat(i),warningMessageSubject:null!=(_getSlip44ProtocolName1=(0,derivation_paths.My)(coinType))?_getSlip44ProtocolName1:"".concat(t("unknownNetworkForKeyEntropy")," m/44'/").concat(coinType,"'")}})}),permission_define_property(_obj,permissions.wq.snap_getEntropy,function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_getEntropy",[getSnapNameComponent(subjectName)]),description:t("permission_getEntropyDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.SecurityKey,weight:permissions.a1.snap_getEntropy}}),permission_define_property(_obj,permissions.wq.snap_manageState,function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_manageState"),description:t("permission_manageStateDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.AddSquare,weight:permissions.a1.snap_manageState}}),permission_define_property(_obj,permissions.wq.snap_getLocale,function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_getLocale"),description:t("permission_getLocaleDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Global,weight:permissions.a1.snap_getLocale}}),permission_define_property(_obj,permissions.wq.snap_getPreferences,function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_getPreferences"),description:t("permission_getPreferencesDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Customize,weight:4}}),permission_define_property(_obj,permissions.wq.wallet_snap,function(param){var t=param.t,permissionValue=param.permissionValue,getSubjectName=param.getSubjectName,snaps=permissionValue.caveats[0].value,baseDescription={leftIcon:component_library.$M.Flash,rightIcon:RIGHT_INFO_ICON,weight:permissions.a1.wallet_snap};return Object.keys(snaps).map(function(snapId){var snapName=getSubjectName(snapId);return snapName?_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_accessNamedSnap",[react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:snapId},snapName)]),description:t("permission_accessSnapDescription",[snapName])}):_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_accessSnap",[snapId]),description:t("permission_accessSnapDescription",[snapId])})})}),permission_define_property(_obj,permissions.Kc["endowment:network-access"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_accessNetwork"),description:t("permission_accessNetworkDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Wifi,weight:permissions.a1.endowment_networkAccess}}),permission_define_property(_obj,permissions.Kc["endowment:webassembly"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_webAssembly"),description:t("permission_webAssemblyDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.DocumentCode,rightIcon:null,weight:permissions.a1.endowment_webassembly}}),permission_define_property(_obj,permissions.Kc["endowment:transaction-insight"],function(param){var t=param.t,permissionValue=param.permissionValue,subjectName=param.subjectName,baseDescription={leftIcon:component_library.$M.Speedometer,weight:permissions.a1.endowment_transactionInsight},result=[_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_transactionInsight"),description:t("permission_transactionInsightDescription",[getSnapNameComponent(subjectName)])})];return(0,util.EI)(permissionValue.caveats)&&permissionValue.caveats[0].type===caveats.R.TransactionOrigin&&permissionValue.caveats[0].value&&result.push(_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_transactionInsightOrigin"),description:t("permission_transactionInsightOriginDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Explore})),result}),permission_define_property(_obj,permissions.Kc["endowment:cronjob"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_cronjob"),description:t("permission_cronjobDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Clock,weight:permissions.a1.endowment_cronjob}}),permission_define_property(_obj,permissions.Kc["endowment:ethereum-provider"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_ethereumProvider"),description:t("permission_ethereumProviderDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Ethereum,weight:permissions.a1.endowment_ethereumProvider,id:"ethereum-provider-access",message:t("ethereumProviderAccess",[getSnapNameComponent(subjectName)])}}),permission_define_property(_obj,permissions.Kc["endowment:rpc"],function(param){var originsMessage,t=param.t,permissionValue=param.permissionValue,subjectName=param.subjectName,baseDescription={leftIcon:component_library.$M.Hierarchy,weight:permissions.a1.endowment_rpc},_getRpcCaveatOrigins=(0,rpc.Ro)(permissionValue),snaps=_getRpcCaveatOrigins.snaps,dapps=_getRpcCaveatOrigins.dapps,allowedOrigins=_getRpcCaveatOrigins.allowedOrigins,results=[];if(snaps&&results.push(_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_rpc",[t("otherSnaps"),getSnapNameComponent(subjectName)]),description:t("permission_rpcDescription",[t("otherSnaps"),getSnapNameComponent(subjectName)])})),dapps&&results.push(_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_rpc",[t("websites"),getSnapNameComponent(subjectName)]),description:t("permission_rpcDescription",[t("websites"),getSnapNameComponent(subjectName)])})),(null==allowedOrigins?void 0:allowedOrigins.length)>0){if(1===allowedOrigins.length)originsMessage=react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,style:{lineBreak:"anywhere"}},allowedOrigins[0]);else{var lastOrigin=allowedOrigins.slice(-1);originsMessage=t("permission_rpcDescriptionOriginList",[allowedOrigins.slice(0,-1).map(function(origin){return react.createElement(react.Fragment,null,react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,style:{lineBreak:"anywhere"}},origin),", ")}),react.createElement(component_library.EY,{color:design_system.r7.inherit,variant:design_system.J3.inherit,fontWeight:design_system.IT.Medium,key:"2",style:{lineBreak:"anywhere"}},lastOrigin)])}results.push(_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_rpc",[originsMessage,getSnapNameComponent(subjectName)]),description:t("permission_rpcDescription",[originsMessage,getSnapNameComponent(subjectName)])}))}return results}),permission_define_property(_obj,permissions.Kc["endowment:lifecycle-hooks"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_lifecycleHooks"),description:t("permission_lifecycleHooksDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Hierarchy,weight:permissions.a1.endowment_lifecycleHooks}}),permission_define_property(_obj,permissions.Kc["endowment:page-home"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_homePage"),description:t("permission_homePageDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Home,weight:permissions.a1.endowment_pageHome}}),permission_define_property(_obj,permissions.wq.snap_manageAccounts,function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_manageAccounts"),description:t("permission_manageAccountsDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.UserCircleAdd,rightIcon:null,weight:permissions.a1.snap_manageAccounts}}),permission_define_property(_obj,permissions.Kc["endowment:keyring"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_keyring"),description:t("permission_keyringDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.UserCircleAdd,rightIcon:null,weight:permissions.a1.endowment_keyring}}),permission_define_property(_obj,permissions.Kc["endowment:name-lookup"],function(param){var t=param.t;return{label:t("permission_nameLookup"),description:t("permission_nameLookupDescription"),leftIcon:component_library.$M.Search,weight:permissions.a1.endowment_nameLookup}}),permission_define_property(_obj,permissions.Kc["endowment:assets"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_assets"),description:t("permission_assetsDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Coin,weight:permissions.a1.endowment_assets}}),permission_define_property(_obj,permissions.Kc["endowment:protocol"],function(param){var t=param.t,subjectName=param.subjectName;return{label:t("permission_protocol"),description:t("permission_protocolDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.GlobalSearch,weight:permissions.a1.endowment_protocol}}),permission_define_property(_obj,permissions.Kc["endowment:signature-insight"],function(param){var t=param.t,permissionValue=param.permissionValue,subjectName=param.subjectName,baseDescription={leftIcon:component_library.$M.Warning,weight:permissions.a1.endowment_signatureInsight},result=[_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_signatureInsight"),description:t("permission_signatureInsightDescription",[getSnapNameComponent(subjectName)])})];return(0,util.EI)(permissionValue.caveats)&&permissionValue.caveats.find(function(caveat){return caveat.type===caveats.R.SignatureOrigin&&caveat.value})&&result.push(_object_spread_props(permission_object_spread({},baseDescription),{label:t("permission_signatureInsightOrigin"),description:t("permission_signatureInsightOriginDescription",[getSnapNameComponent(subjectName)]),leftIcon:component_library.$M.Explore})),result}),permission_define_property(_obj,permissions.mz.connection_permission,function(param){var t=param.t,permissionValue=param.permissionValue,subjectName=param.subjectName;return Object.keys(permissionValue).map(function(connection){var connectionName=(0,utils_util.US)(connection);return connectionName||(connectionName=connection.replace("npm:","")),{label:t("snapConnectTo",[react.createElement(component_library.EY,{key:"connectToMain",fontWeight:design_system.IT.Medium,variant:design_system.J3.inherit,color:design_system.r7.inherit,style:{lineBreak:"anywhere"}},connectionName)]),description:t("snapConnectionPermissionDescription",[getSnapNameComponent(subjectName),react.createElement(component_library.EY,{key:"connectToDescription",fontWeight:design_system.IT.Medium,variant:design_system.J3.inherit,color:design_system.r7.inherit},connectionName)]),leftIcon:void 0,connection:connection,connectionName:connectionName,subjectName:subjectName,weight:permissions.a1.connection_permission}})}),permission_define_property(_obj,UNKNOWN_PERMISSION,function(param){var t=param.t,permissionName=param.permissionName;return{label:t("permission_unknown",[null!=permissionName?permissionName:"undefined"]),leftIcon:component_library.$M.Question,rightIcon:null,weight:permissions.a1.unknown_permission}}),_obj)),getPermissionDescription=function(param){var t=param.t,isRequestApprovalPermittedChains=param.isRequestApprovalPermittedChains,permissionName=param.permissionName,permissionValue=param.permissionValue,subjectName=param.subjectName,getSubjectName=param.getSubjectName,value=PERMISSION_DESCRIPTIONS[UNKNOWN_PERMISSION];Object.hasOwnProperty.call(PERMISSION_DESCRIPTIONS,permissionName)&&(value=PERMISSION_DESCRIPTIONS[permissionName]);var result=value({t:t,isRequestApprovalPermittedChains:isRequestApprovalPermittedChains,permissionName:permissionName,permissionValue:permissionValue,subjectName:subjectName,getSubjectName:getSubjectName});return Array.isArray(result)?result.map(function(item){return _object_spread_props(permission_object_spread({},item),{permissionName:permissionName,permissionValue:permissionValue})}):[_object_spread_props(permission_object_spread({},result),{permissionName:permissionName,permissionValue:permissionValue})]};function getWeightedPermissions(param){var t=param.t,isRequestApprovalPermittedChains=param.isRequestApprovalPermittedChains,permissions=param.permissions,getSubjectName=param.getSubjectName,subjectName=param.subjectName;return Object.entries(permissions).reduce(function(target,param){var _param=_sliced_to_array(param,2),permissionName=_param[0],permissionValue=_param[1];return target.concat(getPermissionDescription({t:t,isRequestApprovalPermittedChains:isRequestApprovalPermittedChains,permissionName:permissionName,permissionValue:permissionValue,subjectName:subjectName,getSubjectName:getSubjectName}))},[]).sort(function(left,right){return left.weight-right.weight})}}}]);