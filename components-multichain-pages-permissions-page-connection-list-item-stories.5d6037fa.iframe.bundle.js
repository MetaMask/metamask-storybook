"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[516],{"./node_modules/@metamask/account-api/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var AccountGroupType,wallet_AccountWalletType;__webpack_require__.d(__webpack_exports__,{Bp:()=>AccountGroupType,ZG:()=>wallet_AccountWalletType}),__webpack_require__("./node_modules/@metamask/keyring-api/dist/index.mjs"),function(AccountGroupType){AccountGroupType.MultichainAccount="multichain-account",AccountGroupType.SingleAccount="single-account"}(AccountGroupType||(AccountGroupType={})),function(AccountWalletType){AccountWalletType.Entropy="entropy",AccountWalletType.Keyring="keyring",AccountWalletType.Snap="snap"}(wallet_AccountWalletType||(wallet_AccountWalletType={})),__webpack_require__("./node_modules/@metamask/keyring-utils/dist/index.mjs"),RegExp(`^${wallet_AccountWalletType.Entropy}:.*/(?<groupIndex>\\d+)$`,"u")},"./ui/components/app/snaps/snap-icon/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>SnapIcon});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=_object_without_properties_loose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}var SnapIcon=function(_param){var snapId=_param.snapId,_param_avatarSize=_param.avatarSize,avatarSize=void 0===_param_avatarSize?component_library.lK.Lg:_param_avatarSize,props=_object_without_properties(_param,["snapId","avatarSize"]),subjectMetadata=(0,es.d4)(function(state){return(0,selectors.DUM)(state,snapId)}),snapName=(0,es.d4)(function(state){return(0,selectors.oeg)(state,snapId)}).name,iconUrl=null==subjectMetadata?void 0:subjectMetadata.iconUrl,fallbackIcon=(0,util.k3)(snapName);return iconUrl?react.createElement(component_library.eK,_object_spread_props(_object_spread({style:{backgroundColor:"var(--color-background-alternative-hover)"},src:iconUrl,name:snapName},props),{size:avatarSize})):react.createElement(component_library.dy,_object_spread_props(_object_spread({display:design_system.nl.Flex,alignItems:design_system.k2.center,justifyContent:design_system.A9.center,color:design_system.r7.textAlternative,style:{borderWidth:"0px",backgroundColor:"var(--color-background-alternative-hover)"}},props),{size:avatarSize}),fallbackIcon)};try{SnapIcon.displayName="SnapIcon",SnapIcon.__docgenInfo={description:"",displayName:"SnapIcon",props:{snapId:{defaultValue:null,description:"",name:"snapId",required:!0,type:{name:"string"}},avatarSize:{defaultValue:{value:"IconSize.Lg"},description:"",name:"avatarSize",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"inherit"'}]}},borderWidth:{defaultValue:null,description:`The border-width of the component.
Use 1-12 for 1px-12px.
Accepts responsive props in the form of an array.`,name:"borderWidth",required:!1,type:{name:"(number & (SizeNumber | SizeNumberArray))"}},className:{defaultValue:null,description:"Additional classNames to be added to the AvatarFavicon",name:"className",required:!1,type:{name:"string"}},badgeBackgroundColor:{defaultValue:null,description:"",name:"badgeBackgroundColor",required:!1,type:{name:"enum",value:[{value:'"background-default"'},{value:'"background-alternative"'},{value:'"background-muted"'},{value:'"background-section"'},{value:'"background-subsection"'},{value:'"background-alternative-soft"'},{value:'"background-hover"'},{value:'"background-pressed"'},{value:'"icon-default"'},{value:'"icon-alternative"'},{value:'"icon-muted"'},{value:'"overlay-default"'},{value:'"overlay-alternative"'},{value:'"primary-default"'},{value:'"primary-alternative"'},{value:'"primary-muted"'},{value:'"error-default"'},{value:'"error-alternative"'},{value:'"error-muted"'},{value:'"warning-default"'},{value:'"warning-muted"'},{value:'"success-default"'},{value:'"success-muted"'},{value:'"info-default"'},{value:'"info-muted"'},{value:'"mainnet"'},{value:'"goerli"'},{value:'"sepolia"'},{value:'"linea-goerli"'},{value:'"linea-sepolia"'},{value:'"linea-mainnet"'},{value:'"transparent"'},{value:'"localhost"'}]}},size:{defaultValue:null,description:`The size of the AvatarFavicon
Possible values could be 'AvatarFaviconSize.Xs' 16px, 'AvatarFaviconSize.Sm' 24px, 'AvatarFaviconSize.Md' 32px, 'AvatarFaviconSize.Lg' 40px, 'AvatarFaviconSize.Xs' 48px
Defaults to AvatarFaviconSize.Md`,name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},variant:{defaultValue:null,description:`The variation of font styles including sizes and weights of the Text component
Possible values:
\`displayMd\` large screen: 48px / small screen: 32px,
\`headingLg\` large screen: 32px / small screen: 24px,
\`headingMd\` large screen: 24px / small screen: 18px,
\`headingSm\` large screen: 18px / small screen: 16px,
\`bodyLgMedium\` large screen: 18px / small screen: 16px,
\`bodyMd\` large screen: 16px / small screen: 14px,
\`bodyMdMedium\` large screen: 16px / small screen: 14px,
\`bodyMdBold\` large screen: 16px / small screen: 14px,
\`bodySm\` large screen: 14px / small screen: 12px,
\`bodySmMedium\` large screen: 14px / small screen: 12px,
\`bodySmBold\` large screen: 14px / small screen: 12px,
\`bodyXsMedium\` large screen: 12px / small screen: 10px,
\`bodyXs\` large screen: 12px / small screen: 10px,
\`inherit\``,name:"variant",required:!1,type:{name:"enum",value:[{value:'"display-md"'},{value:'"heading-lg"'},{value:'"heading-md"'},{value:'"heading-sm"'},{value:'"body-lg-medium"'},{value:'"body-md"'},{value:'"body-md-medium"'},{value:'"body-md-bold"'},{value:'"body-sm"'},{value:'"body-sm-medium"'},{value:'"body-sm-bold"'},{value:'"body-xs"'},{value:'"body-xs-medium"'},{value:'"inherit"'}]}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}},"data-testid":{defaultValue:null,description:`An optional data-testid to apply to the component.
TypeScript is complaining about data- attributes which means we need to explicitly define this as a prop.
TODO: Allow data- attributes.`,name:"data-testid",required:!1,type:{name:"string"}},as:{defaultValue:null,description:`An override of the default HTML tag.
Can also be a React component.`,name:"as",required:!1,type:{name:"enum",value:[{value:'"span"'}]}},ellipsis:{defaultValue:null,description:"Used for long strings that can be cut off...",name:"ellipsis",required:!1,type:{name:"boolean"}},fontWeight:{defaultValue:null,description:`The font-weight of the Text component. Should use the FontWeight enum from
./ui/helpers/constants/design-system.js`,name:"fontWeight",required:!1,type:{name:"enum",value:[{value:'"bold"'},{value:'"medium"'},{value:'"normal"'}]}},fontStyle:{defaultValue:null,description:`The font-style of the Text component. Should use the FontStyle enum from
./ui/helpers/constants/design-system.js`,name:"fontStyle",required:!1,type:{name:"enum",value:[{value:'"italic"'},{value:'"normal"'}]}},fontFamily:{defaultValue:null,description:"The font family of the Text component. Should use the FontFamily enum",name:"fontFamily",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"hero"'}]}},textTransform:{defaultValue:null,description:`The textTransform of the Text component. Should use the TextTransform enum from
./ui/helpers/constants/design-system.js`,name:"textTransform",required:!1,type:{name:"enum",value:[{value:'"uppercase"'},{value:'"lowercase"'},{value:'"capitalize"'}]}},textDirection:{defaultValue:null,description:`Change the dir (direction) global attribute of text to support the direction a language is written
Possible values: \`LEFT_TO_RIGHT\` (default), \`RIGHT_TO_LEFT\`, \`AUTO\` (user agent decides)`,name:"textDirection",required:!1,type:{name:"enum",value:[{value:'"ltr"'},{value:'"rtl"'},{value:'"auto"'}]}},overflowWrap:{defaultValue:null,description:`The overflow-wrap of the Text component. Should use the OverflowWrap enum from
./ui/helpers/constants/design-system.js`,name:"overflowWrap",required:!1,type:{name:"enum",value:[{value:'"break-word"'},{value:'"anywhere"'},{value:'"normal"'}]}},flexDirection:{defaultValue:null,description:`The flex direction of the component.
Use the FlexDirection enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"flexDirection",required:!1,type:{name:"FlexDirection | FlexDirectionArray"}},flexWrap:{defaultValue:null,description:`The flex wrap of the component.
Use the FlexWrap enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"flexWrap",required:!1,type:{name:"FlexWrap | FlexWrapArray"}},gap:{defaultValue:null,description:`The gap between the component's children.
Use 1-12 for a gap of 4px-48px.
Accepts responsive props in the form of an array.`,name:"gap",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},margin:{defaultValue:null,description:`The margin of the component.
Use 1-12 for 4px-48px or 'auto'.
Accepts responsive props in the form of an array.`,name:"margin",required:!1,type:{name:"SizeNumberAndAuto | SizeNumberAndAutoArray"}},marginTop:{defaultValue:null,description:`The margin-top of the component.
Use 1-12 for 4px-48px or 'auto'.
Accepts responsive props in the form of an array.`,name:"marginTop",required:!1,type:{name:"SizeNumberAndAuto | SizeNumberAndAutoArray"}},marginBottom:{defaultValue:null,description:`The margin-bottom of the component.
Use 1-12 for 4px-48px or 'auto'.
Accepts responsive props in the form of an array.`,name:"marginBottom",required:!1,type:{name:"SizeNumberAndAuto | SizeNumberAndAutoArray"}},marginRight:{defaultValue:null,description:`The margin-right of the component.
Use 1-12 for 4px-48px or 'auto'.
Accepts responsive props in the form of an array.`,name:"marginRight",required:!1,type:{name:"SizeNumberAndAuto | SizeNumberAndAutoArray"}},marginLeft:{defaultValue:null,description:`The margin-left of the component.
Use 1-12 for 4px-48px or 'auto'.
Accepts responsive props in the form of an array.`,name:"marginLeft",required:!1,type:{name:"SizeNumberAndAuto | SizeNumberAndAutoArray"}},marginInline:{defaultValue:null,description:`The margin-inline of the component.
Use 1-12 for 4px-48px or 'auto'.
Accepts responsive props in the form of an array.`,name:"marginInline",required:!1,type:{name:"SizeNumberAndAuto | SizeNumberAndAutoArray"}},marginInlineStart:{defaultValue:null,description:`The margin-inline-start of the component.
Use 1-12 for 4px-48px or 'auto'.
Accepts responsive props in the form of an array.`,name:"marginInlineStart",required:!1,type:{name:"SizeNumberAndAuto | SizeNumberAndAutoArray"}},marginInlineEnd:{defaultValue:null,description:`The margin-inline-end of the component.
Use 1-12 for 4px-48px or 'auto'.
Accepts responsive props in the form of an array.`,name:"marginInlineEnd",required:!1,type:{name:"SizeNumberAndAuto | SizeNumberAndAutoArray"}},padding:{defaultValue:null,description:`The padding of the component.
Use 1-12 for 4px-48px.
Accepts responsive props in the form of an array.`,name:"padding",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},paddingTop:{defaultValue:null,description:`The padding-top of the component.
Use 1-12 for 4px-48px.
Accepts responsive props in the form of an array.`,name:"paddingTop",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},paddingBottom:{defaultValue:null,description:`The padding-bottom of the component.
Use 1-12 for 4px-48px.
Accepts responsive props in the form of an array.`,name:"paddingBottom",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},paddingRight:{defaultValue:null,description:`The padding-right of the component.
Use 1-12 for 4px-48px.
Accepts responsive props in the form of an array.`,name:"paddingRight",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},paddingLeft:{defaultValue:null,description:`The padding-left of the component.
Use 1-12 for 4px-48px.
Accepts responsive props in the form of an array.`,name:"paddingLeft",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},paddingInline:{defaultValue:null,description:`The padding-inline of the component.
Use 1-12 for 4px-48px.
Accepts responsive props in the form of an array.`,name:"paddingInline",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},paddingInlineStart:{defaultValue:null,description:`The padding-inline-start of the component.
Use 1-12 for 4px-48px.
Accepts responsive props in the form of an array.`,name:"paddingInlineStart",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},paddingInlineEnd:{defaultValue:null,description:`The padding-inline-end of the component.
Use 1-12 for 4px-48px.
Accepts responsive props in the form of an array.`,name:"paddingInlineEnd",required:!1,type:{name:"SizeNumber | SizeNumberArray"}},borderColor:{defaultValue:null,description:`The border color of the AvatarFavicon
Defaults to Color.transparent`,name:"borderColor",required:!1,type:{name:"enum",value:[{value:'"border-default"'},{value:'"border-muted"'},{value:'"primary-default"'},{value:'"primary-alternative"'},{value:'"primary-muted"'},{value:'"error-default"'},{value:'"error-alternative"'},{value:'"error-muted"'},{value:'"warning-default"'},{value:'"warning-muted"'},{value:'"success-default"'},{value:'"success-muted"'},{value:'"info-default"'},{value:'"info-muted"'},{value:'"mainnet"'},{value:'"goerli"'},{value:'"sepolia"'},{value:'"linea-goerli"'},{value:'"linea-sepolia"'},{value:'"linea-mainnet"'},{value:'"transparent"'},{value:'"localhost"'},{value:'"background-default"'}]}},borderRadius:{defaultValue:null,description:`The border-radius of the component.
Use BorderRadius enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"borderRadius",required:!1,type:{name:"BorderRadius | BorderRadiusArray"}},borderStyle:{defaultValue:null,description:`The border-style of the component.
Use BorderStyle enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"borderStyle",required:!1,type:{name:"BorderStyle | BorderStyleArray"}},alignItems:{defaultValue:null,description:`The align-items of the component.
Use AlignItems enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"alignItems",required:!1,type:{name:"AlignItems | AlignItemsArray"}},justifyContent:{defaultValue:null,description:`The justify-content of the component.
Use JustifyContent enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"justifyContent",required:!1,type:{name:"JustifyContent | JustifyContentArray"}},textAlign:{defaultValue:null,description:`The text-align of the component.
Use TextAlign enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"textAlign",required:!1,type:{name:"TextAlign | TextAlignArray"}},display:{defaultValue:null,description:`The display of the component.
Use Display enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"display",required:!1,type:{name:"Display | DisplayArray"}},width:{defaultValue:null,description:`The width of the component.
Use BlockSize enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"width",required:!1,type:{name:"BlockSize | BlockSizeArray"}},minWidth:{defaultValue:null,description:`The min-width of the component.
Use BlockSize enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"minWidth",required:!1,type:{name:"BlockSize | BlockSizeArray"}},height:{defaultValue:null,description:`The height of the component.
Use BlockSize enum from '../../../helpers/constants/design-system';
Accepts responsive props in the form of an array.`,name:"height",required:!1,type:{name:"BlockSize | BlockSizeArray"}},backgroundColor:{defaultValue:null,description:`The background color of the AvatarBase
Defaults to Color.backgroundAlternative`,name:"backgroundColor",required:!1,type:{name:"enum",value:[{value:'"background-default"'},{value:'"background-alternative"'},{value:'"background-muted"'},{value:'"background-section"'},{value:'"background-subsection"'},{value:'"background-alternative-soft"'},{value:'"background-hover"'},{value:'"background-pressed"'},{value:'"icon-default"'},{value:'"icon-alternative"'},{value:'"icon-muted"'},{value:'"overlay-default"'},{value:'"overlay-alternative"'},{value:'"primary-default"'},{value:'"primary-alternative"'},{value:'"primary-muted"'},{value:'"error-default"'},{value:'"error-alternative"'},{value:'"error-muted"'},{value:'"warning-default"'},{value:'"warning-muted"'},{value:'"success-default"'},{value:'"success-muted"'},{value:'"info-default"'},{value:'"info-muted"'},{value:'"mainnet"'},{value:'"goerli"'},{value:'"sepolia"'},{value:'"linea-goerli"'},{value:'"linea-sepolia"'},{value:'"linea-mainnet"'},{value:'"transparent"'},{value:'"localhost"'}]}},color:{defaultValue:null,description:`The color of the text inside the AvatarBase
Defaults to TextColor.textDefault`,name:"color",required:!1,type:{name:"enum",value:[{value:'"text-default"'},{value:'"text-alternative"'},{value:'"text-alternative-soft"'},{value:'"text-muted"'},{value:'"icon-default"'},{value:'"icon-alternative"'},{value:'"icon-muted"'},{value:'"icon-inverse"'},{value:'"overlay-inverse"'},{value:'"primary-default"'},{value:'"primary-inverse"'},{value:'"error-default"'},{value:'"error-alternative"'},{value:'"error-inverse"'},{value:'"success-default"'},{value:'"success-inverse"'},{value:'"warning-default"'},{value:'"warning-inverse"'},{value:'"info-default"'},{value:'"info-inverse"'},{value:'"inherit"'},{value:'"goerli"'},{value:'"sepolia"'},{value:'"linea-goerli"'},{value:'"linea-goerli-inverse"'},{value:'"linea-sepolia"'},{value:'"linea-sepolia-inverse"'},{value:'"linea-mainnet"'},{value:'"linea-mainnet-inverse"'},{value:'"goerli-inverse"'},{value:'"sepolia-inverse"'},{value:'"transparent"'}]}},src:{defaultValue:null,description:"The src accepts the string of the image to be rendered",name:"src",required:!1,type:{name:"string"}},fallbackIconProps:{defaultValue:null,description:"Props for the fallback icon. All Icon props can be used",name:"fallbackIconProps",required:!1,type:{name:'IconProps<"span">'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/snaps/snap-icon/snap-icon.tsx#SnapIcon"]={docgenInfo:SnapIcon.__docgenInfo,name:"SnapIcon",path:"ui/components/app/snaps/snap-icon/snap-icon.tsx#SnapIcon"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/multichain/pages/permissions-page/connection-list-item.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Chaos:()=>Chaos,Default:()=>Default,MultipleConnections:()=>MultipleConnections,Snap:()=>Snap,__namedExportsOrder:()=>__namedExportsOrder,default:()=>connection_list_item_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),store=__webpack_require__("./ui/store/store.ts"),network=__webpack_require__("./shared/constants/network.ts"),mock_state=__webpack_require__("./test/data/mock-state.json"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),SubjectMetadataController=__webpack_require__("./node_modules/@metamask/permission-controller/dist/SubjectMetadataController.mjs"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),util=__webpack_require__("./ui/helpers/utils/util.js"),snap_icon=__webpack_require__("./ui/components/app/snaps/snap-icon/index.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),account_tree=__webpack_require__("./ui/selectors/multichain-accounts/account-tree.ts"),ConnectionListItem=function(param){var connection=param.connection,onClick=param.onClick,t=(0,useI18nContext.P)(),isSnap=connection.subjectType===SubjectMetadataController.P.Snap,permittedChains=(0,es.d4)(function(state){return(0,selectors.FuI)(state,connection.origin)}),accountGroups=(0,es.d4)(account_tree.gN),isState2Enabled=(0,es.d4)(selectors.RUH),accountAddressSet=(0,react.useMemo)(function(){if(!isState2Enabled)return null;var set=new Set;return(null!=accountGroups?accountGroups:[]).forEach(function(group){var _group_accounts;(null!=(_group_accounts=group.accounts)?_group_accounts:[]).forEach(function(account){set.add(account.address)})}),set},[isState2Enabled,accountGroups]),accountsToShow=(0,react.useMemo)(function(){if(!isState2Enabled)return null!=(_connection_addresses_length=null==(_connection_addresses1=connection.addresses)?void 0:_connection_addresses1.length)?_connection_addresses_length:0;if(!accountAddressSet||!(null==(_connection_addresses=connection.addresses)?void 0:_connection_addresses.length))return 0;var count=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _connection_addresses,_connection_addresses1,_connection_addresses_length,_step,_iterator=connection.addresses[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var address=_step.value;accountAddressSet.has(address)&&(count+=1)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return count},[isState2Enabled,accountAddressSet,connection.addresses]);return react.createElement(component_library.az,{"data-testid":"connection-list-item",as:"button",display:design_system.nl.Flex,flexDirection:design_system.bo.Row,alignItems:design_system.k2.baseline,width:design_system.Zf.Full,backgroundColor:design_system.i0.backgroundDefault,onClick:onClick,padding:4,gap:4,className:"multichain-connection-list-item"},react.createElement(component_library.az,{display:design_system.nl.Flex,alignItems:design_system.k2.center,style:{alignSelf:"center"}},isSnap?react.createElement(snap_icon.W,{className:"connection-list-item__snap-avatar",snapId:connection.id,avatarSize:component_library.lK.Md}):react.createElement(component_library.eK,{"data-testid":"connection-list-item__avatar-favicon",src:connection.iconUrl})),react.createElement(component_library.az,{display:design_system.nl.Flex,flexDirection:design_system.bo.Column,width:design_system.Zf.FiveTwelfths,style:{alignSelf:"center",flexGrow:"1"}},react.createElement(component_library.EY,{variant:design_system.J3.bodyMd,textAlign:design_system.nO.Left,ellipsis:!0},isSnap?connection.packageName:(0,util.US)(connection.origin)),isSnap?null:react.createElement(component_library.az,{display:design_system.nl.Flex,flexDirection:design_system.bo.Row,alignItems:design_system.k2.center,gap:1},react.createElement(component_library.EY,{as:"span",width:design_system.Zf.Max,color:design_system.r7.textAlternative,variant:design_system.J3.bodyMd},accountsToShow," ",t(1===accountsToShow?"accountSmallCase":"accountsSmallCase"),"• ",permittedChains.length," ",t("networksSmallCase")))),react.createElement(component_library.az,{display:design_system.nl.Flex,justifyContent:design_system.A9.flexEnd,alignItems:design_system.k2.center,style:{flex:"1",alignSelf:"center"},gap:2},react.createElement(component_library.In,{display:design_system.nl.Flex,name:component_library.$M.ArrowRight,color:design_system.Li.iconDefault,size:component_library.lK.Sm,backgroundColor:design_system.i0.backgroundDefault})))};ConnectionListItem.propTypes={connection:prop_types_default().object.isRequired,onClick:prop_types_default().func.isRequired},ConnectionListItem.__docgenInfo={description:"",methods:[],displayName:"ConnectionListItem",props:{connection:{description:"The connection data to display",type:{name:"object"},required:!0},onClick:{description:"The function to call when the connection is clicked",type:{name:"func"},required:!0}}};var connection_list_item_stories_store=(0,store.A)(mock_state);let connection_list_item_stories={title:"Components/Multichain/ConnectionListItem",component:ConnectionListItem,parameters:{docs:{description:{component:"A component for displaying connection information in a list item format."}},controls:{sort:"alpha"}},argTypes:{connection:{control:"object",description:"The connection data to display"},onClick:{control:!1,description:"The function to call when the connection is clicked",action:"clicked"}},args:{connection:{extensionId:null,iconUrl:"https://app.metamask.io/favicon.png",name:"MetaMask Portfolio",origin:"https://app.metamask.io",subjectType:"website",addresses:["0xaaaF07C80ce267F3132cE7e6048B66E6E669365B","0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1"],addressToNameMap:{"0xaaaF07C80ce267F3132cE7e6048B66E6E669365B":"TestAddress1","0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"TestAddress2"},networkIconUrl:network.wUc,networkName:"Test Dapp Network"},onClick:function(){return console.log("clicked")}},decorators:[function(story){return react.createElement(es.Kq,{store:connection_list_item_stories_store},story())}]};var Template=function(args){return react.createElement("div",{style:{width:"350px",border:"1px solid var(--color-border-muted)"}},react.createElement(ConnectionListItem,args))},Default=Template.bind({});Default.storyName="Default";var Chaos=Template.bind({});Chaos.args={connection:{extensionId:null,iconUrl:"https://app.metamask.io/favicon.png",name:"Connect".repeat(100),origin:"https://app.metamask.io",subjectType:"website",addresses:["0xaaaF07C80ce267F3132cE7e6048B66E6E669365B","0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1","0xcccF07C80ce267F3132cE7e6048B66E6E669365B","0xdddD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1","0xeeeF07C80ce267F3132cE7e6048B66E6E669365B","0xfffD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1","0x999F07C80ce267F3132cE7e6048B66E6E669365B","0x888D671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1","0x777F07C80ce267F3132cE7e6048B66E6E669365B","0x666D671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1"],addressToNameMap:{"0xaaaF07C80ce267F3132cE7e6048B66E6E669365B":"TestAddress1","0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"TestAddress2","0xcccF07C80ce267F3132cE7e6048B66E6E669365B":"TestAddress3","0xdddD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"TestAddress4","0xeeeF07C80ce267F3132cE7e6048B66E6E669365B":"TestAddress5","0xfffD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"TestAddress6","0x999F07C80ce267F3132cE7e6048B66E6E669365B":"TestAddress7","0x888D671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"TestAddress8","0x777F07C80ce267F3132cE7e6048B66E6E669365B":"TestAddress9","0x666D671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"TestAddress10"},networkIconUrl:network.wUc,networkName:"Test Dapp Network"},onClick:function(){var _Chaos_args;console.log("".concat(routes.Jj,"/").concat(encodeURIComponent((null==(_Chaos_args=Chaos.args)?void 0:_Chaos_args.connection.origin)||"")))}};var Snap=Template.bind({});Snap.args={connection:{extensionId:null,iconUrl:"https://app.metamask.io/favicon.png",name:"Connect".repeat(100),packageName:"@metamask/storybooksnap",subjectType:"snap",addresses:["0xaaaF07C80ce267F3132cE7e6048B66E6E669365B","0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1"],addressToNameMap:{"0xaaaF07C80ce267F3132cE7e6048B66E6E669365B":"TestAddress1","0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"TestAddress2"}},onClick:function(){var _Snap_args;return console.log("".concat(routes.Jj,"/").concat(encodeURIComponent((null==(_Snap_args=Snap.args)?void 0:_Snap_args.connection.origin)||"")))}};var MultipleConnections=function(){return react.createElement("div",{style:{width:"350px",margin:"0 auto"}},react.createElement("div",{style:{border:"1px solid var(--color-border-muted)",marginBottom:"8px"}},react.createElement(ConnectionListItem,{connection:{extensionId:null,iconUrl:"https://app.metamask.io/favicon.png",name:"MetaMask Portfolio",origin:"https://app.metamask.io",subjectType:"website",addresses:["0xaaaF07C80ce267F3132cE7e6048B66E6E669365B","0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1"],addressToNameMap:{"0xaaaF07C80ce267F3132cE7e6048B66E6E669365B":"TestAddress1","0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"TestAddress2"},networkIconUrl:network.wUc,networkName:"Test Dapp Network"},onClick:function(){return console.log("Portfolio clicked")}})),react.createElement("div",{style:{border:"1px solid var(--color-border-muted)",marginBottom:"8px"}},react.createElement(ConnectionListItem,{connection:{extensionId:null,iconUrl:"https://uniswap.org/favicon.ico",name:"Uniswap",origin:"https://uniswap.org",subjectType:"website",addresses:["0xcccF07C80ce267F3132cE7e6048B66E6E669365B","0xdddD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1","0xeeeF07C80ce267F3132cE7e6048B66E6E669365B"],addressToNameMap:{"0xcccF07C80ce267F3132cE7e6048B66E6E669365B":"Trading Account","0xdddD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1":"Liquidity Pool","0xeeeF07C80ce267F3132cE7e6048B66E6E669365B":"Staking Account"},networkIconUrl:network.wUc,networkName:"Ethereum Mainnet"},onClick:function(){return console.log("Uniswap clicked")}})),react.createElement("div",{style:{border:"1px solid var(--color-border-muted)"}},react.createElement(ConnectionListItem,{connection:{extensionId:null,iconUrl:"https://app.metamask.io/favicon.png",name:"Test Snap",packageName:"@metamask/test-snap",subjectType:"snap",addresses:["0xfffF07C80ce267F3132cE7e6048B66E6E669365B"],addressToNameMap:{"0xfffF07C80ce267F3132cE7e6048B66E6E669365B":"Snap Account"}},onClick:function(){return console.log("Snap clicked")}})))};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:`args => <div style={{
  width: '350px',
  border: '1px solid var(--color-border-muted)'
}}>
    <ConnectionListItem {...args} />
  </div>`,...Default.parameters?.docs?.source}}},Chaos.parameters={...Chaos.parameters,docs:{...Chaos.parameters?.docs,source:{originalSource:`args => <div style={{
  width: '350px',
  border: '1px solid var(--color-border-muted)'
}}>
    <ConnectionListItem {...args} />
  </div>`,...Chaos.parameters?.docs?.source}}},Snap.parameters={...Snap.parameters,docs:{...Snap.parameters?.docs,source:{originalSource:`args => <div style={{
  width: '350px',
  border: '1px solid var(--color-border-muted)'
}}>
    <ConnectionListItem {...args} />
  </div>`,...Snap.parameters?.docs?.source}}},MultipleConnections.parameters={...MultipleConnections.parameters,docs:{...MultipleConnections.parameters?.docs,source:{originalSource:`() => <div style={{
  width: '350px',
  margin: '0 auto'
}}>
    <div style={{
    border: '1px solid var(--color-border-muted)',
    marginBottom: '8px'
  }}>
      <ConnectionListItem connection={{
      extensionId: null,
      iconUrl: 'https://app.metamask.io/favicon.png',
      name: 'MetaMask Portfolio',
      origin: 'https://app.metamask.io',
      subjectType: 'website',
      addresses: ['0xaaaF07C80ce267F3132cE7e6048B66E6E669365B', '0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1'],
      addressToNameMap: {
        '0xaaaF07C80ce267F3132cE7e6048B66E6E669365B': 'TestAddress1',
        '0xbbbD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1': 'TestAddress2'
      },
      networkIconUrl: ETH_TOKEN_IMAGE_URL,
      networkName: 'Test Dapp Network'
    }} onClick={() => console.log('Portfolio clicked')} />
    </div>
    <div style={{
    border: '1px solid var(--color-border-muted)',
    marginBottom: '8px'
  }}>
      <ConnectionListItem connection={{
      extensionId: null,
      iconUrl: 'https://uniswap.org/favicon.ico',
      name: 'Uniswap',
      origin: 'https://uniswap.org',
      subjectType: 'website',
      addresses: ['0xcccF07C80ce267F3132cE7e6048B66E6E669365B', '0xdddD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1', '0xeeeF07C80ce267F3132cE7e6048B66E6E669365B'],
      addressToNameMap: {
        '0xcccF07C80ce267F3132cE7e6048B66E6E669365B': 'Trading Account',
        '0xdddD671F1Fcc94bCF0ebC6Ec4790Da35E8d5e1E1': 'Liquidity Pool',
        '0xeeeF07C80ce267F3132cE7e6048B66E6E669365B': 'Staking Account'
      },
      networkIconUrl: ETH_TOKEN_IMAGE_URL,
      networkName: 'Ethereum Mainnet'
    }} onClick={() => console.log('Uniswap clicked')} />
    </div>
    <div style={{
    border: '1px solid var(--color-border-muted)'
  }}>
      <ConnectionListItem connection={{
      extensionId: null,
      iconUrl: 'https://app.metamask.io/favicon.png',
      name: 'Test Snap',
      packageName: '@metamask/test-snap',
      subjectType: 'snap',
      addresses: ['0xfffF07C80ce267F3132cE7e6048B66E6E669365B'],
      addressToNameMap: {
        '0xfffF07C80ce267F3132cE7e6048B66E6E669365B': 'Snap Account'
      }
    }} onClick={() => console.log('Snap clicked')} />
    </div>
  </div>`,...MultipleConnections.parameters?.docs?.source}}};let __namedExportsOrder=["Default","Chaos","Snap","MultipleConnections"]},"./ui/selectors/multichain-accounts/account-tree.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ER:()=>getSelectedAccountGroup,F8:()=>getWalletsWithAccountsSimplified,Mx:()=>getMultichainAccountsByWalletId,No:()=>getInternalAccountsFromGroupById,QI:()=>getWallet,SL:()=>getAccountTree,VR:()=>getMultichainAccountGroupById,X1:()=>getAllAccountGroups,gN:()=>getAccountGroupWithInternalAccounts,lh:()=>getWalletsWithAccounts,uW:()=>getNetworkAddressCount,v:()=>getWalletIdAndNameByAccountAddress,zH:()=>getInternalAccountBySelectedAccountGroupAndCaip});var _metamask_account_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/account-api/dist/index.mjs"),reselect__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/reselect/dist/reselect.mjs"),_metamask_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@metamask/utils/dist/caip-types.mjs"),_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./shared/modules/selectors/util.js"),_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/selectors/selectors.js"),_accounts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/selectors/accounts.ts"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/selectors/multichain-accounts/utils.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var getAccountTree=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(function(state){return state.metamask.accountTree},function(accountTree){return accountTree}),createConsolidatedWallets=function(internalAccounts,accountTree,connectedAccounts,selectedAccount,pinnedAccounts,hiddenAccounts,getAccountsForGroup){var pinnedAccountsSet=new Set(pinnedAccounts),hiddenAccountsSet=new Set(hiddenAccounts),connectedAccountIdsSet=new Set(connectedAccounts.map(function(account){return account.id})),accountsById=internalAccounts.reduce(function(accounts,account){return accounts[account.id]=account,accounts},{});return Object.entries(accountTree.wallets).reduce(function(consolidatedWallets,param){var _param=_sliced_to_array(param,2),walletId=_param[0],wallet=_param[1];consolidatedWallets[walletId]={id:walletId,type:wallet.type,metadata:wallet.metadata,groups:{}};var allAccountIdsInWallet=Array.from(new Set(Object.values(wallet.groups).flatMap(function(group){return group.accounts})));return Object.entries(wallet.groups).forEach(function(param,groupIndex){var _param=_sliced_to_array(param,2),groupId=_param[0],group=_param[1],accountsFromGroup=getAccountsForGroup(group.accounts,groupIndex,allAccountIdsInWallet,accountsById).map(function(accountId){var accountWithMetadata=_object_spread({},accountsById[accountId]);return accountWithMetadata.pinned=pinnedAccountsSet.has(accountWithMetadata.address),accountWithMetadata.hidden=hiddenAccountsSet.has(accountWithMetadata.address),accountWithMetadata.active=selectedAccount.id===accountWithMetadata.id&&connectedAccountIdsSet.has(accountWithMetadata.id),accountWithMetadata});consolidatedWallets[walletId].groups[groupId]={id:groupId,type:group.type,metadata:group.metadata,accounts:accountsFromGroup}}),consolidatedWallets},{})},getWalletsWithAccounts=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(_selectors__WEBPACK_IMPORTED_MODULE_2__.zi3,getAccountTree,_selectors__WEBPACK_IMPORTED_MODULE_2__.v8m,_accounts__WEBPACK_IMPORTED_MODULE_3__._r,_selectors__WEBPACK_IMPORTED_MODULE_2__.DRO,_selectors__WEBPACK_IMPORTED_MODULE_2__.Znp,function(internalAccounts,accountTree,connectedAccounts,selectedAccount,pinnedAccounts,hiddenAccounts){return createConsolidatedWallets(internalAccounts,accountTree,connectedAccounts,selectedAccount,pinnedAccounts,hiddenAccounts,function(groupAccounts){return groupAccounts})}),getWalletsWithAccountsSimplified=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(_selectors__WEBPACK_IMPORTED_MODULE_2__.zi3,getAccountTree,_selectors__WEBPACK_IMPORTED_MODULE_2__.v8m,_accounts__WEBPACK_IMPORTED_MODULE_3__._r,_selectors__WEBPACK_IMPORTED_MODULE_2__.DRO,_selectors__WEBPACK_IMPORTED_MODULE_2__.Znp,function(internalAccounts,accountTree,connectedAccounts,selectedAccount,pinnedAccounts,hiddenAccounts){return createConsolidatedWallets(internalAccounts,accountTree,connectedAccounts,selectedAccount,pinnedAccounts,hiddenAccounts,function(_,groupIndex,allAccountIdsInWallet,accountsById){return 0===groupIndex?Object.keys(accountsById).filter(function(accountId){return allAccountIdsInWallet.includes(accountId)}):[]})}),getWalletIdAndNameByAccountAddress=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getWalletsWithAccounts,function(_,address){return address},function(walletsWithAccounts,address){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.entries(walletsWithAccounts)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step_value=_sliced_to_array(_step.value,2),walletId=_step_value[0],wallet=_step_value[1],_iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=Object.values(wallet.groups)[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0)if(_step1.value.accounts.find(function(acc){return acc.address.toLowerCase()===address.toLowerCase()}))return{id:walletId,name:wallet.metadata.name}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return null}),getMultichainAccountGroupById=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAccountTree,function(_,accountId){return accountId},function(accountTree,accountId){var wallet=accountTree.wallets[(0,_utils__WEBPACK_IMPORTED_MODULE_4__.q)(accountId)];return null==wallet?void 0:wallet.groups[accountId]}),getAllAccountGroups=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAccountTree,function(accountTree){return Object.values(accountTree.wallets).flatMap(function(wallet){return Object.values(wallet.groups)})}),getMultichainAccountGroups=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAllAccountGroups,function(accountGroups){return accountGroups.filter(function(group){return group.id.startsWith(_metamask_account_api__WEBPACK_IMPORTED_MODULE_0__.ZG.Entropy)})});(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAllAccountGroups,function(accountGroups){return accountGroups.filter(function(group){return!group.id.startsWith(_metamask_account_api__WEBPACK_IMPORTED_MODULE_0__.ZG.Entropy)})});var getAccountGroupWithInternalAccounts=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAllAccountGroups,_accounts__WEBPACK_IMPORTED_MODULE_3__.at,function(accountGroups,internalAccounts){return accountGroups.map(function(accountGroup){return _object_spread_props(_object_spread({},accountGroup),{accounts:accountGroup.accounts.map(function(accountId){return internalAccounts.find(function(account){return account.id===accountId})}).filter(function(account){return void 0!==account})})})}),getMultichainAccountsToScopesMap=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getMultichainAccountGroups,_accounts__WEBPACK_IMPORTED_MODULE_3__.at,function(multichainAccounts,internalAccounts){var multichainAccountsToScopesMap=new Map;return multichainAccounts.forEach(function(multichainAccount){var multichainAccountIdToCaip25Ids=new Map;Object.values(multichainAccount.accounts).forEach(function(internalAccountId){var internalAccount=internalAccounts.find(function(account){return account.id===internalAccountId});if(internalAccount){var caip25Id=_sliced_to_array(internalAccount.scopes,1)[0];if(caip25Id){var _caip25Id_split=_sliced_to_array(caip25Id.split(":"),2),namespace=_caip25Id_split[0],reference=_caip25Id_split[1];multichainAccountIdToCaip25Ids.set(caip25Id,"".concat(namespace,":").concat(reference,":").concat(internalAccount.address))}}}),multichainAccountsToScopesMap.set(multichainAccount.id,multichainAccountIdToCaip25Ids)}),multichainAccountsToScopesMap});(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getMultichainAccountsToScopesMap,function(_,accountGroup,scope){return{accountGroup:accountGroup,scope:scope}},function(multichainAccountsToScopesMap,param){var accountGroup=param.accountGroup,scope=param.scope,multichainAccountGroup=multichainAccountsToScopesMap.get(accountGroup.id);if(multichainAccountGroup)return multichainAccountGroup.get(scope)}),(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAccountGroupWithInternalAccounts,function(_,scopes){return scopes},function(accountGroupsWithInternalAccounts,scopes){var _scopes_reduce=scopes.reduce(function(acc,scope){return _sliced_to_array(scope.split(":"),1)[0]===_metamask_utils__WEBPACK_IMPORTED_MODULE_5__.wV.Eip155?acc.hasEvmScope=!0:acc.cleanedScopes.push(scope),acc},{cleanedScopes:[],hasEvmScope:!1}),cleanedScopes=_scopes_reduce.cleanedScopes;if(_scopes_reduce.hasEvmScope)return accountGroupsWithInternalAccounts;var scopesToAccountGroupsMap=new Map;return cleanedScopes.forEach(function(scope){var accountGroupsWithScope=accountGroupsWithInternalAccounts.filter(function(accountGroup){return accountGroup.accounts.some(function(internalAccount){return internalAccount.scopes.includes(scope)})});scopesToAccountGroupsMap.set(scope,accountGroupsWithScope)}),Array.from(scopesToAccountGroupsMap.values()).flat()});var getGroupByGroupId=function(wallets,groupId){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.values(wallets)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var wallet=_step.value;if(wallet.groups[groupId])return wallet.groups[groupId]}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return null},getInternalAccountFromGroup=function(group,caipChainId,internalAccounts){if(!group)return null;var sanitizedChainId=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.g)(caipChainId),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=group.accounts[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var internalAccount=internalAccounts[_step.value];if(null==internalAccount?void 0:internalAccount.scopes.includes(sanitizedChainId))return internalAccount}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return null};(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAccountTree,_accounts__WEBPACK_IMPORTED_MODULE_3__.pW,function(_,groupId,caipChainId){return{groupId:groupId,caipChainId:caipChainId}},function(accountTree,internalAccounts,param){var groupId=param.groupId,caipChainId=param.caipChainId;return getInternalAccountFromGroup(getGroupByGroupId(accountTree.wallets,groupId),caipChainId,internalAccounts)});var getSelectedAccountGroup=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAccountTree,function(accountTree){return accountTree.selectedAccountGroup}),getInternalAccountBySelectedAccountGroupAndCaip=(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)(getAccountTree,_accounts__WEBPACK_IMPORTED_MODULE_3__.pW,getSelectedAccountGroup,function(_,caipChainId){return caipChainId},function(accountTree,internalAccounts,selectedAccountGroup,caipChainId){return selectedAccountGroup?getInternalAccountFromGroup(getGroupByGroupId(accountTree.wallets,selectedAccountGroup),caipChainId,internalAccounts):null}),getWallet=(0,reselect__WEBPACK_IMPORTED_MODULE_6__.Mz)(function(state){var _state_metamask_accountTree,_state_metamask;return null==(_state_metamask=state.metamask)||null==(_state_metamask_accountTree=_state_metamask.accountTree)?void 0:_state_metamask_accountTree.wallets},function(_,walletId){return walletId},function(wallets,walletId){return null==wallets?void 0:wallets[walletId]}),getNetworkAddressCount=(0,reselect__WEBPACK_IMPORTED_MODULE_6__.Mz)(getAccountTree,function(_,accountGroupId){return accountGroupId},function(accountTree,accountGroupId){var wallet=accountTree.wallets[(0,_utils__WEBPACK_IMPORTED_MODULE_4__.q)(accountGroupId)];return(null==wallet?void 0:wallet.groups[accountGroupId])?wallet.groups[accountGroupId].accounts.length:0}),getMultichainAccountsByWalletId=(0,reselect__WEBPACK_IMPORTED_MODULE_6__.Mz)(getAccountTree,function(_,walletId){return walletId},function(accountTree,walletId){var wallet=accountTree.wallets[walletId];return null==wallet?void 0:wallet.groups}),getInternalAccountsFromGroupById=(0,reselect__WEBPACK_IMPORTED_MODULE_6__.Mz)(getAccountTree,_accounts__WEBPACK_IMPORTED_MODULE_3__.pW,function(_,groupId){return groupId},function(accountTree,internalAccounts,groupId){if(!groupId)return[];var group=getGroupByGroupId(accountTree.wallets,groupId);return group?group.accounts.map(function(accountId){return internalAccounts[accountId]}).filter(function(account){return!!account}):[]});(0,_shared_modules_selectors_util__WEBPACK_IMPORTED_MODULE_1__._)([getAccountGroupWithInternalAccounts,function(_state,addresses){return new Set(addresses.map(function(address){return address.toLowerCase()}))}],function(accountGroupWithInternalAccounts,addressesSet){var matchingGroups=new Set;return accountGroupWithInternalAccounts.forEach(function(group){group.accounts.some(function(account){return addressesSet.has(account.address.toLowerCase())})&&matchingGroups.add(group)}),_to_consumable_array(matchingGroups)})},"./ui/selectors/multichain-accounts/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>getSanitizedChainId,q:()=>extractWalletIdFromGroupId});var getSanitizedChainId=function(chainId){return chainId.startsWith("eip155")?"eip155:0":chainId},extractWalletIdFromGroupId=function(accountGroupId){if(accountGroupId.startsWith("snap:")){if(accountGroupId.includes("@")&&accountGroupId.includes("/")){var lastSlashIndex=accountGroupId.lastIndexOf("/");return accountGroupId.substring(0,lastSlashIndex)}return accountGroupId.includes("/")?accountGroupId.split("/").slice(0,-1).join("/"):accountGroupId}return accountGroupId.split("/")[0]}}}]);
//# sourceMappingURL=components-multichain-pages-permissions-page-connection-list-item-stories.5d6037fa.iframe.bundle.js.map