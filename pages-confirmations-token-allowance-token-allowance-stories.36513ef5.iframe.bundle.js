"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[8279],{"./node_modules/@metamask/snaps-rpc-methods/dist/esm/endowments/transaction-insight.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{pG:()=>getTransactionOriginCaveat});var _metamask_permission_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/permission-controller/dist/index.js"),_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@metamask/rpc-errors/dist/index.mjs"),_metamask_snaps_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@metamask/snaps-utils/dist/esm/caveats.js"),_metamask_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@metamask/utils/dist/chunk-H4YFDLB7.mjs"),_metamask_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@metamask/utils/dist/chunk-74DGVJVE.mjs"),_caveats__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@metamask/snaps-rpc-methods/dist/esm/endowments/caveats/generic.js");let permissionName=__webpack_require__("./node_modules/@metamask/snaps-rpc-methods/dist/esm/endowments/enum.js").p.TransactionInsight;function validateCaveat(caveat){if(!(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_5__.l$)(caveat,"value")||!(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_5__.PO)(caveat))throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_1__.PY.invalidParams({message:"Expected a plain object."});let{value}=caveat;(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_6__.hu)("boolean"==typeof value,'Expected caveat value to have type "boolean"')}function getTransactionOriginCaveat(permission){return permission?.caveats?((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_6__.hu)(1===permission.caveats.length),(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_6__.hu)(permission.caveats[0].type===_metamask_snaps_utils__WEBPACK_IMPORTED_MODULE_3__.j.TransactionOrigin),permission.caveats[0].value??null):null}Object.freeze({targetName:permissionName,specificationBuilder:_builderOptions=>({permissionType:_metamask_permission_controller__WEBPACK_IMPORTED_MODULE_0__.PermissionType.Endowment,targetName:permissionName,allowedCaveats:[_metamask_snaps_utils__WEBPACK_IMPORTED_MODULE_3__.j.TransactionOrigin,_metamask_snaps_utils__WEBPACK_IMPORTED_MODULE_3__.j.MaxRequestTime],endowmentGetter:_getterOptions=>void 0,validator:(0,_caveats__WEBPACK_IMPORTED_MODULE_4__.S)([{type:_metamask_snaps_utils__WEBPACK_IMPORTED_MODULE_3__.j.TransactionOrigin,optional:!0},{type:_metamask_snaps_utils__WEBPACK_IMPORTED_MODULE_3__.j.MaxRequestTime,optional:!0}]),subjectTypes:[_metamask_permission_controller__WEBPACK_IMPORTED_MODULE_0__.SubjectType.Snap]})}),_metamask_snaps_utils__WEBPACK_IMPORTED_MODULE_3__.j.TransactionOrigin,Object.freeze({type:_metamask_snaps_utils__WEBPACK_IMPORTED_MODULE_3__.j.TransactionOrigin,validator:caveat=>validateCaveat(caveat)})},"./node_modules/@metamask/snaps-sdk/dist/esm/types/handlers/transaction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var SeverityLevel;__webpack_require__.d(__webpack_exports__,{_:()=>SeverityLevel}),(SeverityLevel||(SeverityLevel={})).Critical="critical"},"./ui/pages/confirmations/token-allowance/token-allowance.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AllBannerAlerts:()=>AllBannerAlerts,DefaultStory:()=>DefaultStory,UseNonceField:()=>UseNonceField,default:()=>token_allowance_stories});var _DefaultStory_parameters,_DefaultStory_parameters_docs,_DefaultStory_parameters1,_AllBannerAlerts_parameters,_AllBannerAlerts_parameters_docs,_AllBannerAlerts_parameters1,_UseNonceField_parameters,_UseNonceField_parameters_docs,_UseNonceField_parameters1,react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),test_data=__webpack_require__("./.storybook/test-data.js"),store=__webpack_require__("./ui/store/store.ts"),security_provider=__webpack_require__("./shared/constants/security-provider.ts"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),bignumber=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_default=__webpack_require__.n(bignumber),box=__webpack_require__("./ui/components/ui/box/box.js"),network_account_balance_header=__webpack_require__("./ui/components/app/network-account-balance-header/network-account-balance-header.js"),url_icon=__webpack_require__("./ui/components/ui/url-icon/url-icon.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),i18n=__webpack_require__("./ui/contexts/i18n.js"),contract_token_values=__webpack_require__("./ui/pages/confirmations/components/contract-token-values/contract-token-values.js"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),review_spending_cap=__webpack_require__("./ui/pages/confirmations/components/review-spending-cap/review-spending-cap.js"),page_container=__webpack_require__("./ui/components/ui/page-container/index.js"),contract_details_modal=__webpack_require__("./ui/pages/confirmations/components/contract-details-modal/contract-details-modal.js"),selectors=__webpack_require__("./ui/selectors/index.js"),network=__webpack_require__("./shared/constants/network.ts"),actions=__webpack_require__("./ui/store/actions.ts"),confirm_transaction_duck=__webpack_require__("./ui/ducks/confirm-transaction/confirm-transaction.duck.js"),history_history=__webpack_require__("./ui/ducks/history/history.js"),approve_content_card=__webpack_require__("./ui/pages/confirmations/components/approve-content-card/approve-content-card.js"),custom_spending_cap=__webpack_require__("./ui/pages/confirmations/components/custom-spending-cap/custom-spending-cap.js"),dialog=__webpack_require__("./ui/components/ui/dialog/index.js"),gasFee=__webpack_require__("./ui/contexts/gasFee.js"),confirm_approve_util=__webpack_require__("./ui/pages/confirmations/confirm-approve/confirm-approve.util.js"),app=__webpack_require__("./ui/ducks/app/app.ts"),util=__webpack_require__("./ui/helpers/utils/util.js"),transactions_controller_utils=__webpack_require__("./shared/lib/transactions-controller-utils.js"),tokens=__webpack_require__("./shared/constants/tokens.js"),security_provider_utils=__webpack_require__("./shared/modules/security-provider.utils.ts"),blockaid_banner_alert=__webpack_require__("./ui/pages/confirmations/components/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert.js"),confirm_page_container=__webpack_require__("./ui/pages/confirmations/components/confirm-page-container/index.js");function useSimulationFailureWarning(userAcknowledgedGasMissing){return!!((0,es.v9)(selectors.MN9)||{}).simulationFails&&!userAcknowledgedGasMissing}var simulation_error_message=__webpack_require__("./ui/pages/confirmations/components/simulation-error-message/index.js"),ledger_instruction_field=__webpack_require__("./ui/pages/confirmations/components/ledger-instruction-field/ledger-instruction-field.js"),security_provider_banner_message=__webpack_require__("./ui/pages/confirmations/components/security-provider-banner-message/security-provider-banner-message.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),confirm_page_container_content=__webpack_require__("./ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/index.js"),custom_nonce=__webpack_require__("./ui/pages/confirmations/components/custom-nonce/index.js"),fee_details_component=__webpack_require__("./ui/pages/confirmations/components/fee-details-component/fee-details-component.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}var ALLOWED_HOSTS=["portfolio.metamask.io"];function TokenAllowance(param){var _txData_securityAlertResponse,origin=param.origin,siteImage=param.siteImage,showCustomizeGasModal=param.showCustomizeGasModal,useNonceField=param.useNonceField,currentCurrency=param.currentCurrency,nativeCurrency=param.nativeCurrency,ethTransactionTotal=param.ethTransactionTotal,fiatTransactionTotal=param.fiatTransactionTotal,hexTransactionTotal=param.hexTransactionTotal,hexMinimumTransactionFee=param.hexMinimumTransactionFee,txData=param.txData,isMultiLayerFeeNetwork=param.isMultiLayerFeeNetwork,supportsEIP1559=param.supportsEIP1559,userAddress=param.userAddress,tokenAddress=param.tokenAddress,data=param.data,isSetApproveForAll=param.isSetApproveForAll,isApprovalOrRejection=param.isApprovalOrRejection,decimals=param.decimals,dappProposedTokenAmount=param.dappProposedTokenAmount,currentTokenBalance=param.currentTokenBalance,toAddress=param.toAddress,tokenSymbol=param.tokenSymbol,fromAddressIsLedger=param.fromAddressIsLedger,warning=param.warning,t=(0,react.useContext)(i18n.OO),dispatch=(0,es.I0)(),history=(0,react_router.k6)(),mostRecentOverviewPage=(0,es.v9)(history_history.H7),hostname=new URL(origin).hostname,thisOriginIsAllowedToSkipFirstPage=ALLOWED_HOSTS.includes(hostname),customTokenAmount=(0,es.v9)(selectors.UiF),_useState=_sliced_to_array((0,react.useState)(customTokenAmount),2),customSpendingCap=_useState[0],setCustomSpendingCap=_useState[1],_useState1=_sliced_to_array((0,react.useState)(!1),2),showContractDetails=_useState1[0],setShowContractDetails=_useState1[1],_useState2=_sliced_to_array((0,react.useState)(!1),2),inputChangeInProgress=_useState2[0],setInputChangeInProgress=_useState2[1],_useState3=_sliced_to_array((0,react.useState)(!1),2),showFullTxDetails=_useState3[0],setShowFullTxDetails=_useState3[1],_useState4=_sliced_to_array((0,react.useState)("0"!==dappProposedTokenAmount&&!thisOriginIsAllowedToSkipFirstPage),2),isFirstPage=_useState4[0],setIsFirstPage=_useState4[1],_useState5=_sliced_to_array((0,react.useState)(""),2),errorText=_useState5[0],setErrorText=_useState5[1],_useState6=_sliced_to_array((0,react.useState)(!1),2),userAcknowledgedGasMissing=_useState6[0],setUserAcknowledgedGasMissing=_useState6[1],renderSimulationFailureWarning=useSimulationFailureWarning(userAcknowledgedGasMissing),fromAccount=(0,es.v9)(function(state){return(0,selectors.Wbb)(state,userAddress)}),networkIdentifier=(0,es.v9)(selectors.ZCT),rpcPrefs=(0,es.v9)(selectors.Kzx),unapprovedTxCount=(0,es.v9)(selectors.OqQ),unapprovedTxs=(0,es.v9)(selectors.fvg),useCurrencyRateCheck=(0,es.v9)(selectors.nsI),nextNonce=(0,es.v9)(selectors.COR),customNonceValue=(0,es.v9)(selectors.Dp_),initializeCustomSpendingCap=function(){(!customSpendingCap||""===customSpendingCap)&&dappProposedTokenAmount&&setCustomSpendingCap(dappProposedTokenAmount)};(0,react.useEffect)(function(){initializeCustomSpendingCap()},[]);var replaceCommaToDot=function(inputValue){return inputValue.replace(RegExp(",","gu"),".")},customPermissionAmount=tokens.d0.test(customSpendingCap)?replaceCommaToDot(customSpendingCap).toString():"0",maxTokenAmount=(0,transactions_controller_utils.cp)(tokens.oc,decimals);customSpendingCap.length>1&&Number(customSpendingCap)&&new(bignumber_default())(customSpendingCap).greaterThan(maxTokenAmount)&&(customPermissionAmount=0);var customTxParamsData=customPermissionAmount?(0,confirm_approve_util.s)(data,{customPermissionAmount:customPermissionAmount,decimals:decimals}):null,fullTxData=_object_spread({},txData);customTxParamsData&&(fullTxData=_object_spread_props(_object_spread({},fullTxData),{txParams:_object_spread_props(_object_spread({},fullTxData.txParams),{data:customTxParamsData})}));var fee=(0,es.v9)(function(state){return(0,selectors.nfL)(state,fullTxData)}),methodData=(0,es.v9)(function(state){return(0,selectors.LO0)(state,data)}),balanceError=(0,gasFee.YJ)().balanceError,disableNextButton=isFirstPage&&(""===customSpendingCap||""!==errorText),disableApproveButton=!isFirstPage&&balanceError,networkName=network.kW[fullTxData.chainId]||networkIdentifier,handleReject=function(){dispatch((0,actions.spc)("")),dispatch((0,app.sA)("")),dispatch((0,actions.cKU)(fullTxData)).then(function(){dispatch((0,confirm_transaction_duck.vi)()),history.push(mostRecentOverviewPage)})},handleApprove=function(){var transactionData,name=methodData.name;fee.gasEstimationObject.baseFeePerGas&&(fullTxData.estimatedBaseFee=fee.gasEstimationObject.baseFeePerGas),name&&(fullTxData.contractMethodName=name),dappProposedTokenAmount&&(fullTxData.dappProposedTokenAmount=dappProposedTokenAmount,fullTxData.originalApprovalAmount=dappProposedTokenAmount),customSpendingCap?(fullTxData.customTokenAmount=customSpendingCap,fullTxData.finalApprovalAmount=customSpendingCap):void 0!==dappProposedTokenAmount&&(fullTxData.finalApprovalAmount=dappProposedTokenAmount),currentTokenBalance&&(fullTxData.currentTokenBalance=currentTokenBalance),dispatch((0,actions.spc)("")),dispatch((0,actions.GGx)((transactionData=fullTxData,customNonceValue?_object_spread_props(_object_spread({},transactionData),{customNonceValue:customNonceValue}):transactionData))).then(function(){dispatch((0,confirm_transaction_duck.vi)()),history.push(mostRecentOverviewPage)})},handleNextClick=function(){setShowFullTxDetails(!1),setIsFirstPage(!1)},handleBackClick=function(){setShowFullTxDetails(!1),setIsFirstPage(!0)},handleCancelAll=function(){dispatch((0,actions.K4b)({name:"REJECT_TRANSACTIONS",unapprovedTxCount:unapprovedTxCount,onSubmit:_async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,dispatch((0,actions.irt)((0,util.gs)(unapprovedTxs)))];case 1:return _state.sent(),dispatch((0,confirm_transaction_duck.vi)()),history.push(mostRecentOverviewPage),[2]}})})}))},handleNextNonce=(0,react.useCallback)(function(){dispatch((0,actions.l1k)())},[actions.l1k,dispatch]);(0,react.useEffect)(function(){dispatch((0,actions.l1k)())},[actions.l1k,dispatch]);var handleUpdateCustomNonce=function(value){dispatch((0,actions.spc)(value))},handleCustomizeNonceModal=function(useNonceField,nextNonce,customNonceValue,updateCustomNonce,getNextNonce){dispatch((0,actions.K4b)({name:"CUSTOMIZE_NONCE",useNonceField:useNonceField,nextNonce:nextNonce,customNonceValue:customNonceValue,updateCustomNonce:updateCustomNonce,getNextNonce:getNextNonce}))},isEmpty=""===customSpendingCap,renderContractTokenValues=react.createElement(box.ZP,{marginTop:4,key:tokenAddress},react.createElement(contract_token_values.Z,{tokenName:tokenSymbol,address:tokenAddress,chainId:fullTxData.chainId,rpcPrefs:rpcPrefs})),submitButtonType=(null===(_txData_securityAlertResponse=txData.securityAlertResponse)||void 0===_txData_securityAlertResponse?void 0:_txData_securityAlertResponse.result_type)===security_provider.Bx.Malicious?"danger-primary":"primary";return react.createElement(box.ZP,{className:"token-allowance-container page-container"},react.createElement(box.ZP,null,react.createElement(confirm_page_container.oN,null)),react.createElement(box.ZP,{paddingLeft:4,paddingRight:4,alignItems:design_system.g1.center,display:design_system.bA.FLEX,flexDirection:design_system.uM.ROW,justifyContent:design_system.E0.spaceBetween},react.createElement(box.ZP,null,!isFirstPage&&react.createElement(ui_button.Z,{type:"inline",onClick:function(){return handleBackClick()}},react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",color:design_system.d9.textMuted,fontWeight:design_system.U9.Bold},"<"," ",t("back")))),react.createElement(box.ZP,{textAlign:design_system.PH.End},react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",color:design_system.d9.textMuted,fontWeight:design_system.U9.Bold},isFirstPage?1:2," ",t("ofTextNofM")," 2"))),react.createElement(network_account_balance_header.Z,{networkName:networkName,accountName:fromAccount.name,accountBalance:currentTokenBalance,tokenName:tokenSymbol,accountAddress:userAddress,chainId:fullTxData.chainId}),react.createElement(blockaid_banner_alert.Z,{txData:txData,margin:4}),(0,security_provider_utils.D)(null==txData?void 0:txData.securityProviderResponse)&&react.createElement(security_provider_banner_message.Z,{securityProviderResponse:txData.securityProviderResponse}),warning&&react.createElement(box.ZP,{className:"token-allowance-container__custom-nonce-warning"},react.createElement(confirm_page_container_content.Gs,{warning:warning})),react.createElement(box.ZP,{display:design_system.bA.FLEX,flexDirection:design_system.uM.ROW,justifyContent:design_system.E0.center},react.createElement(box.ZP,{display:design_system.bA.FLEX,alignItems:design_system.g1.center,marginTop:6,marginRight:12,marginBottom:8,marginLeft:12,paddingTop:2,paddingRight:4,paddingBottom:2,paddingLeft:2,borderColor:design_system.Il.borderMuted,borderStyle:design_system.N4.solid,borderWidth:1,className:"token-allowance-container__icon-display-content"},react.createElement(url_icon.Z,{className:"token-allowance-container__icon-display-content__siteimage-identicon",fallbackClassName:"token-allowance-container__icon-display-content__siteimage-identicon",name:origin,url:siteImage}),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",color:design_system.d9.textAlternative,marginLeft:1},origin))),react.createElement(box.ZP,{marginLeft:4,marginRight:4},react.createElement(component_library.xv,{variant:design_system.rK.headingMd,align:design_system.PH.Center},isFirstPage?t("spendingCapRequest",[renderContractTokenValues]):react.createElement(box.ZP,null,t("0"===customSpendingCap||isEmpty?"revokeSpendingCap":"spendingCapRequest",[renderContractTokenValues])))),react.createElement(box.ZP,{marginTop:1,display:design_system.bA.FLEX,flexDirection:design_system.uM.ROW,justifyContent:design_system.E0.center},react.createElement(ui_button.Z,{type:"link",onClick:function(){return setShowContractDetails(!0)},className:"token-allowance-container__verify-link"},react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",color:design_system.Il.primaryDefault},t("verifyContractDetails")))),react.createElement(box.ZP,{margin:[4,4,3,4]},isFirstPage?react.createElement(custom_spending_cap.Z,{txParams:null==txData?void 0:txData.txParams,tokenName:tokenSymbol,currentTokenBalance:currentTokenBalance,dappProposedValue:dappProposedTokenAmount,siteOrigin:origin,passTheErrorText:function(value){return setErrorText(value)},decimals:decimals,setInputChangeInProgress:setInputChangeInProgress,customSpendingCap:customSpendingCap,setCustomSpendingCap:setCustomSpendingCap}):react.createElement(review_spending_cap.Z,{tokenName:tokenSymbol,currentTokenBalance:currentTokenBalance,tokenValue:isNaN(parseFloat(customSpendingCap))?dappProposedTokenAmount:replaceCommaToDot(customSpendingCap),onEdit:function(){return handleBackClick()}})),!isFirstPage&&balanceError&&react.createElement(dialog.Z,{type:"error",className:"send__error-dialog"},t("insufficientFundsForGas")),!isFirstPage&&react.createElement(box.ZP,{className:"token-allowance-container__card-wrapper"},renderSimulationFailureWarning&&react.createElement(box.ZP,{paddingTop:0,paddingRight:4,paddingBottom:4,paddingLeft:4},react.createElement(simulation_error_message.Z,{userAcknowledgedGasMissing:userAcknowledgedGasMissing,setUserAcknowledgedGasMissing:function(){return setUserAcknowledgedGasMissing(!0)}})),react.createElement(approve_content_card.Z,{symbol:react.createElement(component_library.JO,{name:component_library.uH.Tag}),title:t("transactionFee"),showEdit:!0,showAdvanceGasFeeOptions:!0,onEditClick:showCustomizeGasModal,renderTransactionDetailsContent:!0,noBorder:useNonceField||!showFullTxDetails,supportsEIP1559:supportsEIP1559,isMultiLayerFeeNetwork:isMultiLayerFeeNetwork,ethTransactionTotal:ethTransactionTotal,nativeCurrency:nativeCurrency,fullTxData:fullTxData,userAcknowledgedGasMissing:userAcknowledgedGasMissing,renderSimulationFailureWarning:renderSimulationFailureWarning,hexTransactionTotal:hexTransactionTotal,hexMinimumTransactionFee:hexMinimumTransactionFee,fiatTransactionTotal:fiatTransactionTotal,currentCurrency:currentCurrency,useCurrencyRateCheck:useCurrencyRateCheck})),react.createElement(box.ZP,{marginRight:4,marginLeft:4},react.createElement(fee_details_component.Z,{useCurrencyRateCheck:useCurrencyRateCheck,txData:txData,hideGasDetails:isFirstPage})),useNonceField&&react.createElement(box.ZP,{marginTop:4,marginRight:4,marginLeft:4},react.createElement(custom_nonce.Z,{nextNonce:nextNonce,customNonceValue:customNonceValue,showCustomizeNonceModal:function(){return handleCustomizeNonceModal(useNonceField,nextNonce,customNonceValue,handleUpdateCustomNonce,handleNextNonce)}})),react.createElement(box.ZP,{display:design_system.bA.FLEX,flexDirection:design_system.uM.ROW,justifyContent:design_system.E0.center},react.createElement(ui_button.Z,{type:"link",onClick:function(){return setShowFullTxDetails(!showFullTxDetails)},className:"token-allowance-container__view-details"},react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",color:design_system.d9.primaryDefault,marginRight:1},t("viewDetails")),showFullTxDetails?react.createElement("i",{className:"fa fa-sm fa-angle-up"}):react.createElement("i",{className:"fa fa-sm fa-angle-down"}))),showFullTxDetails?react.createElement(box.ZP,{display:design_system.bA.FLEX,flexDirection:design_system.uM.COLUMN,alignItems:design_system.g1.center,className:"token-allowance-container__full-tx-content"},react.createElement(box.ZP,{className:"token-allowance-container__data"},react.createElement(approve_content_card.Z,{symbol:react.createElement("i",{className:"fa fa-file"}),title:t("data"),renderDataContent:!0,noBorder:!0,supportsEIP1559:supportsEIP1559,isSetApproveForAll:isSetApproveForAll,fullTxData:fullTxData,userAcknowledgedGasMissing:userAcknowledgedGasMissing,renderSimulationFailureWarning:renderSimulationFailureWarning,isApprovalOrRejection:isApprovalOrRejection,data:customTxParamsData||data,useCurrencyRateCheck:useCurrencyRateCheck,hexMinimumTransactionFee:hexMinimumTransactionFee}))):null,!isFirstPage&&fromAddressIsLedger&&react.createElement(box.ZP,{paddingLeft:2,paddingRight:2},react.createElement(ledger_instruction_field.Z,{showDataInstruction:!0})),react.createElement(page_container.g$,{cancelText:t("reject"),submitText:t(isFirstPage?"next":"approveButtonText"),onCancel:function(){return handleReject()},onSubmit:function(){return isFirstPage?handleNextClick():handleApprove()},disabled:inputChangeInProgress||disableNextButton||disableApproveButton,submitButtonType:submitButtonType},unapprovedTxCount>1&&react.createElement(ui_button.Z,{type:"link",onClick:function(e){e.preventDefault(),handleCancelAll()}},t("rejectTxsN",[unapprovedTxCount]))),showContractDetails&&react.createElement(contract_details_modal.Z,{tokenName:tokenSymbol,onClose:function(){return setShowContractDetails(!1)},tokenAddress:tokenAddress,toAddress:toAddress,chainId:fullTxData.chainId,rpcPrefs:rpcPrefs}))}function token_allowance_stories_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function token_allowance_stories_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){token_allowance_stories_define_property(target,key,source[key])})}return target}function token_allowance_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function token_allowance_stories_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):token_allowance_stories_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}TokenAllowance.propTypes={origin:prop_types_default().string,siteImage:prop_types_default().string,showCustomizeGasModal:prop_types_default().func,useNonceField:prop_types_default().bool,currentCurrency:prop_types_default().string,nativeCurrency:prop_types_default().string,ethTransactionTotal:prop_types_default().string,fiatTransactionTotal:prop_types_default().string,hexTransactionTotal:prop_types_default().string,hexMinimumTransactionFee:prop_types_default().string,txData:prop_types_default().object,isMultiLayerFeeNetwork:prop_types_default().bool,supportsEIP1559:prop_types_default().bool,userAddress:prop_types_default().string,tokenAddress:prop_types_default().string,data:prop_types_default().string,isSetApproveForAll:prop_types_default().bool,isApprovalOrRejection:prop_types_default().bool,decimals:prop_types_default().string,dappProposedTokenAmount:prop_types_default().string,currentTokenBalance:prop_types_default().string,toAddress:prop_types_default().string,tokenSymbol:prop_types_default().string,fromAddressIsLedger:prop_types_default().bool,warning:prop_types_default().string};var defaultArgs={origin:"https://metamask.github.io",siteImage:"https://metamask.github.io/test-dapp/metamask-fox.svg",useNonceField:!1,currentCurrency:"usd",nativeCurrency:"GoerliETH",ethTransactionTotal:"0.0012",fiatTransactionTotal:"1.6",hexTransactionTotal:"0x44364c5bb0000",isMultiLayerFeeNetwork:!1,supportsEIP1559:!1,userAddress:"0x9d0ba4ddac06032527b140912ec808ab9451b788",tokenAddress:"0x55797717b9947b31306f4aac7ad1365c6e3923bd",data:"0x095ea7b30000000000000000000000009bc5baf874d2da8d216ae9f137804184ee5afef40000000000000000000000000000000000000000000000000000000000011170",isSetApproveForAll:!1,setApproveForAllArg:!1,decimals:"4",dappProposedTokenAmount:"7",currentTokenBalance:"10",toAddress:"0x9bc5baf874d2da8d216ae9f137804184ee5afef4",tokenSymbol:"TST",fromAddressIsLedger:!1,txData:{id:0xad590f2e974ef,time:1664449552289,status:"unapproved",originalGasEstimate:"0xea60",userEditedGasLimit:!1,chainId:"0x3",loadingDefaults:!1,dappSuggestedGasFees:{gasPrice:"0x4a817c800",gas:"0xea60"},sendFlowHistory:[],txParams:{from:"0x9d0ba4ddac06032527b140912ec808ab9451b788",to:"0x55797717b9947b31306f4aac7ad1365c6e3923bd",value:"0x0",data:"0x095ea7b30000000000000000000000009bc5baf874d2da8d216ae9f137804184ee5afef40000000000000000000000000000000000000000000000000000000000011170",gas:"0xea60",maxFeePerGas:"0x4a817c800",maxPriorityFeePerGas:"0x4a817c800"},origin:"https://metamask.github.io",type:"approve",history:[{id:0xad590f2e974ef,time:1664449552289,status:"unapproved",originalGasEstimate:"0xea60",userEditedGasLimit:!1,chainId:"0x3",loadingDefaults:!0,dappSuggestedGasFees:{gasPrice:"0x4a817c800",gas:"0xea60"},sendFlowHistory:[],txParams:{from:"0x9d0ba4ddac06032527b140912ec808ab9451b788",to:"0x55797717b9947b31306f4aac7ad1365c6e3923bd",value:"0x0",data:"0x095ea7b30000000000000000000000009bc5baf874d2da8d216ae9f137804184ee5afef40000000000000000000000000000000000000000000000000000000000011170",gas:"0xea60",gasPrice:"0x4a817c800"},origin:"https://metamask.github.io",type:"approve"},[{op:"remove",path:"/txParams/gasPrice",note:"Added new unapproved transaction.",timestamp:1664449553939},{op:"add",path:"/txParams/maxFeePerGas",value:"0x4a817c800"},{op:"add",path:"/txParams/maxPriorityFeePerGas",value:"0x4a817c800"},{op:"replace",path:"/loadingDefaults",value:!1},{op:"add",path:"/userFeeLevel",value:"custom"},{op:"add",path:"/defaultGasEstimates",value:{estimateType:"custom",gas:"0xea60",maxFeePerGas:"0x4a817c800",maxPriorityFeePerGas:"0x4a817c800"}}]],userFeeLevel:"custom",defaultGasEstimates:{estimateType:"custom",gas:"0xea60",maxFeePerGas:"0x4a817c800",maxPriorityFeePerGas:"0x4a817c800"}}};let token_allowance_stories={title:"Pages/TokenAllowance",argTypes:{origin:{control:"text"},siteImage:{control:"text"},showCustomizeGasModal:{action:"showCustomizeGasModal"},useNonceField:{control:"boolean"},currentCurrency:{control:"text"},nativeCurrency:{control:"text"},ethTransactionTotal:{control:"text"},fiatTransactionTotal:{control:"text"},hexTransactionTotal:{control:"text"},isMultiLayerFeeNetwork:{control:"boolean"},supportsEIP1559:{control:"boolean"},userAddress:{control:"text"},tokenAddress:{control:"text"},data:{control:"text"},isSetApproveForAll:{control:"boolean"},setApproveForAllArg:{control:"boolean"},decimals:{control:"text"},dappProposedTokenAmount:{control:"text"},currentTokenBalance:{control:"text"},toAddress:{control:"text"},tokenSymbol:{control:"text"},txData:{control:"object"},warning:{control:"text"},fromAddressIsLedger:{control:"boolean"}},args:token_allowance_stories_object_spread({},defaultArgs)};var Template=function(args){return react.createElement(TokenAllowance,args)},DefaultStory=Template.bind({});DefaultStory.storyName="Default";var storeWithErrors=(0,store.Z)(token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},test_data.Z),{metamask:token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},test_data.Z.metamask),{accounts:token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},test_data.Z.metamask.accounts),{"0x9d0ba4ddac06032527b140912ec808ab9451b788":{balance:"0x0"}})}),confirmTransaction:{txData:{simulationFails:!0}}})),AllBannerAlerts=Template.bind({});AllBannerAlerts.decorators=[function(story){return react.createElement(es.zt,{store:storeWithErrors},story())}],AllBannerAlerts.args=token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},defaultArgs),{origin:"https://portfolio.metamask.io",txData:token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},defaultArgs.txData),{securityAlertResponse:{result_type:security_provider.Bx.Warning,reason:security_provider.UB.setApprovalForAll,description:"A SetApprovalForAll request was made on {contract}. We found the operator {operator} to be malicious",args:{contract:"0xa7206d878c5c3871826dfdb42191c49b1d11f466",operator:"0x92a3b9773b1763efa556f55ccbeb20441962d9b2"}},securityProviderResponse:{flagAsDangerous:security_provider.C_.MALICIOUS,reason:"Approval is to an unverified smart contract known for stealing NFTs in the past.",reason_header:"This could be a scam"}}),warning:"This is a warning",fromAddressIsLedger:!0});var UseNonceField=Template.bind({});UseNonceField.args=token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},defaultArgs),{useNonceField:!0}),DefaultStory.parameters=token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},DefaultStory.parameters),{docs:token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},null===(_DefaultStory_parameters=DefaultStory.parameters)||void 0===_DefaultStory_parameters?void 0:_DefaultStory_parameters.docs),{source:token_allowance_stories_object_spread({originalSource:"args => <TokenAllowance {...args} />"},null===(_DefaultStory_parameters1=DefaultStory.parameters)||void 0===_DefaultStory_parameters1?void 0:null===(_DefaultStory_parameters_docs=_DefaultStory_parameters1.docs)||void 0===_DefaultStory_parameters_docs?void 0:_DefaultStory_parameters_docs.source)})}),AllBannerAlerts.parameters=token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},AllBannerAlerts.parameters),{docs:token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},null===(_AllBannerAlerts_parameters=AllBannerAlerts.parameters)||void 0===_AllBannerAlerts_parameters?void 0:_AllBannerAlerts_parameters.docs),{source:token_allowance_stories_object_spread({originalSource:"args => <TokenAllowance {...args} />"},null===(_AllBannerAlerts_parameters1=AllBannerAlerts.parameters)||void 0===_AllBannerAlerts_parameters1?void 0:null===(_AllBannerAlerts_parameters_docs=_AllBannerAlerts_parameters1.docs)||void 0===_AllBannerAlerts_parameters_docs?void 0:_AllBannerAlerts_parameters_docs.source)})}),UseNonceField.parameters=token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},UseNonceField.parameters),{docs:token_allowance_stories_object_spread_props(token_allowance_stories_object_spread({},null===(_UseNonceField_parameters=UseNonceField.parameters)||void 0===_UseNonceField_parameters?void 0:_UseNonceField_parameters.docs),{source:token_allowance_stories_object_spread({originalSource:"args => <TokenAllowance {...args} />"},null===(_UseNonceField_parameters1=UseNonceField.parameters)||void 0===_UseNonceField_parameters1?void 0:null===(_UseNonceField_parameters_docs=_UseNonceField_parameters1.docs)||void 0===_UseNonceField_parameters_docs?void 0:_UseNonceField_parameters_docs.source)})})},"./shared/modules/security-provider.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>isSuspiciousResponse});var _constants_security_provider__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./shared/constants/security-provider.ts");function isSuspiciousResponse(securityProviderResponse){if(!securityProviderResponse)return!1;var isFlagged=void 0!==securityProviderResponse.flagAsDangerous&&securityProviderResponse.flagAsDangerous!==_constants_security_provider__WEBPACK_IMPORTED_MODULE_0__.C_.NOT_MALICIOUS,isNotVerified=0===Object.keys(securityProviderResponse).length;return isFlagged||isNotVerified}},"./ui/components/ui/dialog/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Dialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);function Dialog(props){var children=props.children,type=props.type,className=props.className,onClick=props.onClick;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("dialog",className,{"dialog--message":"message"===type,"dialog--error":"error"===type,"dialog--warning":"warning"===type}),"data-testid":"dialog-message",onClick:onClick},children)}Dialog.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node,type:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOf(["message","error","warning"]),onClick:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func}},"./ui/pages/confirmations/components/approve-content-card/approve-content-card.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ApproveContentCard});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/box/box.js"),_components_ui_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/button/index.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/contexts/i18n.js"),_confirm_gas_display__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/pages/confirmations/components/confirm-gas-display/index.js"),_helpers_utils_confirm_tx_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/helpers/utils/confirm-tx.util.ts");function ApproveContentCard(param){var _param_showHeader=param.showHeader,symbol=param.symbol,title=param.title,showEdit=param.showEdit,_param_showAdvanceGasFeeOptions=param.showAdvanceGasFeeOptions,onEditClick=param.onEditClick,footer=param.footer,noBorder=param.noBorder,supportsEIP1559=param.supportsEIP1559,renderTransactionDetailsContent=param.renderTransactionDetailsContent,renderDataContent=param.renderDataContent,ethTransactionTotal=param.ethTransactionTotal,nativeCurrency=param.nativeCurrency,fiatTransactionTotal=param.fiatTransactionTotal,currentCurrency=param.currentCurrency,isSetApproveForAll=param.isSetApproveForAll,isApprovalOrRejection=param.isApprovalOrRejection,data=param.data,userAcknowledgedGasMissing=param.userAcknowledgedGasMissing,renderSimulationFailureWarning=param.renderSimulationFailureWarning,useCurrencyRateCheck=param.useCurrencyRateCheck,t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_6__.OO);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"approve-content-card-container__card":!noBorder,"approve-content-card-container__card--no-border":noBorder})},(void 0===_param_showHeader||_param_showHeader)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Qb.Row,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.E0.flexEnd,className:"approve-content-card-container__card-header"},supportsEIP1559&&title===t("transactionFee")?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{className:"approve-content-card-container__card-header__symbol"},symbol),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{marginLeft:4,className:"approve-content-card-container__card-header__title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySmBold,as:"h6"},title))),showEdit&&(!(void 0!==_param_showAdvanceGasFeeOptions&&_param_showAdvanceGasFeeOptions)||!supportsEIP1559)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Sw.OneSixth},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Z,{type:"link",onClick:function(){return onEditClick()}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.primaryDefault,as:"h6"},t("edit"))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{marginTop:1,marginBottom:3,className:"approve-content-card-container__card-content"},renderTransactionDetailsContent&&(supportsEIP1559&&!renderSimulationFailureWarning?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_confirm_gas_display__WEBPACK_IMPORTED_MODULE_7__.D,{userAcknowledgedGasMissing:userAcknowledgedGasMissing}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Qb.Row,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.E0.spaceBetween},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textAlternative,as:"h6"},t("feeAssociatedRequest"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Qb.Column,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.flexEnd,textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.PH.Right},useCurrencyRateCheck&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.headingSm,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.U9.Bold,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textDefault,as:"h4"},(0,_helpers_utils_confirm_tx_util__WEBPACK_IMPORTED_MODULE_8__.xG)(fiatTransactionTotal,currentCurrency))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.U9.Normal,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textMuted,as:"h6"},"".concat(ethTransactionTotal," ").concat(nativeCurrency)))))),renderDataContent&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Qb.Column},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textAlternative,as:"h6"},t(isSetApproveForAll?"functionSetApprovalForAll":"functionApprove"))),isSetApproveForAll&&void 0!==isApprovalOrRejection?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textAlternative,as:"h6"},"".concat(t("parameters"),": ").concat(isApprovalOrRejection))):null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{marginRight:4,className:"approve-content-card-container__data__data-block"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textAlternative,as:"h6"},data)))),footer)}ApproveContentCard.propTypes={showHeader:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,symbol:prop_types__WEBPACK_IMPORTED_MODULE_9___default().node,title:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,showEdit:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,showAdvanceGasFeeOptions:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,onEditClick:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,footer:prop_types__WEBPACK_IMPORTED_MODULE_9___default().node,noBorder:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,supportsEIP1559:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,renderTransactionDetailsContent:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,renderDataContent:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,ethTransactionTotal:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,nativeCurrency:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,fiatTransactionTotal:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,currentCurrency:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,isSetApproveForAll:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,isApprovalOrRejection:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,data:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,userAcknowledgedGasMissing:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,renderSimulationFailureWarning:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,useCurrencyRateCheck:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool}},"./ui/pages/confirmations/components/confirm-gas-display/confirm-gas-display.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/selectors/index.js"),_helpers_utils_transactions_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/transactions.util.js"),_gas_details_item__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/pages/confirmations/components/gas-details-item/index.js"),_ducks_send__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/ducks/send/index.js"),_confirm_legacy_gas_display__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/index.js"),ConfirmGasDisplay=function(param){var isLegacyTxn,_param_userAcknowledgedGasMissing=param.userAcknowledgedGasMissing,txParams=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(function(state){return(0,_selectors__WEBPACK_IMPORTED_MODULE_3__.MN9)(state)}).txParams,draftTransaction=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_ducks_send__WEBPACK_IMPORTED_MODULE_6__.aP),transactionType=null==draftTransaction?void 0:draftTransaction.transactionType;isLegacyTxn=transactionType?transactionType===_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionEnvelopeType.legacy:(0,_helpers_utils_transactions_util__WEBPACK_IMPORTED_MODULE_4__.h0)(txParams);var supportsEIP1559=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.mVn)&&!isLegacyTxn,dataTestId="confirm-gas-display";return supportsEIP1559?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_gas_details_item__WEBPACK_IMPORTED_MODULE_5__.Z,{"data-testid":dataTestId,userAcknowledgedGasMissing:void 0!==_param_userAcknowledgedGasMissing&&_param_userAcknowledgedGasMissing}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_confirm_legacy_gas_display__WEBPACK_IMPORTED_MODULE_7__.b,{"data-testid":dataTestId})};ConfirmGasDisplay.propTypes={userAcknowledgedGasMissing:prop_types__WEBPACK_IMPORTED_MODULE_8___default().bool};let __WEBPACK_DEFAULT_EXPORT__=ConfirmGasDisplay},"./ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/confirm-legacy-gas-display.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/hooks/useI18nContext.js"),_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/selectors/index.js"),_helpers_constants_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/constants/common.ts"),_transaction_detail_item__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/pages/confirmations/components/transaction-detail-item/index.js"),_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/app/user-preferenced-currency-display/index.js"),_components_ui_info_tooltip__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),_components_ui_loading_heartbeat__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/components/ui/loading-heartbeat/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_useDraftTransactionWithTxParams__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./ui/pages/confirmations/hooks/useDraftTransactionWithTxParams.js"),_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./ui/ducks/metamask/metamask.js"),_multilayer_fee_message_multi_layer_fee_message__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./ui/pages/confirmations/components/multilayer-fee-message/multi-layer-fee-message.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./ui/components/component-library/index.ts"),process=__webpack_require__("./node_modules/process/browser.js"),renderHeartBeatIfNotInTest=function(){return process.env.IN_TEST?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_loading_heartbeat__WEBPACK_IMPORTED_MODULE_8__.Z,null)},ConfirmLegacyGasDisplay=function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},dataTestId=_ref["data-testid"],t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_2__.C)(),isMainnet=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.b8h),isMultiLayerFeeNetwork=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.SEh),useCurrencyRateCheck=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.nsI),useNativeCurrencyAsPrimaryCurrency=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.Izy).useNativeCurrencyAsPrimaryCurrency,nativeCurrency=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_11__.JK),unapprovedTxs=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.fvg),transactionData=(0,_hooks_useDraftTransactionWithTxParams__WEBPACK_IMPORTED_MODULE_10__.r)(),txData=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(function(state){return(0,_selectors__WEBPACK_IMPORTED_MODULE_3__.MN9)(state)}),transactionId=txData.id,dappSuggestedGasFees=txData.dappSuggestedGasFees,transaction=Object.keys(transactionData).length?transactionData:unapprovedTxs[transactionId]||{},_useSelector=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(function(state){return(0,_selectors__WEBPACK_IMPORTED_MODULE_3__.nfL)(state,transaction)}),hexMinimumTransactionFee=_useSelector.hexMinimumTransactionFee,hexMaximumTransactionFee=_useSelector.hexMaximumTransactionFee;return isMultiLayerFeeNetwork?[react__WEBPACK_IMPORTED_MODULE_0__.createElement(_transaction_detail_item__WEBPACK_IMPORTED_MODULE_5__.Z,{key:"legacy-total-item","data-testid":dataTestId,detailTitle:t("transactionDetailLayer2GasHeading"),detailTotal:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_6__.Z,{type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_4__._8,value:hexMinimumTransactionFee,hideLabel:!useNativeCurrencyAsPrimaryCurrency,numberOfDecimals:18}),detailText:useCurrencyRateCheck&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_6__.Z,{type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_4__.Vb,value:hexMinimumTransactionFee,hideLabel:!!useNativeCurrencyAsPrimaryCurrency}),noBold:!0,flexWidthValues:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_multilayer_fee_message_multi_layer_fee_message__WEBPACK_IMPORTED_MODULE_12__.Z,{key:"confirm-layer-1",transaction:txData,layer2fee:hexMinimumTransactionFee,nativeCurrency:nativeCurrency})]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_transaction_detail_item__WEBPACK_IMPORTED_MODULE_5__.Z,{key:"legacy-gas-details","data-testid":dataTestId,detailTitle:dappSuggestedGasFees?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,t("transactionDetailGasHeading"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_info_tooltip__WEBPACK_IMPORTED_MODULE_7__.Z,{contentText:t("transactionDetailDappGasTooltip"),position:"top"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_13__.JO,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_13__.uH.Info}))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,t("transactionDetailGasHeading"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_info_tooltip__WEBPACK_IMPORTED_MODULE_7__.Z,{contentText:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,t("transactionDetailGasTooltipIntro",[isMainnet?t("networkNameEthereum"):""])),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,t("transactionDetailGasTooltipExplanation")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},t("transactionDetailGasTooltipConversion")))),position:"top"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_13__.JO,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_13__.uH.Info}))),detailText:useCurrencyRateCheck&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,renderHeartBeatIfNotInTest(),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_6__.Z,{type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_4__.Vb,value:hexMinimumTransactionFee,hideLabel:!!useNativeCurrencyAsPrimaryCurrency})),detailTotal:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,renderHeartBeatIfNotInTest(),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_6__.Z,{type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_4__._8,value:hexMinimumTransactionFee,hideLabel:!useNativeCurrencyAsPrimaryCurrency,numberOfDecimals:6})),subText:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",{key:"editGasSubTextFeeLabel"},t("editGasSubTextFeeLabel")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:"editGasSubTextFeeValue"},renderHeartBeatIfNotInTest(),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_6__.Z,{key:"editGasSubTextFeeAmount",type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_4__._8,value:hexMaximumTransactionFee,hideLabel:!useNativeCurrencyAsPrimaryCurrency}))),subTitle:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,dappSuggestedGasFees&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_13__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.rK.bodySm,fontStyle:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.rZ.ITALIC,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.d9.textAlternative,as:"h6"},t("transactionDetailDappGasMoreInfo")))})};ConfirmLegacyGasDisplay.propTypes={"data-testid":prop_types__WEBPACK_IMPORTED_MODULE_14___default().string};let __WEBPACK_DEFAULT_EXPORT__=ConfirmLegacyGasDisplay},"./ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>_confirm_legacy_gas_display__WEBPACK_IMPORTED_MODULE_0__.Z});var _confirm_legacy_gas_display__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/confirm-legacy-gas-display.js")},"./ui/pages/confirmations/components/confirm-gas-display/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>_confirm_gas_display__WEBPACK_IMPORTED_MODULE_0__.Z});var _confirm_gas_display__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/pages/confirmations/components/confirm-gas-display/confirm-gas-display.js")},"./ui/pages/confirmations/components/contract-details-modal/contract-details-modal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ContractDetailsModal});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dist=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),name_controller_dist=__webpack_require__("./node_modules/@metamask/name-controller/dist/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),button_component=__webpack_require__("./ui/components/ui/button/button.component.js"),tooltip=__webpack_require__("./ui/components/ui/tooltip/tooltip.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),identicon=__webpack_require__("./ui/components/ui/identicon/index.js"),send_utils=__webpack_require__("./ui/pages/confirmations/send/send.utils.js"),popover=__webpack_require__("./ui/components/ui/popover/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useCopyToClipboard=__webpack_require__("./ui/hooks/useCopyToClipboard.js"),selectors=__webpack_require__("./ui/selectors/index.js"),transaction=__webpack_require__("./shared/constants/transaction.ts"),useNftsCollections=__webpack_require__("./ui/hooks/useNftsCollections.js");function NftCollectionImage(param){var _assetName_,_assetName__toUpperCase,collection,_tokenList_tokenAddress_toLowerCase,assetName=param.assetName,tokenAddress=param.tokenAddress,collections=(0,useNftsCollections.H)().collections,nftTokenListImage=null===(_tokenList_tokenAddress_toLowerCase=(0,es.v9)(selectors.HJ)[tokenAddress.toLowerCase()])||void 0===_tokenList_tokenAddress_toLowerCase?void 0:_tokenList_tokenAddress_toLowerCase.iconUrl;return react.createElement(box.ZP,null,(null==(collection=Object.values(collections).find(function(param){return param.collectionName===assetName}))?void 0:collection.collectionImage)||nftTokenListImage?react.createElement(identicon.Z,{diameter:24,image:(null==collection?void 0:collection.collectionImage)||nftTokenListImage}):react.createElement(box.ZP,{color:design_system.Il.overlayInverse,textAlign:design_system.PH.Center,className:"collection-image-alt"},null!==(_assetName__toUpperCase=null==assetName?void 0:null===(_assetName_=assetName[0])||void 0===_assetName_?void 0:_assetName_.toUpperCase())&&void 0!==_assetName__toUpperCase?_assetName__toUpperCase:null))}NftCollectionImage.propTypes={assetName:prop_types_default().string,tokenAddress:prop_types_default().string};var component_library=__webpack_require__("./ui/components/component-library/index.ts"),name_name=__webpack_require__("./ui/components/app/name/name.tsx"),usePetnamesEnabled=__webpack_require__("./ui/hooks/usePetnamesEnabled.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function ContractDetailsModal(param){var _addressBookEntry_data,_addressBookEntry_data1,onClose=param.onClose,tokenName=param.tokenName,tokenAddress=param.tokenAddress,toAddress=param.toAddress,chainId=param.chainId,rpcPrefs=param.rpcPrefs,tokenId=param.tokenId,assetName=param.assetName,assetStandard=param.assetStandard,isContractRequestingSignature=param.isContractRequestingSignature,t=(0,useI18nContext.C)(),_useCopyToClipboard=_sliced_to_array((0,useCopyToClipboard.m)(),2),copiedTokenAddress=_useCopyToClipboard[0],handleCopyTokenAddress=_useCopyToClipboard[1],_useCopyToClipboard1=_sliced_to_array((0,useCopyToClipboard.m)(),2),copiedToAddress=_useCopyToClipboard1[0],handleCopyToAddress=_useCopyToClipboard1[1],petnamesEnabled=(0,usePetnamesEnabled.A)(),addressBookEntry=(0,es.v9)(function(state){return{data:(0,selectors.e5t)(state,toAddress)}}),nft=assetStandard===transaction.Yn.ERC721||assetStandard===transaction.Yn.ERC1155||assetName&&tokenId||tokenName&&tokenId;return react.createElement(popover.Z,{className:"contract-details-modal"},react.createElement(box.ZP,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},react.createElement(component_library.xv,{fontWeight:design_system.U9.Bold,variant:design_system.rK.bodyMd,as:"h5",display:design_system.sS.Flex},t("contractTitle")),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,color:design_system.d9.textAlternative,marginTop:2},t("contractDescription")),!isContractRequestingSignature&&react.createElement(react.Fragment,null,react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,marginTop:4,marginBottom:2},t(nft?"contractNFT":"contractToken")),react.createElement(box.ZP,{display:design_system.sS.Flex,borderRadius:design_system.$u.SM,borderStyle:design_system.N4.solid,borderColor:design_system.kf.borderDefault,className:"contract-details-modal__content__contract"},nft?react.createElement(box.ZP,{margin:4},react.createElement(NftCollectionImage,{assetName:assetName,tokenAddress:tokenAddress})):react.createElement(identicon.Z,{className:"contract-details-modal__content__contract__identicon",address:tokenAddress,diameter:24}),react.createElement(box.ZP,{"data-testid":"recipient"},react.createElement(component_library.xv,{fontWeight:design_system.U9.Bold,variant:design_system.rK.bodyMd,as:"h5",marginTop:4},tokenName||(0,send_utils.ZB)(tokenAddress)),tokenName&&react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,color:design_system.d9.textAlternative,marginBottom:4},(0,send_utils.ZB)(tokenAddress))),react.createElement(box.ZP,{alignItems:design_system.g1.center,marginLeft:"auto",marginRight:4,gap:2},react.createElement(tooltip.Z,{position:"top",title:t(copiedTokenAddress?"copiedExclamation":"copyToClipboard")},react.createElement(component_library.Ei,{display:design_system.sS.Flex,iconName:copiedTokenAddress?component_library.uH.CopySuccess:component_library.uH.Copy,onClick:function(){return handleCopyTokenAddress(tokenAddress)},color:design_system.Il.iconMuted,ariaLabel:t(copiedTokenAddress?"copiedExclamation":"copyToClipboard")})),react.createElement(tooltip.Z,{position:"top",title:t("openInBlockExplorer")},react.createElement(component_library.Ei,{display:design_system.sS.Flex,iconName:component_library.uH.Export,color:design_system.Il.iconMuted,onClick:function(){var _rpcPrefs_blockExplorerUrl,blockExplorerTokenLink=(0,dist.getAccountLink)(tokenAddress,chainId,{blockExplorerUrl:null!==(_rpcPrefs_blockExplorerUrl=null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)&&void 0!==_rpcPrefs_blockExplorerUrl?_rpcPrefs_blockExplorerUrl:null},null);__webpack_require__.g.platform.openTab({url:blockExplorerTokenLink})},ariaLabel:t("openInBlockExplorer")}))))),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,marginTop:4,marginBottom:2},nft&&t("contractRequestingAccess"),isContractRequestingSignature&&t("contractRequestingSignature"),!nft&&!isContractRequestingSignature&&t("contractRequestingSpendingCap")),react.createElement(box.ZP,{display:design_system.sS.Flex,borderRadius:design_system.$u.SM,borderStyle:design_system.N4.solid,borderColor:design_system.kf.borderDefault,alignItems:design_system.g1.center,className:"contract-details-modal__content__contract"},!petnamesEnabled&&react.createElement(identicon.Z,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:toAddress}),react.createElement(box.ZP,{"data-testid":"recipient"},petnamesEnabled?react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h5"},react.createElement(name_name.Z,{value:toAddress,type:name_controller_dist.NameType.ETHEREUM_ADDRESS})):react.createElement(component_library.xv,{fontWeight:design_system.U9.Bold,variant:design_system.rK.bodyMd,as:"h5"},(null==addressBookEntry?void 0:null===(_addressBookEntry_data=addressBookEntry.data)||void 0===_addressBookEntry_data?void 0:_addressBookEntry_data.name)||(0,send_utils.ZB)(toAddress)),!petnamesEnabled&&(null==addressBookEntry?void 0:null===(_addressBookEntry_data1=addressBookEntry.data)||void 0===_addressBookEntry_data1?void 0:_addressBookEntry_data1.name)&&react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,color:design_system.d9.textAlternative,marginBottom:4},(0,send_utils.ZB)(toAddress))),react.createElement(box.ZP,{alignItems:design_system.g1.center,marginLeft:"auto",marginRight:4,gap:2},react.createElement(tooltip.Z,{position:"top",title:t(copiedToAddress?"copiedExclamation":"copyToClipboard")},react.createElement(component_library.Ei,{display:design_system.sS.Flex,iconName:copiedToAddress?component_library.uH.CopySuccess:component_library.uH.Copy,onClick:function(){return handleCopyToAddress(toAddress)},color:design_system.Il.iconMuted,ariaLabel:t(copiedTokenAddress?"copiedExclamation":"copyToClipboard")})),react.createElement(tooltip.Z,{position:"top",title:t("openInBlockExplorer")},react.createElement(component_library.Ei,{display:design_system.sS.Flex,iconName:component_library.uH.Export,color:design_system.Il.iconMuted,onClick:function(){var _rpcPrefs_blockExplorerUrl,blockExplorerTokenLink=(0,dist.getAccountLink)(toAddress,chainId,{blockExplorerUrl:null!==(_rpcPrefs_blockExplorerUrl=null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)&&void 0!==_rpcPrefs_blockExplorerUrl?_rpcPrefs_blockExplorerUrl:null},null);__webpack_require__.g.platform.openTab({url:blockExplorerTokenLink})},ariaLabel:t("openInBlockExplorer")}))))),react.createElement(box.ZP,{display:design_system.sS.Flex,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},react.createElement(button_component.Z,{type:"primary",onClick:function(){return onClose()}},t("recoveryPhraseReminderConfirm"))))}ContractDetailsModal.propTypes={onClose:prop_types_default().func,tokenName:prop_types_default().string,tokenAddress:prop_types_default().string,toAddress:prop_types_default().string,chainId:prop_types_default().string,rpcPrefs:prop_types_default().object,tokenId:prop_types_default().string,assetStandard:prop_types_default().string,assetName:prop_types_default().string,isContractRequestingSignature:prop_types_default().bool}},"./ui/pages/confirmations/components/contract-token-values/contract-token-values.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ContractTokenValues});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_metamask_etherscan_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/index.js"),_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/box/box.js"),_components_ui_tooltip_tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/tooltip/tooltip.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useI18nContext.js"),_components_ui_identicon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/identicon/index.js"),_components_ui_typography_typography__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/ui/typography/typography.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_useCopyToClipboard__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/hooks/useCopyToClipboard.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/components/component-library/index.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function ContractTokenValues(param){var address=param.address,tokenName=param.tokenName,chainId=param.chainId,rpcPrefs=param.rpcPrefs,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.C)(),_useCopyToClipboard=_sliced_to_array((0,_hooks_useCopyToClipboard__WEBPACK_IMPORTED_MODULE_8__.m)(),2),copied=_useCopyToClipboard[0],handleCopy=_useCopyToClipboard[1];return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{className:"contract-token-values",display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.E0.center,gap:2},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_identicon__WEBPACK_IMPORTED_MODULE_5__.Z,{address:address,diameter:24}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_typography_typography__WEBPACK_IMPORTED_MODULE_6__.ZP,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.bu.H2,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.m5.BOLD,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.d9.textAlternative,marginTop:0,marginBottom:0},tokenName),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_tooltip_tooltip__WEBPACK_IMPORTED_MODULE_3__.Z,{position:"top",title:t(copied?"copiedExclamation":"copyToClipboard")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_9__.Ei,{iconName:copied?_components_component_library__WEBPACK_IMPORTED_MODULE_9__.uH.CopySuccess:_components_component_library__WEBPACK_IMPORTED_MODULE_9__.uH.Copy,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.Il.iconMuted,onClick:function(){return handleCopy(address)},ariaLabel:t(copied?"copiedExclamation":"copyToClipboard")})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_tooltip_tooltip__WEBPACK_IMPORTED_MODULE_3__.Z,{position:"top",title:t("openInBlockExplorer")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_9__.Ei,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.bA.FLEX,iconName:_components_component_library__WEBPACK_IMPORTED_MODULE_9__.uH.Export,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.Il.iconMuted,onClick:function(){var _rpcPrefs_blockExplorerUrl,blockExplorerTokenLink=(0,_metamask_etherscan_link__WEBPACK_IMPORTED_MODULE_1__.getAccountLink)(address,chainId,{blockExplorerUrl:null!==(_rpcPrefs_blockExplorerUrl=null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)&&void 0!==_rpcPrefs_blockExplorerUrl?_rpcPrefs_blockExplorerUrl:null},null);__webpack_require__.g.platform.openTab({url:blockExplorerTokenLink})},ariaLabel:t("openInBlockExplorer")})))}ContractTokenValues.propTypes={address:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,tokenName:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,chainId:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,rpcPrefs:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object}},"./ui/pages/confirmations/components/custom-nonce/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CustomNonce});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),i18n=__webpack_require__("./.storybook/i18n.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");function CustomNonce(param){var nextNonce=param.nextNonce,customNonceValue=param.customNonceValue,showCustomizeNonceModal=param.showCustomizeNonceModal,t=(0,react.useContext)(i18n.OO);return react.createElement(component_library.xu,{display:design_system.sS.Flex,marginBottom:4,paddingTop:3,paddingRight:3,paddingBottom:4,paddingLeft:3,borderRadius:design_system.cM.MD,alignItems:design_system.g1.center,className:"custom-nonce__content"},react.createElement(component_library.xu,{className:"custom-nonce__header",display:design_system.sS.InlineFlex,justifyContent:design_system.E0.flexStart,alignItems:design_system.g1.center},react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6"},t("nonce")),react.createElement(component_library.ZP,{key:"editCustomNonce",size:design_system.$u.auto,marginLeft:3,onClick:function(){return showCustomizeNonceModal()}},t("edit"))),react.createElement(component_library.xv,{className:"custom-nonce__value",variant:design_system.rK.bodySmBold,as:"h6"},customNonceValue||nextNonce))}CustomNonce.propTypes={nextNonce:prop_types_default().number,customNonceValue:prop_types_default().string,showCustomizeNonceModal:prop_types_default().func}},"./ui/pages/confirmations/components/custom-spending-cap/custom-spending-cap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CustomSpendingCap});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),bignumber=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_default=__webpack_require__.n(bignumber),dist_browser=__webpack_require__("./node_modules/ethereumjs-util/dist.browser/index.js"),i18n=__webpack_require__("./ui/contexts/i18n.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),app=__webpack_require__("./ui/ducks/app/app.ts"),transactions_controller_utils=__webpack_require__("./shared/lib/transactions-controller-utils.js"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),tokens=__webpack_require__("./shared/constants/tokens.js"),Numeric=__webpack_require__("./shared/modules/Numeric.ts"),actions=__webpack_require__("./ui/store/actions.ts"),confirm_approve_util=__webpack_require__("./ui/pages/confirmations/confirm-approve/confirm-approve.util.js"),gasFee=__webpack_require__("./ui/contexts/gasFee.js"),zendesk_url=__webpack_require__("./ui/helpers/constants/zendesk-url.js"),tooltip=__webpack_require__("./ui/components/ui/tooltip/index.js"),CustomSpendingCapTooltip=function(param){var tooltipContentText=param.tooltipContentText,tooltipIcon=param.tooltipIcon;return react.createElement(component_library.xu,{display:design_system.sS.InlineFlex,alignItems:design_system.g1.center},react.createElement(tooltip.Z,{interactive:!0,position:"top",html:react.createElement(component_library.xv,{variant:design_system.rK.bodySm,color:design_system.d9.textAlternative},tooltipContentText)},tooltipIcon?react.createElement(component_library.JO,{name:component_library.uH.Danger,size:component_library.Jh.Inherit,color:design_system.EY.errorDefault}):""!==tooltipIcon&&react.createElement(component_library.JO,{name:component_library.uH.Question,size:component_library.Jh.Inherit,color:design_system.EY.iconAlternative})))};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}function CustomSpendingCap(param){var _ref,txParams=param.txParams,tokenName=param.tokenName,currentTokenBalance=param.currentTokenBalance,dappProposedValue=param.dappProposedValue,siteOrigin=param.siteOrigin,passTheErrorText=param.passTheErrorText,decimals=param.decimals,setInputChangeInProgress=param.setInputChangeInProgress,customSpendingCap=param.customSpendingCap,setCustomSpendingCap=param.setCustomSpendingCap,t=(0,react.useContext)(i18n.OO),dispatch=(0,es.I0)(),updateTransaction=(0,gasFee.YJ)().updateTransaction,inputRef=(0,react.useRef)(null),_useState=_sliced_to_array((0,react.useState)(""),2),error=_useState[0],setError=_useState[1],_useState1=_sliced_to_array((0,react.useState)(customSpendingCap!==String(dappProposedValue)),2),showUseSiteSuggestionButton=_useState1[0],setShowUseSiteSuggestionButton=_useState1[1],inputLogicEmptyStateText=t("inputLogicEmptyState"),replaceCommaToDot=function(inputValue){return inputValue.replace(RegExp(",","gu"),".")},decConversionGreaterThan=function(tokenValue,tokenBalance){return new Numeric.D(Number(replaceCommaToDot(tokenValue)),10).greaterThan(Number(tokenBalance),10)},getInputTextLogic=function(inputNumber){return new Numeric.D(Number(replaceCommaToDot(inputNumber)),10).lessThanOrEqualTo(new Numeric.D(Number(currentTokenBalance),10))?{className:"custom-spending-cap__lowerValue",description:t("inputLogicEqualOrSmallerNumber",[react.createElement(component_library.xv,{key:"custom-spending-cap",variant:design_system.rK.bodySmBold,as:"span"},replaceCommaToDot(inputNumber)," ",tokenName)])}:decConversionGreaterThan(inputNumber,currentTokenBalance)?{className:"custom-spending-cap__higherValue",description:t("inputLogicHigherNumber")}:{className:"custom-spending-cap__emptyState",description:t("inputLogicEmptyState")}},_useState2=_sliced_to_array((0,react.useState)(getInputTextLogic(customSpendingCap).description),2),customSpendingCapText=_useState2[0],setCustomSpendingCapText=_useState2[1],handleChange=(_ref=_async_to_generator(function(valueInput){var _match_,spendingCapError,inputTextLogicDescription,match,maxTokenAmount,newData,from,to,txValue,estimatedGasLimit;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!txParams)return[2];if(setInputChangeInProgress(!0),spendingCapError="",inputTextLogicDescription=getInputTextLogic(valueInput).description,(null==(match=tokens.BZ.exec(replaceCommaToDot(valueInput)))?void 0:null===(_match_=match[1])||void 0===_match_?void 0:_match_.length)>decimals)return setInputChangeInProgress(!1),[2];if(valueInput&&!tokens.d0.test(valueInput)?(spendingCapError=t("spendingCapError"),setCustomSpendingCapText(t("spendingCapErrorDescription",[siteOrigin])),setError(spendingCapError)):(setCustomSpendingCapText(inputTextLogicDescription),setError("")),maxTokenAmount=(0,transactions_controller_utils.cp)(tokens.oc,decimals),Number(valueInput.length)>1&&Number(valueInput)&&new(bignumber_default())(valueInput).greaterThan(maxTokenAmount)&&setError(spendingCapError=t("spendLimitTooLarge")),setCustomSpendingCap(String(valueInput)),dispatch((0,app.sA)(String(valueInput))),!(""!==String(valueInput)))return[3,6];_state.label=1;case 1:return _state.trys.push([1,5,,6]),newData=(0,confirm_approve_util.s)(txParams.data,{customPermissionAmount:valueInput,decimals:decimals}),from=txParams.from,to=txParams.to,txValue=txParams.value,[4,(0,actions.QH8)({from:from,to:to,value:txValue,data:newData})];case 2:if(!(estimatedGasLimit=_state.sent()))return[3,4];return[4,updateTransaction({gasLimit:(0,conversion_utils.Z8)((0,dist_browser.addHexPrefix)(estimatedGasLimit))})];case 3:_state.sent(),_state.label=4;case 4:return[3,6];case 5:return console.error("Error in trying to update gas limit",_state.sent()),[3,6];case 6:return setInputChangeInProgress(!1),[2]}})}),function handleChange(valueInput){return _ref.apply(this,arguments)});(0,react.useEffect)(function(){customSpendingCap===String(dappProposedValue)?setShowUseSiteSuggestionButton(!1):setShowUseSiteSuggestionButton(!0)},[customSpendingCap,dappProposedValue]),(0,react.useEffect)(function(){passTheErrorText(error)},[error,passTheErrorText]),(0,react.useEffect)(function(){inputRef.current&&inputRef.current.focus({preventScroll:!0})},[inputRef.current]);var chooseTooltipContentText=decConversionGreaterThan(customSpendingCap,currentTokenBalance)?t("warningTooltipText",[react.createElement(component_library.xv,{key:"tooltip-text",variant:design_system.rK.bodySmBold,as:"span",color:design_system.d9.errorDefault},react.createElement(component_library.JO,{name:component_library.uH.Danger,size:component_library.Jh.Inherit})," ",t("beCareful"))]):t("inputLogicEmptyState");return react.createElement(react.Fragment,null,react.createElement(component_library.xu,{className:"custom-spending-cap",display:design_system.sS.Flex,alignItems:design_system.g1.flexStart,flexDirection:design_system.Qb.Column,gap:2,padding:4,backgroundColor:design_system.lP.backgroundAlternative,borderRadius:design_system.$u.SM},react.createElement(component_library.xu,{display:design_system.sS.Flex,alignItems:design_system.g1.center,gap:1,width:design_system.Sw.Full},react.createElement("div",null,react.createElement(component_library.__,{htmlFor:"custom-spending-cap",display:design_system.sS.Inline,marginRight:1},t("customSpendingCap")),react.createElement(CustomSpendingCapTooltip,{tooltipContentText:replaceCommaToDot(customSpendingCap)?chooseTooltipContentText:"",tooltipIcon:replaceCommaToDot(customSpendingCap)?decConversionGreaterThan(customSpendingCap,currentTokenBalance):""})),showUseSiteSuggestionButton&&react.createElement(component_library.ZP,{marginLeft:"auto",size:design_system.$u.auto,onClick:function(e){e.preventDefault(),setShowUseSiteSuggestionButton(!1),handleChange(dappProposedValue)}},t("useSiteSuggestion"))),react.createElement(component_library.nv,{inputRef:inputRef,inputProps:{"data-testid":"custom-spending-cap-input",color:decConversionGreaterThan(customSpendingCap,currentTokenBalance)?design_system.d9.errorDefault:design_system.d9.textDefault,paddingInlineEnd:4},id:"custom-spending-cap",onChange:function(e){return handleChange(e.target.value)},placeholder:t("enterANumber"),value:customSpendingCap,endAccessory:react.createElement(component_library.ZP,{onClick:function(e){e.preventDefault(),handleChange(currentTokenBalance)},"data-testid":"custom-spending-cap-max-button"},t("max")),width:design_system.Sw.Full}),react.createElement(component_library.RU,{color:error?design_system.d9.errorDefault:design_system.d9.textDefault,variant:design_system.rK.bodySm},error||(replaceCommaToDot(customSpendingCap)?customSpendingCapText:inputLogicEmptyStateText)),react.createElement(component_library.ZP,{size:design_system.$u.SM,href:zendesk_url.Z.TOKEN_ALLOWANCE_WITH_SPENDING_CAP,externalLink:!0},t("learnMoreUpperCase"))))}CustomSpendingCapTooltip.propTypes={tooltipContentText:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().node]),tooltipIcon:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().bool])},CustomSpendingCap.propTypes={txParams:prop_types_default().object.isRequired,tokenName:prop_types_default().string,currentTokenBalance:prop_types_default().string,dappProposedValue:prop_types_default().string,siteOrigin:prop_types_default().string,passTheErrorText:prop_types_default().func,decimals:prop_types_default().string,setInputChangeInProgress:prop_types_default().func.isRequired,customSpendingCap:prop_types_default().string,setCustomSpendingCap:prop_types_default().func.isRequired}},"./ui/pages/confirmations/components/edit-gas-fee-icon/edit-gas-fee-icon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>EditGasFeeIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_contexts_gasFee__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/contexts/gasFee.js"),_hooks_useTransactionEventFragment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/pages/confirmations/hooks/useTransactionEventFragment.js"),_contexts_transaction_modal__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/contexts/transaction-modal.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts");function EditGasFeeIcon(param){var _param_userAcknowledgedGasMissing=param.userAcknowledgedGasMissing,_useGasFeeContext=(0,_contexts_gasFee__WEBPACK_IMPORTED_MODULE_1__.YJ)(),hasSimulationError=_useGasFeeContext.hasSimulationError,estimateUsed=_useGasFeeContext.estimateUsed,supportsEIP1559=_useGasFeeContext.supportsEIP1559,updateTransactionEventFragment=(0,_hooks_useTransactionEventFragment__WEBPACK_IMPORTED_MODULE_2__.s)().updateTransactionEventFragment,openModal=(0,_contexts_transaction_modal__WEBPACK_IMPORTED_MODULE_3__.y8)().openModal;return supportsEIP1559&&estimateUsed&&(!hasSimulationError||void 0!==_param_userAcknowledgedGasMissing&&_param_userAcknowledgedGasMissing)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.zx,{style:{textDecoration:"none"},size:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.$u.SM,variant:_components_component_library__WEBPACK_IMPORTED_MODULE_4__.RN.LINK,startIconName:_components_component_library__WEBPACK_IMPORTED_MODULE_4__.uH.Edit,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.EY.primaryDefault,"data-testid":"edit-gas-fee-icon",onClick:function(){updateTransactionEventFragment({gas_edit_attempted:"basic"}),openModal("editGasFee")}}):null}EditGasFeeIcon.propTypes={userAcknowledgedGasMissing:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool}},"./ui/pages/confirmations/components/fee-details-component/fee-details-component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>FeeDetailsComponent});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_components_component_library__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/component-library/index.ts"),_transaction_detail_item_transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/pages/confirmations/components/transaction-detail-item/transaction-detail-item.component.js"),_selectors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/selectors/index.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/hooks/useI18nContext.js"),_components_ui_loading_heartbeat__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/ui/loading-heartbeat/index.js"),_components_app_user_preferenced_currency_display_user_preferenced_currency_display_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/components/app/user-preferenced-currency-display/user-preferenced-currency-display.component.js"),_helpers_constants_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/helpers/constants/common.ts"),_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./shared/modules/conversion.utils.ts"),_helpers_utils_optimism_fetchEstimatedL1Fee__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./ui/helpers/utils/optimism/fetchEstimatedL1Fee.js"),_contexts_gasFee__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./ui/contexts/gasFee.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function FeeDetailsComponent(param){var txData=param.txData,useCurrencyRateCheck=param.useCurrencyRateCheck,_param_hideGasDetails=param.hideGasDetails,hideGasDetails=void 0!==_param_hideGasDetails&&_param_hideGasDetails,_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),expandFeeDetails=_useState[0],setExpandFeeDetails=_useState[1],_useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),2),estimatedL1Fees=_useState1[0],setEstimatedL1Fees=_useState1[1],isMultiLayerFeeNetwork=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_5__.SEh),useNativeCurrencyAsPrimaryCurrency=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_5__.Izy).useNativeCurrencyAsPrimaryCurrency,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_6__.C)(),_useGasFeeContext=(0,_contexts_gasFee__WEBPACK_IMPORTED_MODULE_12__.YJ)(),hexMaximumTransactionFee=_useGasFeeContext.maximumCostInHexWei,hexMinimumTransactionFee=_useGasFeeContext.minimumCostInHexWei;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){isMultiLayerFeeNetwork&&(0,_helpers_utils_optimism_fetchEstimatedL1Fee__WEBPACK_IMPORTED_MODULE_11__.Z)(null==txData?void 0:txData.chainId,txData).then(function(result){setEstimatedL1Fees(result)}).catch(function(_err){setEstimatedL1Fees(null)})},[isMultiLayerFeeNetwork,txData]);var getTransactionFeeTotal=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return isMultiLayerFeeNetwork?(0,_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_10__.Mc)(hexMaximumTransactionFee,estimatedL1Fees||0):hexMaximumTransactionFee},[isMultiLayerFeeNetwork,hexMaximumTransactionFee,estimatedL1Fees]),renderTotalDetailText=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(value){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"confirm-page-container-content__total-value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_loading_heartbeat__WEBPACK_IMPORTED_MODULE_7__.Z,{estimateUsed:null==txData?void 0:txData.userFeeLevel}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display_user_preferenced_currency_display_component__WEBPACK_IMPORTED_MODULE_8__.Z,{type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_9__.Vb,key:"total-detail-text",value:value,hideLabel:!!useNativeCurrencyAsPrimaryCurrency}))},[txData,useNativeCurrencyAsPrimaryCurrency]),renderTotalDetailValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(value){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"confirm-page-container-content__total-value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_loading_heartbeat__WEBPACK_IMPORTED_MODULE_7__.Z,{estimateUsed:null==txData?void 0:txData.userFeeLevel}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display_user_preferenced_currency_display_component__WEBPACK_IMPORTED_MODULE_8__.Z,{type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_9__._8,key:"total-detail-value",value:value,hideLabel:!useNativeCurrencyAsPrimaryCurrency}))},[txData,useNativeCurrencyAsPrimaryCurrency]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.E0.center,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Qb.Column},!hideGasDetails&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{padding:4,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.E0.center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.zx,{style:{textDecoration:"none"},size:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.$u.Xs,variant:_components_component_library__WEBPACK_IMPORTED_MODULE_3__.RN.LINK,endIconName:expandFeeDetails?_components_component_library__WEBPACK_IMPORTED_MODULE_3__.uH.ArrowUp:_components_component_library__WEBPACK_IMPORTED_MODULE_3__.uH.ArrowDown,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.EY.primaryDefault,"data-testid":"expand-fee-details-button",onClick:function(){return setExpandFeeDetails(!expandFeeDetails)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.rK.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.EY.primaryDefault},t("feeDetails"))))),!hideGasDetails&&expandFeeDetails&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Qb.Column},isMultiLayerFeeNetwork&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_transaction_detail_item_transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_4__.Z,{detailTitle:t("optimismFees"),detailText:useCurrencyRateCheck&&renderTotalDetailText(hexMinimumTransactionFee),detailTotal:renderTotalDetailValue(hexMinimumTransactionFee),boldHeadings:!1}),isMultiLayerFeeNetwork&&estimatedL1Fees&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_transaction_detail_item_transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_4__.Z,{detailTitle:t("layer1Fees"),detailText:useCurrencyRateCheck&&renderTotalDetailText(estimatedL1Fees),detailTotal:renderTotalDetailValue(estimatedL1Fees),boldHeadings:!1}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_transaction_detail_item_transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_4__.Z,{detailTitle:t("total"),detailText:useCurrencyRateCheck&&renderTotalDetailText(getTransactionFeeTotal),detailTotal:renderTotalDetailValue(getTransactionFeeTotal)})))}FeeDetailsComponent.propTypes={txData:prop_types__WEBPACK_IMPORTED_MODULE_13___default().object,useCurrencyRateCheck:prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool,hideGasDetails:prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool}},"./ui/pages/confirmations/components/gas-details-item/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>gas_details_item});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__("./node_modules/react-redux/es/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),common=__webpack_require__("./ui/helpers/constants/common.ts"),gas=__webpack_require__("./shared/constants/gas.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),send=__webpack_require__("./ui/ducks/send/index.js"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),useDraftTransactionWithTxParams=__webpack_require__("./ui/pages/confirmations/hooks/useDraftTransactionWithTxParams.js"),gasFee=__webpack_require__("./ui/contexts/gasFee.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),loading_heartbeat=__webpack_require__("./ui/components/ui/loading-heartbeat/index.js"),edit_gas_fee_icon=__webpack_require__("./ui/pages/confirmations/components/edit-gas-fee-icon/edit-gas-fee-icon.js"),gas_timing_component=__webpack_require__("./ui/pages/confirmations/components/gas-timing/gas-timing.component.js"),fetchEstimatedL1Fee=__webpack_require__("./ui/helpers/utils/optimism/fetchEstimatedL1Fee.js"),transaction_detail_item_component=__webpack_require__("./ui/pages/confirmations/components/transaction-detail-item/transaction-detail-item.component.js"),user_preferenced_currency_display=__webpack_require__("./ui/components/app/user-preferenced-currency-display/index.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var GasDetailsItem=function(param){var _transactionData_txParams,_transactionData_txParams1,_transactionData_txParams_maxPriorityFeePerGas,_transactionData_txParams_maxFeePerGas,dataTestId=param["data-testid"],_param_userAcknowledgedGasMissing=param.userAcknowledgedGasMissing,userAcknowledgedGasMissing=void 0!==_param_userAcknowledgedGasMissing&&_param_userAcknowledgedGasMissing,t=(0,useI18nContext.C)(),isMultiLayerFeeNetwork=(0,es.v9)(selectors.SEh),txData=(0,es.v9)(selectors.LCq),_useState=_sliced_to_array((0,react.useState)(null),2),estimatedL1Fees=_useState[0],setEstimatedL1Fees=_useState[1];(0,react.useEffect)(function(){isMultiLayerFeeNetwork&&(0,fetchEstimatedL1Fee.Z)(null==txData?void 0:txData.chainId,txData).then(function(result){setEstimatedL1Fees(result)}).catch(function(_err){setEstimatedL1Fees(null)})},[isMultiLayerFeeNetwork,txData]);var draftTransaction=(0,es.v9)(send.aP),transactionData=(0,useDraftTransactionWithTxParams.r)(),_useSelector=(0,es.v9)(function(state){return(0,selectors.nfL)(state,transactionData)}),draftHexMinimumTransactionFee=_useSelector.hexMinimumTransactionFee,draftHexMaximumTransactionFee=_useSelector.hexMaximumTransactionFee,_useGasFeeContext=(0,gasFee.YJ)(),estimateUsed=_useGasFeeContext.estimateUsed,hasSimulationError=_useGasFeeContext.hasSimulationError,hexMaximumTransactionFee=_useGasFeeContext.maximumCostInHexWei,maxPriorityFeePerGas=_useGasFeeContext.maxPriorityFeePerGas,maxFeePerGas=_useGasFeeContext.maxFeePerGas,useNativeCurrencyAsPrimaryCurrency=(0,es.v9)(selectors.Izy).useNativeCurrencyAsPrimaryCurrency,useCurrencyRateCheck=(0,es.v9)(selectors.nsI),getTransactionFeeTotal=(0,react.useMemo)(function(){return isMultiLayerFeeNetwork?(0,conversion_utils.Vb)(hexMaximumTransactionFee,estimatedL1Fees||0):hexMaximumTransactionFee},[isMultiLayerFeeNetwork,hexMaximumTransactionFee,estimatedL1Fees]);if(hasSimulationError&&!userAcknowledgedGasMissing)return null;var maxPriorityFeePerGasToRender=(null!=maxPriorityFeePerGas?maxPriorityFeePerGas:(0,conversion_utils.Yg)(null!==(_transactionData_txParams_maxPriorityFeePerGas=null===(_transactionData_txParams=transactionData.txParams)||void 0===_transactionData_txParams?void 0:_transactionData_txParams.maxPriorityFeePerGas)&&void 0!==_transactionData_txParams_maxPriorityFeePerGas?_transactionData_txParams_maxPriorityFeePerGas:"0x0")).toString(),maxFeePerGasToRender=(null!=maxFeePerGas?maxFeePerGas:(0,conversion_utils.Yg)(null!==(_transactionData_txParams_maxFeePerGas=null===(_transactionData_txParams1=transactionData.txParams)||void 0===_transactionData_txParams1?void 0:_transactionData_txParams1.maxFeePerGas)&&void 0!==_transactionData_txParams_maxFeePerGas?_transactionData_txParams_maxFeePerGas:"0x0")).toString();return react.createElement(transaction_detail_item_component.Z,{key:"gas-details-item","data-testid":dataTestId,detailTitle:react.createElement(component_library.xv,null,t("estimatedFee")),detailTitleColor:design_system.d9.textDefault,detailText:0===Object.keys(draftTransaction).length&&react.createElement("div",{className:"gas-details-item__currency-container"},react.createElement(loading_heartbeat.Z,{estimateUsed:estimateUsed}),react.createElement(edit_gas_fee_icon.Z,{userAcknowledgedGasMissing:userAcknowledgedGasMissing}),useCurrencyRateCheck&&react.createElement(user_preferenced_currency_display.Z,{type:common.Vb,value:getTransactionFeeTotal,hideLabel:!!useNativeCurrencyAsPrimaryCurrency})),detailTotal:react.createElement("div",{className:"gas-details-item__currency-container"},react.createElement(loading_heartbeat.Z,{estimateUsed:estimateUsed}),react.createElement(user_preferenced_currency_display.Z,{type:common._8,value:getTransactionFeeTotal||draftHexMinimumTransactionFee,hideLabel:!useNativeCurrencyAsPrimaryCurrency})),subText:react.createElement(react.Fragment,null,react.createElement(box.ZP,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:classnames_default()("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":estimateUsed===gas.o7.high||estimateUsed===gas.o7.dappSuggestedHigh})},react.createElement(loading_heartbeat.Z,{estimateUsed:estimateUsed}),react.createElement(box.ZP,{marginRight:1},react.createElement("strong",null,(estimateUsed===gas.o7.high||estimateUsed===gas.o7.dappSuggestedHigh)&&" ",t("editGasSubTextFeeLabel"))),react.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},react.createElement(loading_heartbeat.Z,{estimateUsed:estimateUsed}),react.createElement(user_preferenced_currency_display.Z,{key:"editGasSubTextFeeAmount",type:common._8,value:getTransactionFeeTotal||draftHexMaximumTransactionFee,hideLabel:!useNativeCurrencyAsPrimaryCurrency})))),subTitle:react.createElement(gas_timing_component.Z,{maxPriorityFeePerGas:maxPriorityFeePerGasToRender,maxFeePerGas:maxFeePerGasToRender})})};GasDetailsItem.propTypes={"data-testid":prop_types_default().string,userAcknowledgedGasMissing:prop_types_default().bool};let gas_details_item=GasDetailsItem},"./ui/pages/confirmations/components/gas-timing/gas-timing.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>GasTiming});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),bignumber_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/ducks/metamask/metamask.js"),_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/helpers/constants/gas.js"),_shared_constants_gas__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./shared/constants/gas.ts"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/contexts/i18n.js"),_components_ui_typography_typography__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./ui/components/ui/typography/typography.js"),_store_actions__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./ui/store/actions.ts"),_contexts_gasFee__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./ui/contexts/gasFee.js"),_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./ui/hooks/usePrevious.js"),_hooks_useDraftTransactionWithTxParams__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./ui/pages/confirmations/hooks/useDraftTransactionWithTxParams.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var toHumanReadableTime=function(){var milliseconds=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,seconds=Math.ceil(milliseconds/1e3);return seconds<=90?t("gasTimingSecondsShort",[seconds]):t("gasTimingMinutesShort",[Math.ceil(seconds/60)])};function GasTiming(param){var _param_maxFeePerGas=param.maxFeePerGas,maxFeePerGas=void 0===_param_maxFeePerGas?0:_param_maxFeePerGas,_param_maxPriorityFeePerGas=param.maxPriorityFeePerGas,maxPriorityFeePerGas=void 0===_param_maxPriorityFeePerGas?0:_param_maxPriorityFeePerGas,gasWarnings=param.gasWarnings,gasEstimateType=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.v9)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_6__.xP),gasFeeEstimates=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.v9)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_6__.lq),isGasEstimatesLoading=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.v9)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_6__.rc),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),2),customEstimatedTime=_useState[0],setCustomEstimatedTime=_useState[1],t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_9__.OO),estimateUsed=(0,_contexts_gasFee__WEBPACK_IMPORTED_MODULE_12__.YJ)().estimateUsed,transactionData=(0,_hooks_useDraftTransactionWithTxParams__WEBPACK_IMPORTED_MODULE_14__.r)(),isUnknownLow=(null==gasFeeEstimates?void 0:gasFeeEstimates.low)&&Number(maxPriorityFeePerGas)<Number(gasFeeEstimates.low.suggestedMaxPriorityFeePerGas),previousMaxFeePerGas=(0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_13__.D)(maxFeePerGas),previousMaxPriorityFeePerGas=(0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_13__.D)(maxPriorityFeePerGas),previousIsUnknownLow=(0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_13__.D)(isUnknownLow);if((0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){(isUnknownLow||maxPriorityFeePerGas&&maxPriorityFeePerGas!==previousMaxPriorityFeePerGas||maxFeePerGas&&maxFeePerGas!==previousMaxFeePerGas)&&(0,_store_actions__WEBPACK_IMPORTED_MODULE_11__.H61)(new(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())(maxPriorityFeePerGas,10).toString(10),new(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())(maxFeePerGas,10).toString(10)).then(function(result){maxFeePerGas==maxFeePerGas&&maxPriorityFeePerGas==maxPriorityFeePerGas&&setCustomEstimatedTime(result)}),!1!==isUnknownLow&&!0===previousIsUnknownLow&&setCustomEstimatedTime(null)},[maxPriorityFeePerGas,maxFeePerGas,isUnknownLow,previousMaxFeePerGas,previousMaxPriorityFeePerGas,previousIsUnknownLow]),(null==gasWarnings?void 0:gasWarnings.maxPriorityFee)===_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_7__.IT.MAX_PRIORITY_FEE_TOO_LOW||(null==gasWarnings?void 0:gasWarnings.maxFee)===_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_7__.IT.MAX_FEE_TOO_LOW)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_typography_typography__WEBPACK_IMPORTED_MODULE_10__.ZP,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bu.H7,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.m5.BOLD,className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("gas-timing","gas-timing--negative")},t("editGasTooLow"));if(isGasEstimatesLoading||gasEstimateType!==_shared_constants_gas__WEBPACK_IMPORTED_MODULE_8__.gB.feeMarket)return null;var _gasFeeEstimates_low=gasFeeEstimates.low,low=void 0===_gasFeeEstimates_low?{}:_gasFeeEstimates_low,_gasFeeEstimates_medium=gasFeeEstimates.medium,_gasFeeEstimates_high=gasFeeEstimates.high,high=void 0===_gasFeeEstimates_high?{}:_gasFeeEstimates_high,estimateToUse=estimateUsed||transactionData.userFeeLevel||"medium",text=t(estimateToUse),time="",attitude="positive";return"low"===estimateToUse&&(text=t("gasTimingLow")),Number(maxPriorityFeePerGas)>=Number((void 0===_gasFeeEstimates_medium?{}:_gasFeeEstimates_medium).suggestedMaxPriorityFeePerGas)?time=Number(maxPriorityFeePerGas)<Number(high.suggestedMaxPriorityFeePerGas)?toHumanReadableTime(low.maxWaitTimeEstimate,t):toHumanReadableTime(high.minWaitTimeEstimate,t):isUnknownLow?("low"===estimateToUse&&(attitude="negative"),customEstimatedTime&&"unknown"!==customEstimatedTime&&(null==customEstimatedTime?void 0:customEstimatedTime.upperTimeBound)!=="unknown"?time=toHumanReadableTime(Number(null==customEstimatedTime?void 0:customEstimatedTime.upperTimeBound),t):(text=t("editGasTooLow"),attitude="negative")):time=toHumanReadableTime(low.maxWaitTimeEstimate,t),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xu,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textMuted,variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodyXs},text),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodyXs,marginLeft:1,color:function(){switch(attitude){case"positive":default:return _helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.successDefault;case"warning":return _helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.warningDefault;case"negative":return _helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.errorDefault}}()},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{"data-testid":"gas-timing-time"},"~",time)))}GasTiming.propTypes={maxPriorityFeePerGas:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,maxFeePerGas:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,gasWarnings:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object}},"./ui/pages/confirmations/components/multilayer-fee-message/multi-layer-fee-message.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>MultilayerFeeMessage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_sentry_browser__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@sentry/core/esm/exports.js"),_transaction_detail_item_transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/pages/confirmations/components/transaction-detail-item/transaction-detail-item.component.js"),_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/app/user-preferenced-currency-display/index.js"),_helpers_utils_optimism_fetchEstimatedL1Fee__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/optimism/fetchEstimatedL1Fee.js"),_helpers_constants_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/common.ts"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/contexts/i18n.js"),_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./shared/modules/conversion.utils.ts"),_shared_constants_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./shared/constants/common.ts"),_shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./shared/modules/Numeric.ts"),_selectors__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./ui/selectors/index.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}function MultilayerFeeMessage(param){var _transaction_txParams,transaction=param.transaction,layer2fee=param.layer2fee,nativeCurrency=param.nativeCurrency,plainStyle=param.plainStyle,t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_6__.OO),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),2),fetchedLayer1Total=_useState[0],setLayer1Total=_useState[1],useCurrencyRateCheck=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_10__.nsI);if((0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){var _ref;(null==transaction?void 0:transaction.txParams)&&(_ref=_async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,(0,_helpers_utils_optimism_fetchEstimatedL1Fee__WEBPACK_IMPORTED_MODULE_4__.Z)(null==transaction?void 0:transaction.chainId,transaction)];case 1:return setLayer1Total(_state.sent()),[3,3];case 2:return e=_state.sent(),(0,_sentry_browser__WEBPACK_IMPORTED_MODULE_11__.Tb)(e),setLayer1Total(null),[3,3];case 3:return[2]}})}),function getEstimatedL1Fee(){return _ref.apply(this,arguments)})()},[transaction]),!(null==transaction?void 0:transaction.txParams))return null;var layer1Total=t("unknown"),feeTotalInFiat=t("unknown");if(null!==fetchedLayer1Total){var layer1TotalBN=new _shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_9__.D(fetchedLayer1Total,16,_shared_constants_common__WEBPACK_IMPORTED_MODULE_8__.E.WEI);layer1Total="".concat(layer1TotalBN.toDenomination(_shared_constants_common__WEBPACK_IMPORTED_MODULE_8__.E.ETH).toFixed(12)," ").concat(nativeCurrency),feeTotalInFiat=useCurrencyRateCheck?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_3__.Z,{type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_5__.Vb,value:fetchedLayer1Total,showFiat:!0,hideLabel:!0}):null}var totalInWeiHex=(0,_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_7__.Vb)(layer2fee||"0x0",fetchedLayer1Total||"0x0",(null==transaction?void 0:null===(_transaction_txParams=transaction.txParams)||void 0===_transaction_txParams?void 0:_transaction_txParams.value)||"0x0"),totalBN=new _shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_9__.D(totalInWeiHex,16,_shared_constants_common__WEBPACK_IMPORTED_MODULE_8__.E.WEI),totalInEth="".concat(totalBN.toDenomination(_shared_constants_common__WEBPACK_IMPORTED_MODULE_8__.E.ETH).toFixed(12)," ").concat(nativeCurrency),totalInFiat=useCurrencyRateCheck?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_user_preferenced_currency_display__WEBPACK_IMPORTED_MODULE_3__.Z,{type:_helpers_constants_common__WEBPACK_IMPORTED_MODULE_5__.Vb,value:totalInWeiHex,showFiat:!0,hideLabel:!0}):null;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"multi-layer-fee-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_transaction_detail_item_transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_2__.Z,{key:"multi-layer-fee-message-total-item-gas-fee",detailTitle:t("layer1Fees"),detailTotal:layer1Total,detailText:useCurrencyRateCheck&&feeTotalInFiat,noBold:plainStyle,flexWidthValues:plainStyle}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_transaction_detail_item_transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_2__.Z,{key:"multi-layer-fee-message-total-item-total",detailTitle:t("total"),detailTotal:totalInEth,detailText:totalInFiat,subTitle:t("transactionDetailMultiLayerTotalSubtitle"),noBold:plainStyle,flexWidthValues:plainStyle}))}MultilayerFeeMessage.propTypes={transaction:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,layer2fee:prop_types__WEBPACK_IMPORTED_MODULE_12___default().string,nativeCurrency:prop_types__WEBPACK_IMPORTED_MODULE_12___default().string,plainStyle:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool}},"./ui/pages/confirmations/components/review-spending-cap/review-spending-cap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ReviewSpendingCap});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_contexts_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/contexts/i18n.js"),_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/tooltip/index.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./shared/modules/Numeric.ts");function ReviewSpendingCap(param){var tokenName=param.tokenName,currentTokenBalance=param.currentTokenBalance,tokenValue=param.tokenValue,onEdit=param.onEdit,t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_1__.OO),valueIsGreaterThanBalance=new _shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_5__.D(Number(tokenValue),10).greaterThan(Number(currentTokenBalance),10);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{className:"review-spending-cap",borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.$u.SM,paddingTop:4,paddingRight:4,paddingLeft:4,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.g1.flexStart,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Qb.Column,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.lP.backgroundAlternative,gap:1},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Qb.Row,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.g1.center,className:"review-spending-cap__heading"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Qb.Row,className:"review-spending-cap__heading-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.rK.bodySmBold,as:"h6",display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.sS.InlineBlock},t("dappRequestedSpendingCap")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{marginLeft:2,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.sS.InlineBlock},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_2__.Z,{interactive:!0,position:"top",html:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.rK.bodySmBold,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.d9.textAlternative,className:"review-spending-cap__heading-title__tooltip"},valueIsGreaterThanBalance&&t("warningTooltipText",[react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{key:"tooltip-text",variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.rK.bodySmBold,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.d9.errorDefault},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.JO,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_3__.uH.Warning,style:{verticalAlign:"middle"}}),t("beCareful"))]),0===Number(tokenValue)&&t("revokeSpendingCapTooltipText"))},valueIsGreaterThanBalance&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.JO,{className:"review-spending-cap__heading-title__tooltip__warning-icon",name:_components_component_library__WEBPACK_IMPORTED_MODULE_3__.uH.Danger,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.EY.errorDefault,size:_components_component_library__WEBPACK_IMPORTED_MODULE_3__.Jh.Sm,style:{verticalAlign:"middle"}}),0===Number(tokenValue)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.JO,{className:"review-spending-cap__heading-title__tooltip__question-icon",name:_components_component_library__WEBPACK_IMPORTED_MODULE_3__.uH.Question,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.EY.iconDefault})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{className:"review-spending-cap__heading-detail",textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.PH.End},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.ZP,{size:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.$u.auto,onClick:function(e){e.preventDefault(),onEdit()}},t("edit")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xu,{className:"review-spending-cap__value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{color:valueIsGreaterThanBalance?_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.d9.errorDefault:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.d9.textDefault,variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.rK.bodySmBold,as:"h6",marginBottom:3},tokenValue," ",tokenName)))}ReviewSpendingCap.propTypes={tokenName:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,currentTokenBalance:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,tokenValue:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,onEdit:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func}},"./ui/pages/confirmations/components/simulation-error-message/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SimulationErrorMessage});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),i18n=__webpack_require__("./.storybook/i18n.js"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),contexts_metametrics=__webpack_require__("./ui/contexts/metametrics.js");function SimulationErrorMessage(param){var _param_userAcknowledgedGasMissing=param.userAcknowledgedGasMissing,setUserAcknowledgedGasMissing=param.setUserAcknowledgedGasMissing,t=(0,react.useContext)(i18n.OO),trackEvent=(0,react.useContext)(contexts_metametrics.Wd);return(0,react.useEffect)(function(){trackEvent({category:metametrics.ci.Transactions,event:metametrics.AW.SimulationFails,properties:{ui_customizations:[metametrics.Hv.GasEstimationFailed]}})},[]),!0===(void 0!==_param_userAcknowledgedGasMissing&&_param_userAcknowledgedGasMissing)?react.createElement(component_library.wB,{severity:design_system.t3.DANGER},t("simulationErrorMessageV2")):react.createElement(component_library.wB,{severity:design_system.t3.DANGER,actionButtonLabel:t("proceedWithTransaction"),actionButtonOnClick:setUserAcknowledgedGasMissing},t("simulationErrorMessageV2"))}SimulationErrorMessage.propTypes={userAcknowledgedGasMissing:prop_types_default().bool,setUserAcknowledgedGasMissing:prop_types_default().func}},"./ui/pages/confirmations/components/transaction-detail-item/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _transaction_detail_item_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/pages/confirmations/components/transaction-detail-item/transaction-detail-item.component.js")},"./ui/pages/confirmations/components/transaction-detail-item/transaction-detail-item.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>TransactionDetailItem});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_components_component_library__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/component-library/index.ts");function TransactionDetailItem(param){var dataTestId=param["data-testid"],_param_detailTitle=param.detailTitle,detailText=param.detailText,_param_detailTitleColor=param.detailTitleColor,detailTitleColor=void 0===_param_detailTitleColor?_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Il.textDefault:_param_detailTitleColor,_param_detailTotal=param.detailTotal,_param_subTitle=param.subTitle,subTitle=void 0===_param_subTitle?"":_param_subTitle,_param_subText=param.subText,_param_boldHeadings=param.boldHeadings,boldHeadings=void 0===_param_boldHeadings||_param_boldHeadings,_param_flexWidthValues=param.flexWidthValues;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"transaction-detail-item","data-testid":dataTestId},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"transaction-detail-item__row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{as:"h6",color:detailTitleColor,fontWeight:boldHeadings?_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.U9.Bold:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.U9.Normal,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.sS.Flex,flexWrap:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.gP.NoWrap,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.g1.center},void 0===_param_detailTitle?"":_param_detailTitle),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("transaction-detail-item__detail-values",{"transaction-detail-item__detail-values--flex-width":void 0!==_param_flexWidthValues&&_param_flexWidthValues})},detailText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Il.textAlternative},detailText),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Il.textDefault,fontWeight:boldHeadings?_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.U9.Bold:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.U9.Normal,marginLeft:1,textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.PH.Right},void 0===_param_detailTotal?"":_param_detailTotal))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"transaction-detail-item__row"},react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(subTitle)?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,subTitle):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{as:"h6",variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.rK.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Il.textAlternative},subTitle),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_3__.xv,{as:"h6",variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.rK.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Il.textAlternative,textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.PH.End,className:"transaction-detail-item__row-subText"},void 0===_param_subText?"":_param_subText)))}TransactionDetailItem.propTypes={"data-testid":prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,detailTitle:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,prop_types__WEBPACK_IMPORTED_MODULE_4___default().node]),detailTitleColor:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,detailText:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,prop_types__WEBPACK_IMPORTED_MODULE_4___default().node]),detailTotal:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,prop_types__WEBPACK_IMPORTED_MODULE_4___default().node]),subTitle:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,prop_types__WEBPACK_IMPORTED_MODULE_4___default().node]),subText:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,prop_types__WEBPACK_IMPORTED_MODULE_4___default().node]),boldHeadings:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,flexWidthValues:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool}},"./ui/pages/confirmations/confirm-approve/confirm-approve.util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>getCustomTxParamsData});var _metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/index.js"),_shared_lib_swaps_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./shared/lib/swaps-utils.js"),_shared_modules_transaction_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./shared/modules/transaction.utils.js"),_helpers_utils_token_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/helpers/utils/token-util.js"),_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/modules/conversion.utils.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function getCustomTxParamsData(data,param){var customPermissionAmount=param.customPermissionAmount,decimals=param.decimals,tokenData=(0,_shared_modules_transaction_utils__WEBPACK_IMPORTED_MODULE_2__.I1)(data);if(tokenData){if(tokenData.name!==_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.TransactionType.tokenMethodApprove)throw Error("Invalid data; should be 'approve' method, but instead is '".concat(tokenData.name,"'"))}else throw Error("Invalid data");var spender=(0,_helpers_utils_token_util__WEBPACK_IMPORTED_MODULE_3__.Qn)(tokenData);spender.startsWith("0x")&&(spender=spender.substring(2));var _data_split=_sliced_to_array(data.split(spender),2),signature=_data_split[0],tokenValue=_data_split[1];if(signature&&tokenValue){if(64!==tokenValue.length)throw Error("Invalid token value; should be exactly 64 hex digits long (u256)")}else throw Error("Invalid data");var customPermissionValue=(0,_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_4__.X0)((0,_shared_lib_swaps_utils__WEBPACK_IMPORTED_MODULE_1__.wg)(customPermissionAmount,decimals));if(customPermissionValue.length>64)throw Error("Custom value is larger than u256");return customPermissionValue=customPermissionValue.padStart(tokenValue.length,"0"),"".concat(signature).concat(spender).concat(customPermissionValue)}},"./ui/pages/confirmations/hooks/useDraftTransactionWithTxParams.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>useDraftTransactionWithTxParams});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),_ducks_send__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/ducks/send/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/selectors/index.js"),useDraftTransactionWithTxParams=function(){var draftTransaction=(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.v9)(_ducks_send__WEBPACK_IMPORTED_MODULE_1__.aP),unapprovedTxs=(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_2__.fvg),transactionData={};if(0!==Object.keys(draftTransaction).length){var _draftTransaction_gas,_editingTransaction_txParams,_draftTransaction_gas1,_editingTransaction_txParams1,_editingTransaction_txParams2,_draftTransaction_gas2,_editingTransaction_txParams3,_editingTransaction_txParams4,_draftTransaction_gas3,_draftTransaction_amount,editingTransaction=unapprovedTxs[draftTransaction.id];transactionData={txParams:{gasPrice:null===(_draftTransaction_gas=draftTransaction.gas)||void 0===_draftTransaction_gas?void 0:_draftTransaction_gas.gasPrice,gas:(null==editingTransaction?void 0:editingTransaction.userEditedGasLimit)?null==editingTransaction?void 0:null===(_editingTransaction_txParams=editingTransaction.txParams)||void 0===_editingTransaction_txParams?void 0:_editingTransaction_txParams.gas:null===(_draftTransaction_gas1=draftTransaction.gas)||void 0===_draftTransaction_gas1?void 0:_draftTransaction_gas1.gasLimit,maxFeePerGas:(null==editingTransaction?void 0:null===(_editingTransaction_txParams1=editingTransaction.txParams)||void 0===_editingTransaction_txParams1?void 0:_editingTransaction_txParams1.maxFeePerGas)?null==editingTransaction?void 0:null===(_editingTransaction_txParams2=editingTransaction.txParams)||void 0===_editingTransaction_txParams2?void 0:_editingTransaction_txParams2.maxFeePerGas:null===(_draftTransaction_gas2=draftTransaction.gas)||void 0===_draftTransaction_gas2?void 0:_draftTransaction_gas2.maxFeePerGas,maxPriorityFeePerGas:(null==editingTransaction?void 0:null===(_editingTransaction_txParams3=editingTransaction.txParams)||void 0===_editingTransaction_txParams3?void 0:_editingTransaction_txParams3.maxPriorityFeePerGas)?null==editingTransaction?void 0:null===(_editingTransaction_txParams4=editingTransaction.txParams)||void 0===_editingTransaction_txParams4?void 0:_editingTransaction_txParams4.maxPriorityFeePerGas:null===(_draftTransaction_gas3=draftTransaction.gas)||void 0===_draftTransaction_gas3?void 0:_draftTransaction_gas3.maxPriorityFeePerGas,value:null===(_draftTransaction_amount=draftTransaction.amount)||void 0===_draftTransaction_amount?void 0:_draftTransaction_amount.value,type:draftTransaction.transactionType},userFeeLevel:null==editingTransaction?void 0:editingTransaction.userFeeLevel}}return transactionData}},"./node_modules/@blockaid/ppom_release/package.json":module=>{module.exports={i8:"1.4.1"}}}]);