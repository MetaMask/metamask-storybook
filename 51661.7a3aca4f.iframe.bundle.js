"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[51661],{"./ui/pages/confirmations/components/confirm/info/hooks/useEIP1559TxFees.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>useEIP1559TxFees});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./shared/modules/conversion.utils.ts"),useEIP1559TxFees=function(transactionMeta){var _transactionMeta_txParams,_transactionMeta_txParams1,hexMaxFeePerGas=null==transactionMeta||null==(_transactionMeta_txParams=transactionMeta.txParams)?void 0:_transactionMeta_txParams.maxFeePerGas,hexMaxPriorityFeePerGas=null==transactionMeta||null==(_transactionMeta_txParams1=transactionMeta.txParams)?void 0:_transactionMeta_txParams1.maxPriorityFeePerGas;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return{maxFeePerGas:hexMaxFeePerGas?(0,_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_1__.I0)(hexMaxFeePerGas):"0",maxPriorityFeePerGas:hexMaxPriorityFeePerGas?(0,_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_1__.I0)(hexMaxPriorityFeePerGas):"0"}},[hexMaxFeePerGas,hexMaxPriorityFeePerGas])}},"./ui/pages/confirmations/components/confirm/info/hooks/useFeeCalculations.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>useFeeCalculations});var hex=__webpack_require__("./node_modules/@metamask/utils/dist/hex.mjs"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),common=__webpack_require__("./shared/constants/common.ts"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),Numeric=__webpack_require__("./shared/modules/Numeric.ts"),useFiatFormatter=__webpack_require__("./ui/hooks/useFiatFormatter.ts"),useGasFeeEstimates=__webpack_require__("./ui/hooks/useGasFeeEstimates.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),selectors=__webpack_require__("./ui/selectors/index.js"),constants=__webpack_require__("./ui/pages/confirmations/components/confirm/info/shared/constants.ts"),useEIP1559TxFees=__webpack_require__("./ui/pages/confirmations/components/confirm/info/hooks/useEIP1559TxFees.ts"),useSupportsEIP1559=__webpack_require__("./ui/pages/confirmations/components/confirm/info/hooks/useSupportsEIP1559.ts");function useTransactionGasFeeEstimate(transactionMeta,supportsEIP1559){var _transactionMeta_txParams,_transactionMeta_txParams1,gasEstimate,_transactionMeta_txParams2=transactionMeta.txParams,gasLimit=_transactionMeta_txParams2.gas,gasPrice=_transactionMeta_txParams2.gasPrice,gasFeeEstimates=(0,useGasFeeEstimates.K)(transactionMeta.networkClientId).gasFeeEstimates,estimatedBaseFee=null==gasFeeEstimates?void 0:gasFeeEstimates.estimatedBaseFee;gasLimit=gasLimit||constants.Lv,gasPrice=gasPrice||constants.Lv;var maxPriorityFeePerGas=(null==(_transactionMeta_txParams=transactionMeta.txParams)?void 0:_transactionMeta_txParams.maxPriorityFeePerGas)||constants.Lv,maxFeePerGas=(null==(_transactionMeta_txParams1=transactionMeta.txParams)?void 0:_transactionMeta_txParams1.maxFeePerGas)||constants.Lv;if(supportsEIP1559){var estimatedBaseFeeWeiHex=(0,conversion_utils.Sb)(estimatedBaseFee),minimumFeePerGas=(0,conversion_utils.XH)(estimatedBaseFeeWeiHex||constants.Lv,maxPriorityFeePerGas);new Numeric.e(minimumFeePerGas,16).greaterThan(maxFeePerGas,16)&&(minimumFeePerGas=maxFeePerGas),gasEstimate=(0,conversion_utils.Is)(minimumFeePerGas,gasLimit)}else gasEstimate=(0,conversion_utils.Is)(gasPrice,gasLimit);return gasEstimate}var EMPTY_FEES={currentCurrencyFee:"",currentCurrencyFeeWith18SignificantDigits:"",nativeCurrencyFee:""};function useFeeCalculations(transactionMeta){var _transactionMeta_txParams,_transactionMeta_txParams1,currentCurrency=(0,es.d4)(metamask.Fx),chainId=transactionMeta.chainId,fiatFormatter=(0,useFiatFormatter.y)(),conversionRate=(0,es.d4)(function(state){return(0,selectors._po)(state,chainId)}),getFeesFromHex=(0,react.useCallback)(function(hexFee){var currentCurrencyFee,currentCurrencyFeeWith18SignificantDigits,nativeCurrencyFee="".concat((0,conversion_utils.gh)({value:hexFee,fromCurrency:common.sk.GWEI,numberOfDecimals:4})||0),decimalCurrentCurrencyFee=Number((0,conversion_utils.gh)({value:hexFee,conversionRate:conversionRate,fromCurrency:common.sk.GWEI,toCurrency:currentCurrency,numberOfDecimals:2}));return 0===decimalCurrentCurrencyFee?(currentCurrencyFee="< ".concat(fiatFormatter(.01)),currentCurrencyFeeWith18SignificantDigits=(0,conversion_utils.gh)({value:hexFee,conversionRate:conversionRate,fromCurrency:common.sk.GWEI,toCurrency:currentCurrency,numberOfDecimals:18})):(currentCurrencyFee=fiatFormatter(decimalCurrentCurrencyFee),currentCurrencyFeeWith18SignificantDigits=null),{currentCurrencyFee:currentCurrencyFee,currentCurrencyFeeWith18SignificantDigits:currentCurrencyFeeWith18SignificantDigits,hexFee:hexFee,nativeCurrencyFee:nativeCurrencyFee}},[conversionRate,currentCurrency,fiatFormatter]),_useEIP1559TxFees=(0,useEIP1559TxFees.p)(transactionMeta),maxFeePerGas=_useEIP1559TxFees.maxFeePerGas,maxPriorityFeePerGas=_useEIP1559TxFees.maxPriorityFeePerGas,supportsEIP1559=(0,useSupportsEIP1559.M)(transactionMeta).supportsEIP1559,gasFeeEstimate=useTransactionGasFeeEstimate(transactionMeta,supportsEIP1559),gasFeeEstimates=(0,useGasFeeEstimates.K)(transactionMeta.networkClientId).gasFeeEstimates,estimatedBaseFee=null==gasFeeEstimates?void 0:gasFeeEstimates.estimatedBaseFee,layer1GasFee=null==transactionMeta?void 0:transactionMeta.layer1GasFee,hasLayer1GasFee=!!layer1GasFee,feesL1=(0,react.useMemo)(function(){return hasLayer1GasFee?getFeesFromHex(layer1GasFee):EMPTY_FEES},[getFeesFromHex,layer1GasFee,hasLayer1GasFee]),feesL2=(0,react.useMemo)(function(){return hasLayer1GasFee?getFeesFromHex(gasFeeEstimate):EMPTY_FEES},[gasFeeEstimate,getFeesFromHex,hasLayer1GasFee]),gasLimit=(null==transactionMeta||null==(_transactionMeta_txParams=transactionMeta.txParams)?void 0:_transactionMeta_txParams.gas)||constants.Lv,gasPrice=(null==transactionMeta||null==(_transactionMeta_txParams1=transactionMeta.txParams)?void 0:_transactionMeta_txParams1.gasPrice)||constants.Lv,_getFeesFromHex=getFeesFromHex((0,react.useMemo)(function(){return(0,conversion_utils.Is)(supportsEIP1559?(0,conversion_utils.Ao)(maxFeePerGas):gasPrice,gasLimit)},[supportsEIP1559,maxFeePerGas,gasLimit,gasPrice])),maxFeeFiat=_getFeesFromHex.currentCurrencyFee,maxFeeFiatWith18SignificantDigits=_getFeesFromHex.currentCurrencyFeeWith18SignificantDigits,maxFeeNative=_getFeesFromHex.nativeCurrencyFee,estimatedFees=(0,react.useMemo)(function(){if(hasLayer1GasFee)return getFeesFromHex((0,conversion_utils.XH)(gasFeeEstimate,layer1GasFee));var minimumFeePerGas=(0,conversion_utils.XH)((0,conversion_utils.Sb)(estimatedBaseFee)||constants.Lv,(0,conversion_utils.Ao)(maxPriorityFeePerGas));new Numeric.e(minimumFeePerGas,16).greaterThan((0,conversion_utils.Ao)(maxFeePerGas),16)&&(minimumFeePerGas=(0,conversion_utils.Ao)(maxFeePerGas));var gasLimitNoBuffer=transactionMeta.gasLimitNoBuffer||constants.Lv;return getFeesFromHex((0,conversion_utils.Is)(supportsEIP1559?minimumFeePerGas:gasPrice,gasLimitNoBuffer))},[estimatedBaseFee,gasFeeEstimate,gasPrice,getFeesFromHex,hasLayer1GasFee,layer1GasFee,maxFeePerGas,maxPriorityFeePerGas,supportsEIP1559,transactionMeta]);return{estimatedFeeFiat:estimatedFees.currentCurrencyFee,estimatedFeeFiatWith18SignificantDigits:estimatedFees.currentCurrencyFeeWith18SignificantDigits,estimatedFeeNative:estimatedFees.nativeCurrencyFee,estimatedFeeNativeHex:(0,hex.mu)(estimatedFees.hexFee),l1FeeFiat:feesL1.currentCurrencyFee,l1FeeFiatWith18SignificantDigits:feesL1.currentCurrencyFeeWith18SignificantDigits,l1FeeNative:feesL1.nativeCurrencyFee,l2FeeFiat:feesL2.currentCurrencyFee,l2FeeFiatWith18SignificantDigits:feesL2.currentCurrencyFeeWith18SignificantDigits,l2FeeNative:feesL2.nativeCurrencyFee,maxFeeFiat:maxFeeFiat,maxFeeFiatWith18SignificantDigits:maxFeeFiatWith18SignificantDigits,maxFeeNative:maxFeeNative}}},"./ui/pages/confirmations/components/confirm/info/hooks/useGasFeeToken.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{kR:()=>useGasFeeToken,Lq:()=>useSelectedGasFeeToken});var hex=__webpack_require__("./node_modules/@metamask/utils/dist/hex.mjs"),bignumber=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_default=__webpack_require__.n(bignumber),es=__webpack_require__("./node_modules/react-redux/es/index.js"),lib_esm_interface=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/interface.js"),dist=__webpack_require__("./node_modules/@metamask/metamask-eth-abis/dist/index.js"),transaction=__webpack_require__("./shared/constants/transaction.ts"),context_confirm=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx"),react=__webpack_require__("./node_modules/react/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),confirm_tx_util=__webpack_require__("./ui/helpers/utils/confirm-tx.util.ts"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts");function useEthFiatAmount(ethAmount){var _overrides_showFiat,overrides=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},hideCurrencySymbol=arguments.length>2?arguments[2]:void 0,conversionRate=(0,es.d4)(metamask.fR),currentCurrency=(0,es.d4)(metamask.Fx),userPrefersShownFiat=(0,es.d4)(selectors.rrv),showFiat=null!=(_overrides_showFiat=overrides.showFiat)?_overrides_showFiat:userPrefersShownFiat,formattedFiat=(0,react.useMemo)(function(){return(0,conversion_utils.O2)(ethAmount,currentCurrency,conversionRate)},[conversionRate,currentCurrency,ethAmount]);if(showFiat&&"ETH"!==currentCurrency.toUpperCase()&&!(conversionRate<=0)&&void 0!==ethAmount){var fiatAmount=new(bignumber_default())(ethAmount.toString()).times(conversionRate);return ethAmount&&fiatAmount.lt(new(bignumber_default())(.01))&&fiatAmount.greaterThan(new(bignumber_default())(0))?hideCurrencySymbol?"< ".concat((0,confirm_tx_util.vv)(.01,currentCurrency)):"< ".concat((0,confirm_tx_util.vv)(.01,currentCurrency)," ").concat(currentCurrency.toUpperCase()):hideCurrencySymbol?(0,confirm_tx_util.vv)(formattedFiat,currentCurrency):"".concat((0,confirm_tx_util.vv)(formattedFiat,currentCurrency)," ").concat(currentCurrency.toUpperCase())}}var formatAmount=__webpack_require__("./ui/pages/confirmations/components/simulation-details/formatAmount.ts"),locale_locale=__webpack_require__("./ui/ducks/locale/locale.ts"),useFeeCalculations=__webpack_require__("./ui/pages/confirmations/components/confirm/info/hooks/useFeeCalculations.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function useGasFeeToken(param){var tokenAddress=param.tokenAddress,transactionMeta=(0,context_confirm.TW)().currentConfirmation,locale=(0,es.d4)(locale_locale.gA),nativeFeeToken=useNativeGasFeeToken(),gasFeeTokens=(null!=transactionMeta?transactionMeta:{}).gasFeeTokens,gasFeeToken=null==gasFeeTokens?void 0:gasFeeTokens.find(function(token){return token.tokenAddress.toLowerCase()===(null==tokenAddress?void 0:tokenAddress.toLowerCase())});gasFeeToken||(gasFeeToken=nativeFeeToken);var _ref=null!=gasFeeToken?gasFeeToken:{amount:"0x0",decimals:0},amount=_ref.amount,decimals=_ref.decimals,metaMaskFee=(0,hex.mu)(new bignumber.BigNumber(amount).times(.35).toString(16)),amountFormatted=(0,formatAmount.e)(locale,new bignumber.BigNumber(amount).shift(-decimals)),amountFiat=useFiatTokenValue(gasFeeToken,null==gasFeeToken?void 0:gasFeeToken.amount),balanceFiat=useFiatTokenValue(gasFeeToken,null==gasFeeToken?void 0:gasFeeToken.balance),metamaskFeeFiat=useFiatTokenValue(gasFeeToken,metaMaskFee),transferTransaction=tokenAddress===transaction.DG?getNativeTransferTransaction(gasFeeToken):getTokenTransferTransaction(gasFeeToken);return _object_spread_props(_object_spread({},gasFeeToken),{amountFormatted:amountFormatted,amountFiat:amountFiat,balanceFiat:balanceFiat,metaMaskFee:metaMaskFee,metamaskFeeFiat:metamaskFeeFiat,transferTransaction:transferTransaction})}function useSelectedGasFeeToken(){var transactionMeta=(0,context_confirm.TW)().currentConfirmation,tokenAddress=(null!=transactionMeta?transactionMeta:{}).selectedGasFeeToken,selectedToken=useGasFeeToken({tokenAddress:tokenAddress});return tokenAddress?selectedToken:void 0}function useNativeGasFeeToken(){var transactionMeta=(0,context_confirm.TW)().currentConfirmation,_ref=null!=transactionMeta?transactionMeta:{},transactionId=_ref.id,txParams=_ref.txParams,estimatedFeeNativeHex=(0,useFeeCalculations._)((null==transactionMeta?void 0:transactionMeta.txParams)?transactionMeta:{txParams:{}}).estimatedFeeNativeHex,networkConfiguration=(0,es.d4)(function(state){return(0,selectors.gD7)(state,null==transactionMeta?void 0:transactionMeta.chainId)}),balance=(0,es.d4)(function(state){return(0,selectors.y3W)(state,transactionId)}),nativeCurrency=(null!=networkConfiguration?networkConfiguration:{}).nativeCurrency,_ref1=null!=txParams?txParams:{};return{amount:estimatedFeeNativeHex,balance:balance,decimals:18,gas:_ref1.gas,gasTransfer:"0x0",maxFeePerGas:_ref1.maxFeePerGas,maxPriorityFeePerGas:_ref1.maxPriorityFeePerGas,rateWei:"0xDE0B6B3A7640000",recipient:transaction.DG,symbol:nativeCurrency,tokenAddress:transaction.DG}}function useFiatTokenValue(gasFeeToken,tokenValue){var _ref=null!=gasFeeToken?gasFeeToken:{decimals:0,rateWei:"0x0"},decimals=_ref.decimals,rateWei=_ref.rateWei,fiatValue=useEthFiatAmount(new bignumber.BigNumber(null!=tokenValue?tokenValue:"0x0").shift(-decimals).mul(new bignumber.BigNumber(rateWei)).shift(-18),{},!0);return gasFeeToken?fiatValue:""}function getTokenTransferTransaction(gasFeeToken){return{data:new lib_esm_interface.KA(dist.jB).encodeFunctionData("transfer",[gasFeeToken.recipient,gasFeeToken.amount]),gas:gasFeeToken.gasTransfer,maxFeePerGas:gasFeeToken.maxFeePerGas,maxPriorityFeePerGas:gasFeeToken.maxPriorityFeePerGas,to:gasFeeToken.tokenAddress}}function getNativeTransferTransaction(gasFeeToken){return{gas:gasFeeToken.gasTransfer,maxFeePerGas:gasFeeToken.maxFeePerGas,maxPriorityFeePerGas:gasFeeToken.maxPriorityFeePerGas,to:gasFeeToken.recipient,value:gasFeeToken.amount}}},"./ui/pages/confirmations/components/confirm/info/hooks/useSupportsEIP1559.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>useSupportsEIP1559});var _metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs"),react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),_helpers_utils_transactions_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/helpers/utils/transactions.util.js"),_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/selectors/index.js");function useSupportsEIP1559(transactionMeta){var _ref=null!=transactionMeta?transactionMeta:{},networkClientId=_ref.networkClientId,txParams=_ref.txParams,isLegacyTxn=(null==txParams?void 0:txParams.type)===_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_3__.tB.legacy||(0,_helpers_utils_transactions_util__WEBPACK_IMPORTED_MODULE_1__.yj)(transactionMeta);return{supportsEIP1559:(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.d4)(function(state){return(0,_selectors__WEBPACK_IMPORTED_MODULE_2__.PQP)(state,networkClientId)})&&!isLegacyTxn}}},"./ui/pages/confirmations/components/confirm/info/shared/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ip:()=>TOKEN_VALUE_UNLIMITED_THRESHOLD,Lv:()=>HEX_ZERO,lZ:()=>DAI_CONTRACT_ADDRESS});var HEX_ZERO="0x0",TOKEN_VALUE_UNLIMITED_THRESHOLD=1e15,DAI_CONTRACT_ADDRESS="0x6B175474E89094C44Da98b954EedeAC495271d0F"},"./ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-icon/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>GasFeeTokenIcon,f:()=>GasFeeTokenIconSize});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),transaction=__webpack_require__("./shared/constants/transaction.ts"),context_confirm=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx"),selectors=__webpack_require__("./ui/selectors/index.js"),identicon=__webpack_require__("./ui/components/ui/identicon/index.js"),network=__webpack_require__("./shared/constants/network.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),GasFeeTokenIconSize=function(GasFeeTokenIconSize){return GasFeeTokenIconSize.Sm="sm",GasFeeTokenIconSize.Md="md",GasFeeTokenIconSize}({});function GasFeeTokenIcon(param){var _param_size=param.size,size=void 0===_param_size?"md":_param_size,tokenAddress=param.tokenAddress,chainId=(0,context_confirm.TW)().currentConfirmation.chainId,networkConfiguration=(0,es.d4)(function(state){return(0,selectors.gD7)(state,chainId)});if(tokenAddress!==transaction.DG)return react.createElement(component_library.az,{"data-testid":"token-icon"},react.createElement(identicon.A,{address:tokenAddress,diameter:"md"===size?32:12}));var nativeCurrency=networkConfiguration.nativeCurrency,source=network.RBA[chainId];return react.createElement(component_library.az,{"data-testid":"native-icon"},react.createElement(component_library.hQ,{src:source,name:nativeCurrency,size:"md"===size?component_library.gh.Md:component_library.gh.Xs,backgroundColor:design_system.i0.backgroundDefault}))}try{GasFeeTokenIcon.displayName="GasFeeTokenIcon",GasFeeTokenIcon.__docgenInfo={description:"",displayName:"GasFeeTokenIcon",props:{size:{defaultValue:{value:"GasFeeTokenIconSize.Md"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'}]}},tokenAddress:{defaultValue:null,description:"",name:"tokenAddress",required:!0,type:{name:"`0x${string}`"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-icon/gas-fee-token-icon.tsx#GasFeeTokenIcon"]={docgenInfo:GasFeeTokenIcon.__docgenInfo,name:"GasFeeTokenIcon",path:"ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-icon/gas-fee-token-icon.tsx#GasFeeTokenIcon"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-list-item/gas-fee-token-list-item.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>GasFeeTokenListItem});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./shared/constants/transaction.ts"),_components_component_library__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/hooks/useI18nContext.js"),_hooks_useGasFeeToken__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/pages/confirmations/components/confirm/info/hooks/useGasFeeToken.ts"),_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/ducks/metamask/metamask.js"),_gas_fee_token_icon__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-icon/index.ts");function GasFeeTokenListItem(param){var isSelected=param.isSelected,onClick=param.onClick,tokenAddress=param.tokenAddress,warning=param.warning,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_6__.P)(),gasFeeToken=(0,_hooks_useGasFeeToken__WEBPACK_IMPORTED_MODULE_7__.kR)({tokenAddress:tokenAddress}),currentCurrency=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_8__.Fx);if(!gasFeeToken)return null;var amountFiat=gasFeeToken.amountFiat,amountFormatted=gasFeeToken.amountFormatted,balanceFiat=gasFeeToken.balanceFiat,symbol=gasFeeToken.symbol;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ListItem,{image:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_gas_fee_token_icon__WEBPACK_IMPORTED_MODULE_9__.Y,{tokenAddress:null!=tokenAddress?tokenAddress:_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_3__.DG,size:_gas_fee_token_icon__WEBPACK_IMPORTED_MODULE_9__.f.Md}),isSelected:isSelected,leftPrimary:symbol,leftSecondary:"".concat(t("confirmGasFeeTokenBalance")," ").concat(balanceFiat," ").concat(currentCurrency.toUpperCase()),rightPrimary:amountFiat,rightSecondary:"".concat(amountFormatted," ").concat(symbol),warning:warning&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(WarningIndicator,{text:warning}),onClick:function(){return null==onClick?void 0:onClick(gasFeeToken)}})}function ListItem(param){var image=param.image,leftPrimary=param.leftPrimary,leftSecondary=param.leftSecondary,rightPrimary=param.rightPrimary,rightSecondary=param.rightSecondary,isSelected=param.isSelected,warning=param.warning,onClick=param.onClick;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.az,{"data-testid":"gas-fee-token-list-item-".concat(leftPrimary),display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.nl.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bo.Row,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.A9.spaceBetween,backgroundColor:isSelected?_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.i0.primaryMuted:void 0,padding:2,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("gas-fee-token-list-item",{"gas-fee-token-list-item--selected":null!=isSelected&&isSelected}),onClick:function(){return null==onClick?void 0:onClick()}},isSelected&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(SelectedIndicator,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.nl.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bo.Row,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.k2.center,paddingLeft:2},image,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.az,{textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.nO.Left,marginLeft:4},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.nl.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bo.Row,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.k2.center,gap:2},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.EY,{"data-testid":"gas-fee-token-list-item-symbol",as:"button",variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.J3.bodyMdMedium,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.i0.transparent,padding:0},leftPrimary),warning),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.EY,{"data-testid":"gas-fee-token-list-item-balance",variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.J3.bodySmMedium,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.r7.textAlternative},leftSecondary))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.az,{textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.nO.Right,paddingRight:2},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.EY,{"data-testid":"gas-fee-token-list-item-amount-fiat",variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.J3.bodyMdMedium},rightPrimary),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.EY,{"data-testid":"gas-fee-token-list-item-amount-token",variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.J3.bodySmMedium,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.r7.textAlternative},rightSecondary)))}function WarningIndicator(param){var text=param.text;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.nl.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bo.Row,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.k2.center,borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Z6.pill,borderColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.cG.borderDefault,padding:1,gap:1},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.In,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_4__.$M.Warning,size:_components_component_library__WEBPACK_IMPORTED_MODULE_4__.lK.Xs,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Li.iconMuted}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.J3.bodyXsMedium,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.r7.textMuted},text))}function SelectedIndicator(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_4__.az,{borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Z6.pill,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.i0.primaryDefault,className:"gas-fee-token-list-item__selected-indicator"})}try{GasFeeTokenListItem.displayName="GasFeeTokenListItem",GasFeeTokenListItem.__docgenInfo={description:"",displayName:"GasFeeTokenListItem",props:{isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((token: GasFeeToken) => void)"}},tokenAddress:{defaultValue:null,description:"",name:"tokenAddress",required:!1,type:{name:"`0x${string}`"}},warning:{defaultValue:null,description:"",name:"warning",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-list-item/gas-fee-token-list-item.tsx#GasFeeTokenListItem"]={docgenInfo:GasFeeTokenListItem.__docgenInfo,name:"GasFeeTokenListItem",path:"ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-list-item/gas-fee-token-list-item.tsx#GasFeeTokenListItem"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-modal/gas-fee-token-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>GasFeeTokenModal});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),transaction=__webpack_require__("./shared/constants/transaction.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),context_confirm=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx"),gas_fee_token_list_item=__webpack_require__("./ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-list-item/gas-fee-token-list-item.tsx"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),transaction_controller=__webpack_require__("./ui/store/controller-actions/transaction-controller.ts"),ui_tooltip=__webpack_require__("./ui/components/ui/tooltip/index.js"),useIsGaslessSupported=__webpack_require__("./ui/pages/confirmations/hooks/gas/useIsGaslessSupported.ts"),useIsInsufficientBalance=__webpack_require__("./ui/pages/confirmations/hooks/useIsInsufficientBalance.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function _ts_generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}function GasFeeTokenModal(param){var _gasFeeTokens_filter_map,onClose=param.onClose,t=(0,useI18nContext.P)(),currentConfirmation=(0,context_confirm.TW)().currentConfirmation,isSmartTransaction=(0,useIsGaslessSupported.m)().isSmartTransaction,hasInsufficientNative=(0,useIsInsufficientBalance.N)(),transactionId=currentConfirmation.id,gasFeeTokens=currentConfirmation.gasFeeTokens,selectedGasFeeToken=currentConfirmation.selectedGasFeeToken,hasFutureNativeToken=isSmartTransaction&&hasInsufficientNative&&!!(null==gasFeeTokens?void 0:gasFeeTokens.some(function(token){return token.tokenAddress===transaction.DG})),_useState=_sliced_to_array((0,react.useState)(hasFutureNativeToken&&!!selectedGasFeeToken),2),futureNativeSelected=_useState[0],setFutureNativeSelected=_useState[1],gasFeeTokenAddresses=null!=(_gasFeeTokens_filter_map=null==gasFeeTokens?void 0:gasFeeTokens.filter(function(token){return token.tokenAddress!==transaction.DG}).map(function(token){return token.tokenAddress}))?_gasFeeTokens_filter_map:[],hasGasFeeTokens=gasFeeTokenAddresses.length>0,handleTokenClick=(0,react.useCallback)(function(token){return _async_to_generator(function(){var selectedAddress;return _ts_generator(this,function(_state){switch(_state.label){case 0:return selectedAddress=token.tokenAddress!==transaction.DG||futureNativeSelected?token.tokenAddress:void 0,[4,(0,transaction_controller.bM)(transactionId,selectedAddress)];case 1:return _state.sent(),null==onClose||onClose(),[2]}})})()},[futureNativeSelected,onClose,transactionId]);return react.createElement(component_library.aF,{isOpen:!0,onClose:null!=onClose?onClose:function(){},isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1},react.createElement(component_library.mH,{"data-testid":"modal-overlay"}),react.createElement(component_library.$m,{size:component_library.Eo.Md},react.createElement(component_library.rQ,{onClose:onClose},t("confirmGasFeeTokenModalTitle")),react.createElement(component_library.cw,{display:design_system.nl.Flex,flexDirection:design_system.bo.Column,paddingLeft:0,paddingRight:0},react.createElement(component_library.az,{display:design_system.nl.Flex,flexDirection:design_system.bo.Row,justifyContent:design_system.A9.spaceBetween,alignItems:design_system.k2.center,marginInline:4},react.createElement(Title,{text:t("confirmGasFeeTokenModalPayETH"),noMargin:!0}),hasFutureNativeToken&&react.createElement(NativeToggle,{isFuture:futureNativeSelected,onChange:setFutureNativeSelected})),react.createElement(gas_fee_token_list_item.Y,{tokenAddress:futureNativeSelected?transaction.DG:void 0,isSelected:!selectedGasFeeToken||(null==selectedGasFeeToken?void 0:selectedGasFeeToken.toLowerCase())===transaction.DG,onClick:handleTokenClick,warning:hasInsufficientNative&&!futureNativeSelected&&t("confirmGasFeeTokenInsufficientBalance")}),hasGasFeeTokens&&react.createElement(Title,{text:t("confirmGasFeeTokenModalPayToken")}),gasFeeTokenAddresses.map(function(tokenAddress){return react.createElement(gas_fee_token_list_item.Y,{key:tokenAddress,tokenAddress:tokenAddress,isSelected:(null==selectedGasFeeToken?void 0:selectedGasFeeToken.toLowerCase())===tokenAddress.toLowerCase(),onClick:handleTokenClick})}))))}function Title(param){var noMargin=param.noMargin,text=param.text;return react.createElement(component_library.EY,{variant:design_system.J3.bodySm,color:design_system.r7.textAlternative,marginLeft:4*!noMargin,marginTop:3,marginBottom:3},text)}function NativeToggle(param){var isFuture=param.isFuture,onChange=param.onChange,t=(0,useI18nContext.P)();return react.createElement(component_library.az,{"data-testid":"native-toggle",display:design_system.nl.Flex,flexDirection:design_system.bo.Row,borderStyle:design_system.kD.solid,borderColor:design_system.cG.borderMuted,borderRadius:design_system.Z6.MD},react.createElement(NativeToggleOption,{isSelected:!isFuture,onClick:function(){onChange(!1)},tooltip:t("confirmGasFeeTokenModalNativeToggleWallet")},react.createElement(component_library.In,{name:component_library.$M.Wallet,size:component_library.lK.Sm,color:isFuture?design_system.Li.iconAlternativeSoft:design_system.Li.infoDefault,margin:2})),react.createElement(NativeToggleOption,{isSelected:isFuture,onClick:function(){onChange(!0)},tooltip:t("confirmGasFeeTokenModalNativeToggleMetaMask")},react.createElement("img",{src:"./images/logo/metamask-fox.svg",height:15,style:{margin:8}})))}function NativeToggleOption(param){var children=param.children,isSelected=param.isSelected,onClick=param.onClick,tooltip=param.tooltip;return react.createElement(component_library.az,{display:design_system.nl.Flex,backgroundColor:isSelected?design_system.i0.primaryMuted:void 0,borderRadius:design_system.Z6.MD,onClick:onClick,className:classnames_default()("gas-fee-token-native-toggle-option",{"gas-fee-token-native-toggle-option--selected":null!=isSelected&&isSelected})},react.createElement(ui_tooltip.A,{title:tooltip,wrapperStyle:{display:"flex"},style:{display:"flex"},position:"bottom"},children))}try{GasFeeTokenModal.displayName="GasFeeTokenModal",GasFeeTokenModal.__docgenInfo={description:"",displayName:"GasFeeTokenModal",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-modal/gas-fee-token-modal.tsx#GasFeeTokenModal"]={docgenInfo:GasFeeTokenModal.__docgenInfo,name:"GasFeeTokenModal",path:"ui/pages/confirmations/components/confirm/info/shared/gas-fee-token-modal/gas-fee-token-modal.tsx#GasFeeTokenModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/hooks/alerts/transactions/useInsufficientBalanceAlerts.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>useInsufficientBalanceAlerts});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./shared/modules/conversion.utils.ts"),_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/selectors/index.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useI18nContext.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_components_app_confirm_info_row_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/app/confirm/info/row/constants.ts"),_send_legacy_send_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/pages/confirmations/send-legacy/send.utils.js"),_context_confirm__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function useInsufficientBalanceAlerts(){var _currentConfirmation_nestedTransactions,_this,_currentConfirmation_nestedTransactions_map,_multichainNetworks_chainId,ignoreGasFeeToken=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ignoreGasFeeToken,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),currentConfirmation=(0,_context_confirm__WEBPACK_IMPORTED_MODULE_8__.TW)().currentConfirmation,_ref=null!=currentConfirmation?currentConfirmation:{},transactionId=_ref.id,chainId=_ref.chainId,selectedGasFeeToken=_ref.selectedGasFeeToken,gasFeeTokens=_ref.gasFeeTokens,batchTransactionValues=null!=(_currentConfirmation_nestedTransactions_map=null==currentConfirmation||null==(_currentConfirmation_nestedTransactions=currentConfirmation.nestedTransactions)?void 0:_currentConfirmation_nestedTransactions.map(function(trxn){var _trxn_value;return null!=(_trxn_value=trxn.value)?_trxn_value:0}))?_currentConfirmation_nestedTransactions_map:[],isSimulationEnabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_3__.ccg),balance=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(function(state){return(0,_selectors__WEBPACK_IMPORTED_MODULE_3__.y3W)(state,transactionId,chainId)}),value=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(function(state){return(0,_selectors__WEBPACK_IMPORTED_MODULE_3__.SI)(state,transactionId)}),totalValue=_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_2__.R4.apply(void 0,[value].concat(_to_consumable_array(batchTransactionValues))),hexMaximumTransactionFee=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(function(state){return(0,_selectors__WEBPACK_IMPORTED_MODULE_3__.xSb)(state,transactionId)}).hexMaximumTransactionFee,_useSelector=_sliced_to_array((0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_3__.lIu),2),multichainNetworks=_useSelector[0],evmNetworks=_useSelector[1],nativeCurrency=null==(_this=null!=(_multichainNetworks_chainId=multichainNetworks[chainId])?_multichainNetworks_chainId:evmNetworks[chainId])?void 0:_this.nativeCurrency,showAlert=!(0,_send_legacy_send_utils__WEBPACK_IMPORTED_MODULE_7__.Hi)({amount:totalValue,gasTotal:hexMaximumTransactionFee,balance:balance})&&(ignoreGasFeeToken||!isSimulationEnabled||!!gasFeeTokens)&&(ignoreGasFeeToken||!selectedGasFeeToken);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return showAlert?[{actions:[{key:_components_app_confirm_info_row_constants__WEBPACK_IMPORTED_MODULE_6__.GH.Buy,label:t("alertActionBuyWithNativeCurrency",[nativeCurrency])}],field:_components_app_confirm_info_row_constants__WEBPACK_IMPORTED_MODULE_6__.oE.EstimatedFee,isBlocking:!0,key:"insufficientBalance",message:t("alertMessageInsufficientBalanceWithNativeCurrency",[nativeCurrency]),reason:t("alertReasonInsufficientBalance"),severity:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.AI.Danger}]:[]},[nativeCurrency,showAlert,t])}},"./ui/pages/confirmations/hooks/gas/useIsGaslessSupported.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>useIsGaslessSupported});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),_shared_modules_selectors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./shared/modules/selectors/index.ts"),_hooks_useAsync__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/hooks/useAsync.ts"),_store_controller_actions_transaction_controller__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/store/controller-actions/transaction-controller.ts"),_context_confirm__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx"),_store_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/__mocks__/actions.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _ts_generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}function useIsGaslessSupported(){var transactionMeta=(0,_context_confirm__WEBPACK_IMPORTED_MODULE_4__.TW)().currentConfirmation,_ref=null!=transactionMeta?transactionMeta:{},chainId=_ref.chainId,txParams=_ref.txParams,from=(null!=txParams?txParams:{}).from,isSmartTransaction=(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.d4)(function(state){return(0,_shared_modules_selectors__WEBPACK_IMPORTED_MODULE_1__.U5)(state,chainId)}),atomicBatchSupportResult=(0,_hooks_useAsync__WEBPACK_IMPORTED_MODULE_2__.$T)(function(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return isSmartTransaction?[2,void 0]:[2,(0,_store_controller_actions_transaction_controller__WEBPACK_IMPORTED_MODULE_3__.KH)({address:from,chainIds:[chainId]})]})})()},[chainId,from,isSmartTransaction]).value,relaySupportsChain=(0,_hooks_useAsync__WEBPACK_IMPORTED_MODULE_2__.$T)(function(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return isSmartTransaction?[2,void 0]:[2,(0,_store_actions__WEBPACK_IMPORTED_MODULE_5__.isRelaySupported)(chainId)]})})()},[chainId,isSmartTransaction]).value,sendBundleSupportsChain=(0,_hooks_useAsync__WEBPACK_IMPORTED_MODULE_2__.$T)(function(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,(0,_store_actions__WEBPACK_IMPORTED_MODULE_5__.isSendBundleSupported)(chainId)]})})()},[chainId]).value,atomicBatchChainSupport=null==atomicBatchSupportResult?void 0:atomicBatchSupportResult.find(function(result){return result.chainId.toLowerCase()===chainId.toLowerCase()}),is7702Supported=!!((null==atomicBatchChainSupport?void 0:atomicBatchChainSupport.isSupported)&&relaySupportsChain);return{isSupported:!!(isSmartTransaction&&sendBundleSupportsChain||is7702Supported),isSmartTransaction:isSmartTransaction}}},"./ui/pages/confirmations/hooks/useIsInsufficientBalance.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>useIsInsufficientBalance});var _alerts_transactions_useInsufficientBalanceAlerts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/pages/confirmations/hooks/alerts/transactions/useInsufficientBalanceAlerts.ts");function useIsInsufficientBalance(){return!!(0,_alerts_transactions_useInsufficientBalanceAlerts__WEBPACK_IMPORTED_MODULE_0__.G)({ignoreGasFeeToken:!0}).length}}}]);