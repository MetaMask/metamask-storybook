"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[86247],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BN:()=>MDXContext,RP:()=>useMDXComponents,gz:()=>withMDXComponents,xA:()=>MDXProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");let MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return boundMDXComponent;function boundMDXComponent(props){let allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){let contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components},[contextComponents,components])}let emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{__webpack_require__("./node_modules/object-assign/index.js");var f=__webpack_require__("./node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./ui/hooks/usePrevious.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>usePrevious});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function usePrevious(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){ref.current=value},[value]),ref.current}},"./ui/pages/confirmations/components/gas-timing/gas-timing.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>GasTiming});var bignumber_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_0__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),_shared_constants_gas__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/constants/gas.ts"),_components_component_library__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/component-library/index.ts"),_contexts_gasFee__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/contexts/gasFee.js"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/contexts/i18n.js"),_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/ducks/metamask/metamask.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./ui/helpers/constants/gas.js"),_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./ui/hooks/usePrevious.ts"),_store_actions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./ui/__mocks__/actions.js"),_hooks_useDraftTransactionWithTxParams__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./ui/pages/confirmations/hooks/useDraftTransactionWithTxParams.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var toHumanReadableTime=function(){var milliseconds=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,seconds=Math.ceil(milliseconds/1e3);return seconds<=90?t("gasTimingSecondsShort",[seconds]):t("gasTimingMinutesShort",[Math.ceil(seconds/60)])};function GasTiming(param){var _param_maxFeePerGas=param.maxFeePerGas,maxFeePerGas=void 0===_param_maxFeePerGas?"0":_param_maxFeePerGas,_param_maxPriorityFeePerGas=param.maxPriorityFeePerGas,maxPriorityFeePerGas=void 0===_param_maxPriorityFeePerGas?"0":_param_maxPriorityFeePerGas,gasWarnings=param.gasWarnings,gasEstimateType=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_8__.Ii),gasFeeEstimates=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_8__.tV),isGasEstimatesLoading=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_8__.r9),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),2),customEstimatedTime=_useState[0],setCustomEstimatedTime=_useState[1],t=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_7__.gJ),estimateUsed=(0,_contexts_gasFee__WEBPACK_IMPORTED_MODULE_6__.Sz)().estimateUsed,transactionData=(0,_hooks_useDraftTransactionWithTxParams__WEBPACK_IMPORTED_MODULE_13__.p)(),isUnknownLow=(null==gasFeeEstimates?void 0:gasFeeEstimates.low)&&Number(maxPriorityFeePerGas)<Number(gasFeeEstimates.low.suggestedMaxPriorityFeePerGas),previousMaxFeePerGas=(0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_11__.Z)(maxFeePerGas),previousMaxPriorityFeePerGas=(0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_11__.Z)(maxPriorityFeePerGas),previousIsUnknownLow=(0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_11__.Z)(isUnknownLow);if((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){var isMounted=!0;return(isUnknownLow||maxPriorityFeePerGas&&maxPriorityFeePerGas!==previousMaxPriorityFeePerGas||maxFeePerGas&&maxFeePerGas!==previousMaxFeePerGas)&&(0,_store_actions__WEBPACK_IMPORTED_MODULE_12__.getGasFeeTimeEstimate)(new(bignumber_js__WEBPACK_IMPORTED_MODULE_0___default())(maxPriorityFeePerGas,10).toString(10),new(bignumber_js__WEBPACK_IMPORTED_MODULE_0___default())(maxFeePerGas,10).toString(10)).then(function(result){maxFeePerGas==maxFeePerGas&&maxPriorityFeePerGas==maxPriorityFeePerGas&&isMounted&&setCustomEstimatedTime(result)}),!1!==isUnknownLow&&!0===previousIsUnknownLow&&setCustomEstimatedTime(null),function(){isMounted=!1}},[maxPriorityFeePerGas,maxFeePerGas,isUnknownLow,previousMaxFeePerGas,previousMaxPriorityFeePerGas,previousIsUnknownLow]),(null==gasWarnings?void 0:gasWarnings.maxPriorityFee)===_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_10__.BW.MAX_PRIORITY_FEE_TOO_LOW||(null==gasWarnings?void 0:gasWarnings.maxFee)===_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_10__.BW.MAX_FEE_TOO_LOW)return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_5__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.J3.bodySm,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.IT.Bold,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.r7.textAlternative,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("gas-timing","gas-timing--negative")},t("editGasTooLow"));if(isGasEstimatesLoading||gasEstimateType!==_shared_constants_gas__WEBPACK_IMPORTED_MODULE_4__.bT.feeMarket)return null;var _gasFeeEstimates_low=gasFeeEstimates.low,low=void 0===_gasFeeEstimates_low?{}:_gasFeeEstimates_low,_gasFeeEstimates_medium=gasFeeEstimates.medium,_gasFeeEstimates_high=gasFeeEstimates.high,high=void 0===_gasFeeEstimates_high?{}:_gasFeeEstimates_high,estimateToUse=estimateUsed||transactionData.userFeeLevel||"medium",estimateEmoji=_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_10__.x6[estimateToUse],textTKey="low"===estimateToUse?"gasTimingLow":estimateToUse,text=estimateEmoji?"".concat(estimateEmoji," ").concat(t(textTKey)):t(textTKey),time="";return Number(maxPriorityFeePerGas)>=Number((void 0===_gasFeeEstimates_medium?{}:_gasFeeEstimates_medium).suggestedMaxPriorityFeePerGas)?time=Number(maxPriorityFeePerGas)<Number(high.suggestedMaxPriorityFeePerGas)?toHumanReadableTime(low.maxWaitTimeEstimate,t):toHumanReadableTime(high.minWaitTimeEstimate,t):isUnknownLow?customEstimatedTime&&"unknown"!==customEstimatedTime&&(null==customEstimatedTime?void 0:customEstimatedTime.upperTimeBound)!=="unknown"?time=toHumanReadableTime(Number(null==customEstimatedTime?void 0:customEstimatedTime.upperTimeBound),t):text=t("editGasTooLow"):time=toHumanReadableTime(low.maxWaitTimeEstimate,t),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_5__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.nl.Flex,flexWrap:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.I4.Wrap},text&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_5__.EY,{color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.r7.textAlternative,variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.J3.bodyMd,paddingInlineEnd:1},text),time&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_5__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.J3.bodyMd,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_9__.r7.textDefault},react__WEBPACK_IMPORTED_MODULE_2__.createElement("span",{"data-testid":"gas-timing-time"},"~",time)))}GasTiming.propTypes={maxPriorityFeePerGas:prop_types__WEBPACK_IMPORTED_MODULE_14___default().string,maxFeePerGas:prop_types__WEBPACK_IMPORTED_MODULE_14___default().string,gasWarnings:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object},GasTiming.__docgenInfo={description:"",methods:[],displayName:"GasTiming",props:{maxFeePerGas:{defaultValue:{value:"'0'",computed:!1},description:"",type:{name:"string"},required:!1},maxPriorityFeePerGas:{defaultValue:{value:"'0'",computed:!1},description:"",type:{name:"string"},required:!1},gasWarnings:{description:"",type:{name:"object"},required:!1}}}},"./ui/pages/confirmations/components/transaction-detail/transaction-detail.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>transaction_detail_stories});var react=__webpack_require__("./node_modules/react/index.js"),info_tooltip=__webpack_require__("./ui/components/ui/info-tooltip/info-tooltip.js"),transaction_detail_item_component=__webpack_require__("./ui/pages/confirmations/components/transaction-detail-item/transaction-detail-item.component.js"),gas_timing_component=__webpack_require__("./ui/pages/confirmations/components/gas-timing/gas-timing.component.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),lib=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),transaction_detail_component=__webpack_require__("./ui/pages/confirmations/components/transaction-detail/transaction-detail.component.js");function _createMdxContent(props){let _components=Object.assign({h1:"h1",p:"p",h2:"h2"},(0,lib.RP)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"transaction-detail",children:"Transaction Detail"}),`
`,(0,jsx_runtime.jsx)(_components.p,{children:"Show transaction detail including estimated gas fee and total fee."}),`
`,(0,jsx_runtime.jsx)(dist.Hl,{children:(0,jsx_runtime.jsx)(dist.gG,{id:"components-app-transactiondetail--default-story"})}),`
`,(0,jsx_runtime.jsx)(_components.h2,{id:"props",children:"Props"}),`
`,(0,jsx_runtime.jsx)(dist.uY,{of:transaction_detail_component.A})]})}let transaction_detail_stories={title:"Confirmations/Components/TransactionDetail",component:transaction_detail_component.A,parameters:{docs:{page:function MDXContent(props={}){let{wrapper:MDXLayout}=Object.assign({},(0,lib.RP)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}}},argTypes:{rows:{control:"array"},onEdit:{action:"onEdit"}}};var rows=[react.createElement(transaction_detail_item_component.A,{key:"line-1",detailTitle:react.createElement(react.Fragment,null,"Estimated gas fee",react.createElement(info_tooltip.A,{contentText:"This is the tooltip text",position:"top"},react.createElement(component_library.In,{name:component_library.$M.Info}))),detailText:"0.00896 ETH",detailTotal:"$15.73",subTitle:react.createElement(gas_timing_component.A,{maxPriorityFeePerGas:"1"}),subText:react.createElement(react.Fragment,null,"From ",react.createElement("strong",null,"$15.73 - $19.81"))}),react.createElement(transaction_detail_item_component.A,{key:"line-2",detailTitle:"Total",detailText:".0312 ETH",detailTotal:"$15.77",subTitle:"Amount + gas fee",subText:react.createElement(react.Fragment,null,"Up to ",react.createElement("strong",null,"$19.85"))})],DefaultStory=function(args){return react.createElement(transaction_detail_component.A,args)};DefaultStory.storyName="Default",DefaultStory.args={rows:rows},DefaultStory.parameters={...DefaultStory.parameters,docs:{...DefaultStory.parameters?.docs,source:{originalSource:`args => {
  return <TransactionDetail {...args} />;
}`,...DefaultStory.parameters?.docs?.source}}};let __namedExportsOrder=["DefaultStory"]},"./ui/pages/confirmations/hooks/useDraftTransactionWithTxParams.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>useDraftTransactionWithTxParams});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),_ducks_send__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/ducks/send/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/selectors/index.js"),useDraftTransactionWithTxParams=function(){var draftTransaction=(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.d4)(_ducks_send__WEBPACK_IMPORTED_MODULE_1__.Hb),unapprovedTxs=(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_2__.EcM),transactionData={};if(0!==Object.keys(draftTransaction).length){var _draftTransaction_gas,_editingTransaction_txParams,_draftTransaction_gas1,_editingTransaction_txParams1,_editingTransaction_txParams2,_draftTransaction_gas2,_editingTransaction_txParams3,_editingTransaction_txParams4,_draftTransaction_gas3,_draftTransaction_amount,editingTransaction=unapprovedTxs[draftTransaction.id];transactionData={txParams:{gasPrice:null==(_draftTransaction_gas=draftTransaction.gas)?void 0:_draftTransaction_gas.gasPrice,gas:(null==editingTransaction?void 0:editingTransaction.userEditedGasLimit)?null==editingTransaction||null==(_editingTransaction_txParams=editingTransaction.txParams)?void 0:_editingTransaction_txParams.gas:null==(_draftTransaction_gas1=draftTransaction.gas)?void 0:_draftTransaction_gas1.gasLimit,maxFeePerGas:(null==editingTransaction||null==(_editingTransaction_txParams1=editingTransaction.txParams)?void 0:_editingTransaction_txParams1.maxFeePerGas)?null==editingTransaction||null==(_editingTransaction_txParams2=editingTransaction.txParams)?void 0:_editingTransaction_txParams2.maxFeePerGas:null==(_draftTransaction_gas2=draftTransaction.gas)?void 0:_draftTransaction_gas2.maxFeePerGas,maxPriorityFeePerGas:(null==editingTransaction||null==(_editingTransaction_txParams3=editingTransaction.txParams)?void 0:_editingTransaction_txParams3.maxPriorityFeePerGas)?null==editingTransaction||null==(_editingTransaction_txParams4=editingTransaction.txParams)?void 0:_editingTransaction_txParams4.maxPriorityFeePerGas:null==(_draftTransaction_gas3=draftTransaction.gas)?void 0:_draftTransaction_gas3.maxPriorityFeePerGas,value:null==(_draftTransaction_amount=draftTransaction.amount)?void 0:_draftTransaction_amount.value,type:draftTransaction.transactionType},userFeeLevel:null==editingTransaction?void 0:editingTransaction.userFeeLevel}}return transactionData}}}]);
//# sourceMappingURL=pages-confirmations-components-transaction-detail-transaction-detail-stories.702588a9.iframe.bundle.js.map