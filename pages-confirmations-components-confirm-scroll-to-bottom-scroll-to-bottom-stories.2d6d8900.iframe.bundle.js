"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[65082],{"./shared/lib/confirmation.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_I:()=>shouldUseRedesignForTransactions,ml:()=>shouldUseRedesignForSignatures,nO:()=>isCorrectDeveloperTransactionType});var _metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs"),_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/controller-utils/dist/constants.mjs");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var REDESIGN_SIGNATURE_APPROVAL_TYPES=[_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__.s.EthSignTypedData,_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__.s.PersonalSign],REDESIGN_USER_TRANSACTION_TYPES=[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.batch,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.contractInteraction,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.deployContract,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.revokeDelegation,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodApprove,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodIncreaseAllowance,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodSetApprovalForAll,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodTransfer,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodTransferFrom,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodSafeTransferFrom,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.simpleSend],REDESIGN_DEV_TRANSACTION_TYPES=_to_consumable_array(REDESIGN_USER_TRANSACTION_TYPES);function shouldUseRedesignForTransactions(param){var transactionMetadataType=param.transactionMetadataType;return shouldUseRedesignForTransactionsUserMode(transactionMetadataType)||shouldUseRedesignForTransactionsDeveloperMode(transactionMetadataType)}function shouldUseRedesignForSignatures(param){return isCorrectSignatureApprovalType(param.approvalType)}function isCorrectSignatureApprovalType(approvalType){return!!approvalType&&REDESIGN_SIGNATURE_APPROVAL_TYPES.includes(approvalType)}function isCorrectDeveloperTransactionType(transactionMetadataType){return!!transactionMetadataType&&REDESIGN_DEV_TRANSACTION_TYPES.includes(transactionMetadataType)}function isCorrectUserTransactionType(transactionMetadataType){return!!transactionMetadataType&&REDESIGN_USER_TRANSACTION_TYPES.includes(transactionMetadataType)}function shouldUseRedesignForTransactionsDeveloperMode(transactionMetadataType){return isCorrectDeveloperTransactionType(transactionMetadataType)}function shouldUseRedesignForTransactionsUserMode(transactionMetadataType){return isCorrectUserTransactionType(transactionMetadataType)}},"./ui/hooks/usePrevious.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>usePrevious});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function usePrevious(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){ref.current=value},[value]),ref.current}},"./ui/hooks/useScrollRequired.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>useScrollRequired});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js"),_usePrevious__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/hooks/usePrevious.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var useScrollRequired=function(){var _ref_current,_ref_current1,dependencies=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref_offsetPxFromBottom=_ref.offsetPxFromBottom,offsetPxFromBottom=void 0===_ref_offsetPxFromBottom?16:_ref_offsetPxFromBottom,ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),prevOffsetHeight=(0,_usePrevious__WEBPACK_IMPORTED_MODULE_2__.Z)(null==(_ref_current=ref.current)?void 0:_ref_current.offsetHeight),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),hasScrolledToBottomState=_useState[0],setHasScrolledToBottom=_useState[1],_useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isScrollableState=_useState1[0],setIsScrollable=_useState1[1],_useState2=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isScrolledToBottomState=_useState2[0],setIsScrolledToBottom=_useState2[1],update=function(){if(ref.current){var isScrollable=ref.current&&ref.current.scrollHeight>ref.current.clientHeight,isScrolledToBottom=isScrollable&&Math.round(ref.current.scrollTop)+ref.current.offsetHeight+offsetPxFromBottom>=ref.current.scrollHeight;isScrollable!==isScrollableState&&(setHasScrolledToBottom(!1),setIsScrollable(isScrollable)),setIsScrolledToBottom(!isScrollable||isScrolledToBottom),(!isScrollable||isScrolledToBottom)&&setHasScrolledToBottom(!0)}};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(update,[ref].concat(_to_consumable_array(dependencies))),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){var _ref_current;prevOffsetHeight!==(null==(_ref_current=ref.current)?void 0:_ref_current.offsetHeight)&&update()},[null==(_ref_current1=ref.current)?void 0:_ref_current1.offsetHeight]),{isScrollable:isScrollableState,isScrolledToBottom:isScrolledToBottomState,hasScrolledToBottom:hasScrolledToBottomState,scrollToBottom:function(){setIsScrolledToBottom(!0),setHasScrolledToBottom(!0),ref.current&&ref.current.scrollTo({top:ref.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:setHasScrolledToBottom,ref:ref,onScroll:(0,lodash__WEBPACK_IMPORTED_MODULE_1__.debounce)(update,25)}}},"./ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_context_confirm__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx"),_scroll_to_bottom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.tsx"),Story={title:"Components/App/Confirm/ScrollToBottom",component:_scroll_to_bottom__WEBPACK_IMPORTED_MODULE_2__.A,decorators:[function(story){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"120px",width:"280px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_context_confirm__WEBPACK_IMPORTED_MODULE_1__.VF,null,story()))}],args:{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vel suscipit tortor. Curabitur vulputate felis nibh, vel pellentesque erat fermentum eget. Duis id turpis cursus, blandit magna sit amet, tempor sem. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Maecenas ex nulla, suscipit id eros in, elementum lacinia leo. Etiam dignissim neque vitae nibh pretium, sed egestas est mollis. Nam venenatis tellus sed tempor bibendum. Phasellus sodales quam nec enim imperdiet, non dignissim ipsum maximus. Suspendisse tempor vestibulum nisl, vel congue est semper ac. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Praesent mattis lorem lectus, sit amet suscipit elit egestas nec. Nam rhoncus eleifend velit, sed rhoncus enim porttitor at. Nam eget leo ut purus pulvinar sodales. Nullam ornare euismod dignissim. Duis blandit commodo viverra."},argTypes:{children:{control:"text"}}},DefaultStory=function(args){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_scroll_to_bottom__WEBPACK_IMPORTED_MODULE_2__.A,args,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{minHeight:"420px"}},args.children))};DefaultStory.storyName="Default";let __WEBPACK_DEFAULT_EXPORT__=Story;DefaultStory.parameters={...DefaultStory.parameters,docs:{...DefaultStory.parameters?.docs,source:{originalSource:`args => {
  return <ScrollToBottom {...args}>
      <div style={{
      minHeight: '420px'
    }}>{args.children}</div>
    </ScrollToBottom>;
}`,...DefaultStory.parameters?.docs?.source}}};let __namedExportsOrder=["DefaultStory"];try{DefaultStory.displayName="DefaultStory",DefaultStory.__docgenInfo={description:"",displayName:"DefaultStory",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.stories.tsx#DefaultStory"]={docgenInfo:DefaultStory.__docgenInfo,name:"DefaultStory",path:"ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.stories.tsx#DefaultStory"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/component-library/index.ts"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/contexts/i18n.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/hooks/usePrevious.ts"),_hooks_useScrollRequired__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/hooks/useScrollRequired.js"),_context_confirm__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx"),_selectors_preferences__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/pages/confirmations/selectors/preferences.ts"),_shared_lib_confirmation_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./shared/lib/confirmation.utils.ts");let __WEBPACK_DEFAULT_EXPORT__=function(param){var children=param.children,t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_3__.gJ),_useConfirmContext=(0,_context_confirm__WEBPACK_IMPORTED_MODULE_7__.TW)(),currentConfirmation=_useConfirmContext.currentConfirmation,setIsScrollToBottomCompleted=_useConfirmContext.setIsScrollToBottomCompleted,previousId=(0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_5__.Z)(null==currentConfirmation?void 0:currentConfirmation.id),showAdvancedDetails=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors_preferences__WEBPACK_IMPORTED_MODULE_8__.O6),_useScrollRequired=(0,_hooks_useScrollRequired__WEBPACK_IMPORTED_MODULE_6__.c)([null==currentConfirmation?void 0:currentConfirmation.id,showAdvancedDetails],{offsetPxFromBottom:0}),hasScrolledToBottom=_useScrollRequired.hasScrolledToBottom,isScrollable=_useScrollRequired.isScrollable,isScrolledToBottom=_useScrollRequired.isScrolledToBottom,onScroll=_useScrollRequired.onScroll,scrollToBottom=_useScrollRequired.scrollToBottom,setHasScrolledToBottom=_useScrollRequired.setHasScrolledToBottom,ref=_useScrollRequired.ref,isTransactionRedesign=(0,_shared_lib_confirmation_utils__WEBPACK_IMPORTED_MODULE_9__.nO)(null==currentConfirmation?void 0:currentConfirmation.type),showScrollToBottom=isScrollable&&!isScrolledToBottom&&!isTransactionRedesign;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){if(previousId!==(null==currentConfirmation?void 0:currentConfirmation.id)){var currentRef=null==ref?void 0:ref.current;currentRef&&("function"==typeof currentRef.scrollTo&&currentRef.scrollTo(0,0),setHasScrolledToBottom(!1))}},[null==currentConfirmation?void 0:currentConfirmation.id,previousId,null==ref?void 0:ref.current]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){if(isTransactionRedesign)return void setIsScrollToBottomCompleted(!0);setIsScrollToBottomCompleted(!isScrollable||hasScrolledToBottom)},[isScrollable,hasScrolledToBottom,isTransactionRedesign]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_2__.az,{backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.i0.backgroundAlternative,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Zf.Full,height:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Zf.Full,style:{minHeight:"0",overflow:"hidden",position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_2__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.nl.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.bo.Column,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Zf.Full,height:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Zf.Full,paddingLeft:4,paddingRight:4,onScroll:onScroll,ref:ref,style:{overflow:"auto"}},children,showScrollToBottom&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_2__.a2,{className:"confirm-scroll-to-bottom__button",onClick:scrollToBottom,iconName:_components_component_library__WEBPACK_IMPORTED_MODULE_2__.$M.Arrow2Down,ariaLabel:t("scrollDown"),backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.i0.backgroundDefault,borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Z6.full,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Li.primaryDefault,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.nl.Flex,size:_components_component_library__WEBPACK_IMPORTED_MODULE_2__.f3.Md})))};try{scrolltobottom.displayName="scrolltobottom",scrolltobottom.__docgenInfo={description:"",displayName:"scrolltobottom",props:{children:{defaultValue:null,description:"Elements that go in the page content section",name:"children",required:!0,type:{name:"ReactNode | ReactNode[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.tsx#scrolltobottom"]={docgenInfo:scrolltobottom.__docgenInfo,name:"scrolltobottom",path:"ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.tsx#scrolltobottom"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/context/confirm/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VF:()=>ConfirmContextProvider,TW:()=>useConfirmContext});var react=__webpack_require__("./node_modules/react/index.js"),types=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./ui/__mocks__/actions.js"),useCurrentConfirmation=__webpack_require__("./ui/pages/confirmations/hooks/useCurrentConfirmation.ts"),react_router=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),useConfirmationNavigation=__webpack_require__("./ui/pages/confirmations/hooks/useConfirmationNavigation.ts");let hooks_syncConfirmPath=function(currentConfirmation){var navigateToId=(0,useConfirmationNavigation.N)().navigateToId,paramId=(0,react_router.g)().id,confirmationId=null==currentConfirmation?void 0:currentConfirmation.id;(0,react.useEffect)(function(){confirmationId&&(paramId||navigateToId(confirmationId))},[confirmationId,paramId,navigateToId])};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var ConfirmContext=(0,react.createContext)(void 0),ConfirmContextProvider=function(param){var children=param.children,_useState=_sliced_to_array((0,react.useState)(!0),2),isScrollToBottomCompleted=_useState[0],setIsScrollToBottomCompleted=_useState[1],currentConfirmation=(0,useCurrentConfirmation.A)().currentConfirmation;hooks_syncConfirmPath(currentConfirmation);var dispatch=(0,es.wA)(),value=(0,react.useMemo)(function(){return{currentConfirmation:currentConfirmation,isScrollToBottomCompleted:isScrollToBottomCompleted,setIsScrollToBottomCompleted:setIsScrollToBottomCompleted}},[currentConfirmation,isScrollToBottomCompleted,setIsScrollToBottomCompleted]);return(0,react.useEffect)(function(){currentConfirmation&&(currentConfirmation.type===types.D_.revokeDelegation||currentConfirmation.type===types.D_.batch)&&dispatch((0,actions.setAccountDetailsAddress)(""))},[dispatch,currentConfirmation]),react.createElement(ConfirmContext.Provider,{value:value},children)},useConfirmContext=function(){var context=(0,react.useContext)(ConfirmContext);if(!context)throw Error("useConfirmContext must be used within an ConfirmContextProvider");return context};try{ConfirmContextProvider.displayName="ConfirmContextProvider",ConfirmContextProvider.__docgenInfo={description:"",displayName:"ConfirmContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/context/confirm/index.tsx#ConfirmContextProvider"]={docgenInfo:ConfirmContextProvider.__docgenInfo,name:"ConfirmContextProvider",path:"ui/pages/confirmations/context/confirm/index.tsx#ConfirmContextProvider"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/hooks/useConfirmationNavigation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>useConfirmationNavigation});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@metamask/controller-utils/dist/constants.mjs"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_confirmation_templates__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/pages/confirmations/confirmation/templates/index.js"),_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/constants/routes.ts"),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/pages/confirmations/utils/index.ts"),_selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/selectors/index.js"),CONNECT_APPROVAL_TYPES=[_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WalletRequestPermissions,"wallet_installSnap","wallet_updateSnap","wallet_installSnapResult"];function useConfirmationNavigation(){var confirmations=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_6__.VKo),approvalFlows=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_6__.j9f,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual),history=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.W6)(),queryString=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.zy)().search,getIndex=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(confirmationId){return confirmationId?confirmations.findIndex(function(param){return param.id===confirmationId}):0},[confirmations]),navigateToId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(confirmationId){navigateToConfirmation(confirmationId,confirmations,!!(null==approvalFlows?void 0:approvalFlows.length),history,queryString)},[confirmations,history,queryString]),navigateToIndex=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(index){var nextConfirmation=confirmations[index];navigateToId(null==nextConfirmation?void 0:nextConfirmation.id)},[confirmations,navigateToId]),count=confirmations.length;return{confirmations:confirmations,count:count,getIndex:getIndex,navigateToId:navigateToId,navigateToIndex:navigateToIndex}}function navigateToConfirmation(confirmationId,confirmations,hasApprovalFlows,history){var _nextConfirmation_requestData_asset,_nextConfirmation_requestData,queryString=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",hasNoConfirmations=(null==confirmations?void 0:confirmations.length)<=0||!confirmationId;if(hasApprovalFlows&&hasNoConfirmations)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.DL));if(!hasNoConfirmations){var nextConfirmation=confirmations.find(function(confirmation){return confirmation.id===confirmationId});if(nextConfirmation){var type=nextConfirmation.type;if(_confirmation_templates__WEBPACK_IMPORTED_MODULE_3__.x0.includes(type))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.DL,"/").concat(confirmationId));if((0,_utils__WEBPACK_IMPORTED_MODULE_5__.rS)(nextConfirmation))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.no));if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.Transaction){var url="".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId);queryString.length&&(url="".concat(url).concat(queryString)),history.replace(url);return}if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.EthDecrypt)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.OT));if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.EthGetEncryptionPublicKey)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.yK));if(CONNECT_APPROVAL_TYPES.includes(type))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.Fh,"/").concat(confirmationId));var tokenId=null==nextConfirmation||null==(_nextConfirmation_requestData=nextConfirmation.requestData)||null==(_nextConfirmation_requestData_asset=_nextConfirmation_requestData.asset)?void 0:_nextConfirmation_requestData_asset.tokenId;if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WatchAsset&&!tokenId)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.nK));type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WatchAsset&&tokenId&&history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.A0))}}}},"./ui/pages/confirmations/hooks/useCurrentConfirmation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useCurrentConfirmation});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),selectors=__webpack_require__("./ui/selectors/index.js"),reselect=__webpack_require__("./node_modules/reselect/dist/reselect.mjs"),util=__webpack_require__("./shared/modules/selectors/util.js"),transactions=__webpack_require__("./ui/selectors/transactions.js");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}var selectUnapprovedMessages=(0,reselect.Mz)(transactions.cY,transactions.uJ,function(personalMsgs,typedMessages){return _object_spread({},personalMsgs,typedMessages)}),internalSelectUnapprovedMessage=(0,reselect.Mz)(selectUnapprovedMessages,function(_state,messageId){return messageId},function(messages,messageId){return messages[messageId]}),selectUnapprovedMessage=(0,util._)(internalSelectUnapprovedMessage,function(message){return message}),confirmation_utils=__webpack_require__("./shared/lib/confirmation.utils.ts");let hooks_useCurrentConfirmation=function(){var paramsConfirmationId=(0,react_router.g)().id,oldestPendingApproval=(0,es.d4)(selectors.dMC),confirmationId=null!=paramsConfirmationId?paramsConfirmationId:null==oldestPendingApproval?void 0:oldestPendingApproval.id,pendingApproval=(0,es.d4)(function(state){return(0,selectors.ll0)(state,confirmationId)}),transactionMetadata=(0,es.d4)(function(state){return(0,selectors.jJ$)(state,confirmationId)}),signatureMessage=(0,es.d4)(function(state){return selectUnapprovedMessage(state,confirmationId)}),useRedesignedForSignatures=(0,confirmation_utils.ml)({approvalType:null==pendingApproval?void 0:pendingApproval.type}),useRedesignedForTransaction=(0,confirmation_utils._I)({transactionMetadataType:null==transactionMetadata?void 0:transactionMetadata.type}),shouldUseRedesign=useRedesignedForSignatures||useRedesignedForTransaction;return(0,react.useMemo)(function(){var _ref;return shouldUseRedesign?{currentConfirmation:null!=(_ref=null!=transactionMetadata?transactionMetadata:signatureMessage)?_ref:void 0}:{currentConfirmation:void 0}},[transactionMetadata,signatureMessage,shouldUseRedesign])}},"./ui/pages/confirmations/utils/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VO:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.VO,WY:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.WY,ig:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.ig,m4:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.m4,q9:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.q9,rS:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.rS});var _confirm__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/pages/confirmations/utils/confirm.ts")}}]);
//# sourceMappingURL=pages-confirmations-components-confirm-scroll-to-bottom-scroll-to-bottom-stories.2d6d8900.iframe.bundle.js.map