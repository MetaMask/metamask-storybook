"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[67965],{"./node_modules/@contentful/rich-text-html-renderer/dist/rich-text-html-renderer.es5.js":(__unused_webpack_module,exports,__webpack_require__)=>{var BLOCKS,INLINES,MARKS,_a,_b,__assign=function(){return(__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var dist={},blocks={};Object.defineProperty(blocks,"__esModule",{value:!0}),blocks.BLOCKS=void 0,function(BLOCKS){BLOCKS.DOCUMENT="document",BLOCKS.PARAGRAPH="paragraph",BLOCKS.HEADING_1="heading-1",BLOCKS.HEADING_2="heading-2",BLOCKS.HEADING_3="heading-3",BLOCKS.HEADING_4="heading-4",BLOCKS.HEADING_5="heading-5",BLOCKS.HEADING_6="heading-6",BLOCKS.OL_LIST="ordered-list",BLOCKS.UL_LIST="unordered-list",BLOCKS.LIST_ITEM="list-item",BLOCKS.HR="hr",BLOCKS.QUOTE="blockquote",BLOCKS.EMBEDDED_ENTRY="embedded-entry-block",BLOCKS.EMBEDDED_ASSET="embedded-asset-block",BLOCKS.EMBEDDED_RESOURCE="embedded-resource-block",BLOCKS.TABLE="table",BLOCKS.TABLE_ROW="table-row",BLOCKS.TABLE_CELL="table-cell",BLOCKS.TABLE_HEADER_CELL="table-header-cell"}(BLOCKS||(blocks.BLOCKS=BLOCKS={}));var inlines={};Object.defineProperty(inlines,"__esModule",{value:!0}),inlines.INLINES=void 0,function(INLINES){INLINES.ASSET_HYPERLINK="asset-hyperlink",INLINES.EMBEDDED_ENTRY="embedded-entry-inline",INLINES.EMBEDDED_RESOURCE="embedded-resource-inline",INLINES.ENTRY_HYPERLINK="entry-hyperlink",INLINES.HYPERLINK="hyperlink",INLINES.RESOURCE_HYPERLINK="resource-hyperlink"}(INLINES||(inlines.INLINES=INLINES={}));var marks={};Object.defineProperty(marks,"__esModule",{value:!0}),marks.MARKS=void 0,function(MARKS){MARKS.BOLD="bold",MARKS.ITALIC="italic",MARKS.UNDERLINE="underline",MARKS.CODE="code",MARKS.SUPERSCRIPT="superscript",MARKS.SUBSCRIPT="subscript",MARKS.STRIKETHROUGH="strikethrough"}(MARKS||(marks.MARKS=MARKS={}));var schemaConstraints={};!function(exports){var _a,__spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(to,from,pack){if(pack||2==arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.V1_MARKS=exports.V1_NODE_TYPES=exports.TEXT_CONTAINERS=exports.HEADINGS=exports.CONTAINERS=exports.VOID_BLOCKS=exports.TABLE_BLOCKS=exports.LIST_ITEM_BLOCKS=exports.TOP_LEVEL_BLOCKS=void 0,exports.TOP_LEVEL_BLOCKS=[blocks.BLOCKS.PARAGRAPH,blocks.BLOCKS.HEADING_1,blocks.BLOCKS.HEADING_2,blocks.BLOCKS.HEADING_3,blocks.BLOCKS.HEADING_4,blocks.BLOCKS.HEADING_5,blocks.BLOCKS.HEADING_6,blocks.BLOCKS.OL_LIST,blocks.BLOCKS.UL_LIST,blocks.BLOCKS.HR,blocks.BLOCKS.QUOTE,blocks.BLOCKS.EMBEDDED_ENTRY,blocks.BLOCKS.EMBEDDED_ASSET,blocks.BLOCKS.EMBEDDED_RESOURCE,blocks.BLOCKS.TABLE],exports.LIST_ITEM_BLOCKS=[blocks.BLOCKS.PARAGRAPH,blocks.BLOCKS.HEADING_1,blocks.BLOCKS.HEADING_2,blocks.BLOCKS.HEADING_3,blocks.BLOCKS.HEADING_4,blocks.BLOCKS.HEADING_5,blocks.BLOCKS.HEADING_6,blocks.BLOCKS.OL_LIST,blocks.BLOCKS.UL_LIST,blocks.BLOCKS.HR,blocks.BLOCKS.QUOTE,blocks.BLOCKS.EMBEDDED_ENTRY,blocks.BLOCKS.EMBEDDED_ASSET,blocks.BLOCKS.EMBEDDED_RESOURCE],exports.TABLE_BLOCKS=[blocks.BLOCKS.TABLE,blocks.BLOCKS.TABLE_ROW,blocks.BLOCKS.TABLE_CELL,blocks.BLOCKS.TABLE_HEADER_CELL],exports.VOID_BLOCKS=[blocks.BLOCKS.HR,blocks.BLOCKS.EMBEDDED_ENTRY,blocks.BLOCKS.EMBEDDED_ASSET,blocks.BLOCKS.EMBEDDED_RESOURCE],(_a={})[blocks.BLOCKS.OL_LIST]=[blocks.BLOCKS.LIST_ITEM],_a[blocks.BLOCKS.UL_LIST]=[blocks.BLOCKS.LIST_ITEM],_a[blocks.BLOCKS.LIST_ITEM]=exports.LIST_ITEM_BLOCKS,_a[blocks.BLOCKS.QUOTE]=[blocks.BLOCKS.PARAGRAPH],_a[blocks.BLOCKS.TABLE]=[blocks.BLOCKS.TABLE_ROW],_a[blocks.BLOCKS.TABLE_ROW]=[blocks.BLOCKS.TABLE_CELL,blocks.BLOCKS.TABLE_HEADER_CELL],_a[blocks.BLOCKS.TABLE_CELL]=[blocks.BLOCKS.PARAGRAPH,blocks.BLOCKS.UL_LIST,blocks.BLOCKS.OL_LIST],_a[blocks.BLOCKS.TABLE_HEADER_CELL]=[blocks.BLOCKS.PARAGRAPH],exports.CONTAINERS=_a,exports.HEADINGS=[blocks.BLOCKS.HEADING_1,blocks.BLOCKS.HEADING_2,blocks.BLOCKS.HEADING_3,blocks.BLOCKS.HEADING_4,blocks.BLOCKS.HEADING_5,blocks.BLOCKS.HEADING_6],exports.TEXT_CONTAINERS=__spreadArray([blocks.BLOCKS.PARAGRAPH],exports.HEADINGS,!0),exports.V1_NODE_TYPES=[blocks.BLOCKS.DOCUMENT,blocks.BLOCKS.PARAGRAPH,blocks.BLOCKS.HEADING_1,blocks.BLOCKS.HEADING_2,blocks.BLOCKS.HEADING_3,blocks.BLOCKS.HEADING_4,blocks.BLOCKS.HEADING_5,blocks.BLOCKS.HEADING_6,blocks.BLOCKS.OL_LIST,blocks.BLOCKS.UL_LIST,blocks.BLOCKS.LIST_ITEM,blocks.BLOCKS.HR,blocks.BLOCKS.QUOTE,blocks.BLOCKS.EMBEDDED_ENTRY,blocks.BLOCKS.EMBEDDED_ASSET,inlines.INLINES.HYPERLINK,inlines.INLINES.ENTRY_HYPERLINK,inlines.INLINES.ASSET_HYPERLINK,inlines.INLINES.EMBEDDED_ENTRY,"text"],exports.V1_MARKS=[marks.MARKS.BOLD,marks.MARKS.CODE,marks.MARKS.ITALIC,marks.MARKS.UNDERLINE]}(schemaConstraints);var types={};Object.defineProperty(types,"__esModule",{value:!0});var nodeTypes={};Object.defineProperty(nodeTypes,"__esModule",{value:!0});var emptyDocument={};Object.defineProperty(emptyDocument,"__esModule",{value:!0}),emptyDocument.EMPTY_DOCUMENT=void 0,emptyDocument.EMPTY_DOCUMENT={nodeType:blocks.BLOCKS.DOCUMENT,data:{},content:[{nodeType:blocks.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};var helpers={};function hasValue(obj,value){for(var _i=0,_a=Object.keys(obj);_i<_a.length;_i++)if(value===obj[_a[_i]])return!0;return!1}function isInline(node){return hasValue(inlines.INLINES,node.nodeType)}function isBlock(node){return hasValue(blocks.BLOCKS,node.nodeType)}function isText(node){return"text"===node.nodeType}function commonjsRequire(path){throw Error('Could not dynamically require "'+path+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}Object.defineProperty(helpers,"__esModule",{value:!0}),helpers.isInline=isInline,helpers.isBlock=isBlock,helpers.isText=isText;var schemas={};function getSchemaWithNodeType(nodeType){try{return commonjsRequire("./generated/".concat(nodeType,".json"))}catch(error){throw Error('Schema for nodeType "'.concat(nodeType,'" was not found.'))}}Object.defineProperty(schemas,"__esModule",{value:!0}),schemas.getSchemaWithNodeType=getSchemaWithNodeType,function(exports){var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__exportStar=commonjsGlobal&&commonjsGlobal.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)},__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSchemaWithNodeType=exports.helpers=exports.EMPTY_DOCUMENT=exports.MARKS=exports.INLINES=exports.BLOCKS=void 0,Object.defineProperty(exports,"BLOCKS",{enumerable:!0,get:function(){return blocks.BLOCKS}}),Object.defineProperty(exports,"INLINES",{enumerable:!0,get:function(){return inlines.INLINES}}),Object.defineProperty(exports,"MARKS",{enumerable:!0,get:function(){return marks.MARKS}}),__exportStar(schemaConstraints,exports),__exportStar(types,exports),__exportStar(nodeTypes,exports),Object.defineProperty(exports,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return emptyDocument.EMPTY_DOCUMENT}}),exports.helpers=__importStar(helpers),Object.defineProperty(exports,"getSchemaWithNodeType",{enumerable:!0,get:function(){return schemas.getSchemaWithNodeType}})}(dist);var matchHtmlRegExp=/["'&<>]/,escape=getDefaultExportFromCjs(function escapeHtml(string){var escape,str=""+string,match=matchHtmlRegExp.exec(str);if(!match)return str;var html="",index=0,lastIndex=0;for(index=match.index;index<str.length;index++){switch(str.charCodeAt(index)){case 34:escape="&quot;";break;case 38:escape="&amp;";break;case 39:escape="&#39;";break;case 60:escape="&lt;";break;case 62:escape="&gt;";break;default:continue}lastIndex!==index&&(html+=str.substring(lastIndex,index)),lastIndex=index+1,html+=escape}return lastIndex!==index?html+str.substring(lastIndex,index):html}),defaultNodeRenderers=((_a={})[dist.BLOCKS.PARAGRAPH]=function(node,next){return"<p>".concat(next(node.content),"</p>")},_a[dist.BLOCKS.HEADING_1]=function(node,next){return"<h1>".concat(next(node.content),"</h1>")},_a[dist.BLOCKS.HEADING_2]=function(node,next){return"<h2>".concat(next(node.content),"</h2>")},_a[dist.BLOCKS.HEADING_3]=function(node,next){return"<h3>".concat(next(node.content),"</h3>")},_a[dist.BLOCKS.HEADING_4]=function(node,next){return"<h4>".concat(next(node.content),"</h4>")},_a[dist.BLOCKS.HEADING_5]=function(node,next){return"<h5>".concat(next(node.content),"</h5>")},_a[dist.BLOCKS.HEADING_6]=function(node,next){return"<h6>".concat(next(node.content),"</h6>")},_a[dist.BLOCKS.EMBEDDED_ENTRY]=function(node,next){return"<div>".concat(next(node.content),"</div>")},_a[dist.BLOCKS.EMBEDDED_RESOURCE]=function(node,next){return"<div>".concat(next(node.content),"</div>")},_a[dist.BLOCKS.UL_LIST]=function(node,next){return"<ul>".concat(next(node.content),"</ul>")},_a[dist.BLOCKS.OL_LIST]=function(node,next){return"<ol>".concat(next(node.content),"</ol>")},_a[dist.BLOCKS.LIST_ITEM]=function(node,next){return"<li>".concat(next(node.content),"</li>")},_a[dist.BLOCKS.QUOTE]=function(node,next){return"<blockquote>".concat(next(node.content),"</blockquote>")},_a[dist.BLOCKS.HR]=function(){return"<hr/>"},_a[dist.BLOCKS.TABLE]=function(node,next){return"<table>".concat(next(node.content),"</table>")},_a[dist.BLOCKS.TABLE_ROW]=function(node,next){return"<tr>".concat(next(node.content),"</tr>")},_a[dist.BLOCKS.TABLE_HEADER_CELL]=function(node,next){return"<th>".concat(next(node.content),"</th>")},_a[dist.BLOCKS.TABLE_CELL]=function(node,next){return"<td>".concat(next(node.content),"</td>")},_a[dist.INLINES.ASSET_HYPERLINK]=function(node){return defaultInline(dist.INLINES.ASSET_HYPERLINK,node)},_a[dist.INLINES.ENTRY_HYPERLINK]=function(node){return defaultInline(dist.INLINES.ENTRY_HYPERLINK,node)},_a[dist.INLINES.RESOURCE_HYPERLINK]=function(node){return defaultInlineResource(dist.INLINES.RESOURCE_HYPERLINK,node)},_a[dist.INLINES.EMBEDDED_ENTRY]=function(node){return defaultInline(dist.INLINES.EMBEDDED_ENTRY,node)},_a[dist.INLINES.EMBEDDED_RESOURCE]=function(node){return defaultInlineResource(dist.INLINES.EMBEDDED_RESOURCE,node)},_a[dist.INLINES.HYPERLINK]=function(node,next){var href="string"==typeof node.data.uri?node.data.uri:"";return"<a href=".concat('"'.concat(href.replace(/"/g,"&quot;"),'"'),">").concat(next(node.content),"</a>")},_a),defaultMarkRenderers=((_b={})[dist.MARKS.BOLD]=function(text){return"<b>".concat(text,"</b>")},_b[dist.MARKS.ITALIC]=function(text){return"<i>".concat(text,"</i>")},_b[dist.MARKS.UNDERLINE]=function(text){return"<u>".concat(text,"</u>")},_b[dist.MARKS.CODE]=function(text){return"<code>".concat(text,"</code>")},_b[dist.MARKS.SUPERSCRIPT]=function(text){return"<sup>".concat(text,"</sup>")},_b[dist.MARKS.SUBSCRIPT]=function(text){return"<sub>".concat(text,"</sub>")},_b[dist.MARKS.STRIKETHROUGH]=function(text){return"<s>".concat(text,"</s>")},_b),defaultInline=function(type,node){return"<span>type: ".concat(escape(type)," id: ").concat(escape(node.data.target.sys.id),"</span>")},defaultInlineResource=function(type,node){return"<span>type: ".concat(escape(type)," urn: ").concat(escape(node.data.target.sys.urn),"</span>")};function nodeListToHtmlString(nodes,_a){var renderNode=_a.renderNode,renderMark=_a.renderMark,preserveWhitespace=_a.preserveWhitespace;return nodes.map(function(node){return nodeToHtmlString(node,{renderNode:renderNode,renderMark:renderMark,preserveWhitespace:preserveWhitespace})}).join("")}function nodeToHtmlString(node,_a){var renderNode=_a.renderNode,renderMark=_a.renderMark,preserveWhitespace=_a.preserveWhitespace;if(dist.helpers.isText(node)){var nodeValue=escape(node.value);return(preserveWhitespace&&(nodeValue=nodeValue.replace(/\n/g,"<br/>").replace(/ {2,}/g,function(match){return"&nbsp;".repeat(match.length)})),node.marks.length>0)?node.marks.reduce(function(value,mark){return renderMark[mark.type]?renderMark[mark.type](value):value},nodeValue):nodeValue}return node.nodeType&&renderNode[node.nodeType]?renderNode[node.nodeType](node,function(nodes){return nodeListToHtmlString(nodes,{renderMark:renderMark,renderNode:renderNode,preserveWhitespace:preserveWhitespace})}):""}exports.v=function documentToHtmlString(richTextDocument,options){return(void 0===options&&(options={}),richTextDocument&&richTextDocument.content)?nodeListToHtmlString(richTextDocument.content,{renderNode:__assign(__assign({},defaultNodeRenderers),options.renderNode),renderMark:__assign(__assign({},defaultMarkRenderers),options.renderMark),preserveWhitespace:options.preserveWhitespace}):""}},"./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/NotificationServicesController.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>defaultState});var _OnChainNotificationsCache_instances,_OnChainNotificationsCache_cache,_OnChainNotificationsCache_TTL,_OnChainNotificationsCache_isExpired,_OnChainNotificationsCache_hasAllAddresses,_NotificationServicesController_instances,_NotificationServicesController_auth,_NotificationServicesController_assertAuthEnabled,dist=__webpack_require__("./node_modules/@metamask/base-controller/dist/index.mjs"),loglevel=(__webpack_require__("./node_modules/@metamask/controller-utils/dist/util.mjs"),__webpack_require__("./node_modules/@metamask/keyring-controller/dist/KeyringController.mjs"),__webpack_require__("./node_modules/@metamask/utils/dist/assert.mjs"),__webpack_require__("./node_modules/loglevel/lib/loglevel.js")),loglevel_default=__webpack_require__.n(loglevel),notification_schema=__webpack_require__("./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/constants/notification-schema.mjs"),rich_text_html_renderer_es5=(__webpack_require__("./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-notifications.mjs"),__webpack_require__("./node_modules/@contentful/rich-text-html-renderer/dist/rich-text-html-renderer.es5.js")),process_feature_announcement=__webpack_require__("./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-feature-announcement.mjs");let DEFAULT_SPACE_ID=":space_id",DEFAULT_ACCESS_TOKEN=":access_token",DEFAULT_CLIENT_ID=":client_id",DEFAULT_DOMAIN="cdn.contentful.com",FEATURE_ANNOUNCEMENT_API=`https://${DEFAULT_DOMAIN}/spaces/${DEFAULT_SPACE_ID}/environments/master/entries`,FEATURE_ANNOUNCEMENT_URL=`${FEATURE_ANNOUNCEMENT_API}?access_token=${DEFAULT_ACCESS_TOKEN}&content_type=productAnnouncement&include=10&fields.clients[in]=${DEFAULT_CLIENT_ID}`;var __classPrivateFieldGet=function(receiver,state,kind,f){if("a"===kind&&!f)throw TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)},__classPrivateFieldSet=function(receiver,state,value,kind,f){if("m"===kind)throw TypeError("Private method is not writable");if("a"===kind&&!f)throw TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value};_OnChainNotificationsCache_cache=new WeakMap,_OnChainNotificationsCache_TTL=new WeakMap,_OnChainNotificationsCache_instances=new WeakSet,_OnChainNotificationsCache_isExpired=function _OnChainNotificationsCache_isExpired(){return!__classPrivateFieldGet(this,_OnChainNotificationsCache_cache,"f")||Date.now()-__classPrivateFieldGet(this,_OnChainNotificationsCache_cache,"f").timestamp>__classPrivateFieldGet(this,_OnChainNotificationsCache_TTL,"f")},_OnChainNotificationsCache_hasAllAddresses=function _OnChainNotificationsCache_hasAllAddresses(addresses){return!!__classPrivateFieldGet(this,_OnChainNotificationsCache_cache,"f")&&addresses.every(address=>__classPrivateFieldGet(this,_OnChainNotificationsCache_cache,"f")?.data.has(address))};new class{constructor(){_OnChainNotificationsCache_instances.add(this),_OnChainNotificationsCache_cache.set(this,null),_OnChainNotificationsCache_TTL.set(this,6e4)}get(addresses){return __classPrivateFieldGet(this,_OnChainNotificationsCache_instances,"m",_OnChainNotificationsCache_isExpired).call(this)||!__classPrivateFieldGet(this,_OnChainNotificationsCache_instances,"m",_OnChainNotificationsCache_hasAllAddresses).call(this,addresses)?null:addresses.map(address=>({address,enabled:__classPrivateFieldGet(this,_OnChainNotificationsCache_cache,"f")?.data.get(address)??!1}))}set(data){let map=new Map;__classPrivateFieldGet(this,_OnChainNotificationsCache_cache,"f")&&!__classPrivateFieldGet(this,_OnChainNotificationsCache_instances,"m",_OnChainNotificationsCache_isExpired).call(this)&&(map=new Map(__classPrivateFieldGet(this,_OnChainNotificationsCache_cache,"f").data)),data.forEach(({address,enabled})=>{map.set(address,enabled)}),__classPrivateFieldSet(this,_OnChainNotificationsCache_cache,{data:map,timestamp:Date.now()},"f")}clear(){__classPrivateFieldSet(this,_OnChainNotificationsCache_cache,null,"f")}};let log=function $importDefault(module){return module?.__esModule?module.default:module}(loglevel_default()),TRIGGER_API="https://trigger.api.cx.metamask.io",NOTIFICATION_API="https://notification.api.cx.metamask.io",TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT=`${TRIGGER_API}/api/v2/notifications/query`,TRIGGER_API_NOTIFICATIONS_ENDPOINT=`${TRIGGER_API}/api/v2/notifications`,NOTIFICATION_API_LIST_ENDPOINT=`${NOTIFICATION_API}/api/v2/notifications`,NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT=`${NOTIFICATION_API}/api/v2/notifications/mark-as-read`;var NotificationServicesController_classPrivateFieldGet=function(receiver,state,kind,f){if("a"===kind&&!f)throw TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)};(function NotificationServicesController_$importDefault(module){return module?.__esModule&&module.default})(loglevel_default());let defaultState={subscriptionAccountsSeen:[],isMetamaskNotificationsFeatureSeen:!1,isNotificationServicesEnabled:!1,isFeatureAnnouncementsEnabled:!1,metamaskNotificationsList:[],metamaskNotificationsReadList:[],isUpdatingMetamaskNotifications:!1,isFetchingMetamaskNotifications:!1,isUpdatingMetamaskNotificationsAccount:[],isCheckingAccountsPresence:!1};notification_schema.Zw.SNAP,dist.wp,new WeakMap,_NotificationServicesController_auth=new WeakMap,new WeakMap,new WeakMap,new WeakMap,_NotificationServicesController_instances=new WeakSet,_NotificationServicesController_assertAuthEnabled=function _NotificationServicesController_assertAuthEnabled(){if(!NotificationServicesController_classPrivateFieldGet(this,_NotificationServicesController_auth,"f").isSignedIn())throw this.update(state=>{state.isNotificationServicesEnabled=!1}),Error("User is not signed in.")}},"./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/constants/notification-schema.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var TRIGGER_TYPES,TRIGGER_TYPES_GROUPS;__webpack_require__.d(__webpack_exports__,{Zw:()=>TRIGGER_TYPES,v0:()=>NOTIFICATION_CHAINS_ID}),function(TRIGGER_TYPES){TRIGGER_TYPES.FEATURES_ANNOUNCEMENT="features_announcement",TRIGGER_TYPES.METAMASK_SWAP_COMPLETED="metamask_swap_completed",TRIGGER_TYPES.ERC20_SENT="erc20_sent",TRIGGER_TYPES.ERC20_RECEIVED="erc20_received",TRIGGER_TYPES.ETH_SENT="eth_sent",TRIGGER_TYPES.ETH_RECEIVED="eth_received",TRIGGER_TYPES.ROCKETPOOL_STAKE_COMPLETED="rocketpool_stake_completed",TRIGGER_TYPES.ROCKETPOOL_UNSTAKE_COMPLETED="rocketpool_unstake_completed",TRIGGER_TYPES.LIDO_STAKE_COMPLETED="lido_stake_completed",TRIGGER_TYPES.LIDO_WITHDRAWAL_REQUESTED="lido_withdrawal_requested",TRIGGER_TYPES.LIDO_WITHDRAWAL_COMPLETED="lido_withdrawal_completed",TRIGGER_TYPES.LIDO_STAKE_READY_TO_BE_WITHDRAWN="lido_stake_ready_to_be_withdrawn",TRIGGER_TYPES.ERC721_SENT="erc721_sent",TRIGGER_TYPES.ERC721_RECEIVED="erc721_received",TRIGGER_TYPES.ERC1155_SENT="erc1155_sent",TRIGGER_TYPES.ERC1155_RECEIVED="erc1155_received",TRIGGER_TYPES.AAVE_V3_HEALTH_FACTOR="aave_v3_health_factor",TRIGGER_TYPES.ENS_EXPIRATION="ens_expiration",TRIGGER_TYPES.LIDO_STAKING_REWARDS="lido_staking_rewards",TRIGGER_TYPES.ROCKETPOOL_STAKING_REWARDS="rocketpool_staking_rewards",TRIGGER_TYPES.NOTIONAL_LOAN_EXPIRATION="notional_loan_expiration",TRIGGER_TYPES.SPARK_FI_HEALTH_FACTOR="spark_fi_health_factor",TRIGGER_TYPES.SNAP="snap"}(TRIGGER_TYPES||(TRIGGER_TYPES={})),TRIGGER_TYPES.METAMASK_SWAP_COMPLETED,TRIGGER_TYPES.ERC20_SENT,TRIGGER_TYPES.ERC20_RECEIVED,TRIGGER_TYPES.ETH_SENT,TRIGGER_TYPES.ETH_RECEIVED,TRIGGER_TYPES.ROCKETPOOL_STAKE_COMPLETED,TRIGGER_TYPES.ROCKETPOOL_UNSTAKE_COMPLETED,TRIGGER_TYPES.LIDO_STAKE_COMPLETED,TRIGGER_TYPES.LIDO_WITHDRAWAL_REQUESTED,TRIGGER_TYPES.LIDO_WITHDRAWAL_COMPLETED,TRIGGER_TYPES.LIDO_STAKE_READY_TO_BE_WITHDRAWN,TRIGGER_TYPES.ERC721_SENT,TRIGGER_TYPES.ERC721_RECEIVED,TRIGGER_TYPES.ERC1155_SENT,TRIGGER_TYPES.ERC1155_RECEIVED,function(TRIGGER_TYPES_GROUPS){TRIGGER_TYPES_GROUPS.RECEIVED="received",TRIGGER_TYPES_GROUPS.SENT="sent",TRIGGER_TYPES_GROUPS.DEFI="defi"}(TRIGGER_TYPES_GROUPS||(TRIGGER_TYPES_GROUPS={}));let NOTIFICATION_CHAINS_ID={ETHEREUM:"1",OPTIMISM:"10",BSC:"56",BASE:"8453",POLYGON:"137",ARBITRUM:"42161",AVALANCHE:"43114",LINEA:"59144",SEI:"1329"}},"./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-feature-announcement.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isFeatureAnnouncementRead(notification,readPlatformNotificationsList){if(readPlatformNotificationsList.includes(notification.id))return!0;var oldDate=new Date(notification.createdAt);return(Date.now()-oldDate.getTime())/864e5>=90}function processFeatureAnnouncement(notification){return{type:notification.type,id:notification.data.id,createdAt:new Date(notification.createdAt).toISOString(),data:notification.data,isRead:!1}}__webpack_require__.d(__webpack_exports__,{S:()=>isFeatureAnnouncementRead,j:()=>processFeatureAnnouncement})},"./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-notifications.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Vn:()=>processAndFilterNotifications,BG:()=>processNotification,Yq:()=>safeProcessNotification});var process_feature_announcement=__webpack_require__("./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-feature-announcement.mjs");function processOnChainNotification(notification){return{...notification,id:notification.id,createdAt:new Date(notification.created_at).toISOString(),isRead:!notification.unread}}var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),notification_schema=__webpack_require__("./node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/constants/notification-schema.mjs");function processNotification(notification,readNotifications=[]){if(notification.type===notification_schema.Zw.FEATURES_ANNOUNCEMENT){let n=(0,process_feature_announcement.j)(notification);return n.isRead=(0,process_feature_announcement.S)(n,readNotifications),n}if(notification.type===notification_schema.Zw.SNAP){let{data,type,readDate}=notification;return{id:(0,v4.A)(),readDate,createdAt:new Date().toISOString(),isRead:!1,type,data}}if(Object.values(notification_schema.Zw).includes(notification.type))return processOnChainNotification(notification);let type=notification?.type;throw Error(`No processor found for notification kind ${type}`)}function safeProcessNotification(notification,readNotifications=[]){try{return processNotification(notification,readNotifications)}catch{return}}let isNotUndefined=t=>!!t,processAndFilterNotifications=(ns,readIds)=>ns.map(n=>safeProcessNotification(n,readIds)).filter(isNotUndefined)}}]);