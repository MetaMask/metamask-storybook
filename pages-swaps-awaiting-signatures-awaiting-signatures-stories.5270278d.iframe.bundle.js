(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[86194],{"./node_modules/lodash/isEqual.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsEqual=__webpack_require__("./node_modules/lodash/_baseIsEqual.js");module.exports=function isEqual(value,other){return baseIsEqual(value,other)}},"./ui/components/ui/box/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>_box__WEBPACK_IMPORTED_MODULE_0__.Ay,Ve:()=>_box__WEBPACK_IMPORTED_MODULE_0__.Ve});var _box__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/box/box.js")},"./ui/components/ui/page-container/page-container-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>PageContainerFooter});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),component_library_button=__webpack_require__("./ui/components/component-library/button/index.ts");function _assert_this_initialized(self){if(void 0===self)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _call_super(_this,derived,args){return derived=_get_prototype_of(derived),_possible_constructor_return(_this,_is_native_reflect_construct()?Reflect.construct(derived,args||[],_get_prototype_of(_this).constructor):derived.apply(_this,args))}function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _get_prototype_of(o){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_set_prototype_of(subClass,superClass)}function _possible_constructor_return(self,call){return call&&("object"===_type_of(call)||"function"==typeof call)?call:_assert_this_initialized(self)}function _set_prototype_of(o,p){return(_set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function _is_native_reflect_construct(){try{var result=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return(_is_native_reflect_construct=function(){return!!result})()}var PageContainerFooter=function(Component){function PageContainerFooter(){return _class_call_check(this,PageContainerFooter),_call_super(this,PageContainerFooter,arguments)}return _inherits(PageContainerFooter,Component),_create_class(PageContainerFooter,[{key:"render",value:function render(){var _this_props=this.props,children=_this_props.children,onCancel=_this_props.onCancel,cancelText=_this_props.cancelText,onSubmit=_this_props.onSubmit,submitText=_this_props.submitText,disabled=_this_props.disabled,submitButtonType=_this_props.submitButtonType,hideCancel=_this_props.hideCancel,cancelButtonType=_this_props.cancelButtonType,footerClassName=_this_props.footerClassName,footerButtonClassName=_this_props.footerButtonClassName,submitButtonIcon=_this_props.submitButtonIcon,submitVariant="confirm"===submitButtonType?component_library_button.Ak.Primary:submitButtonType,cancelVariant="default"===cancelButtonType?component_library_button.Ak.Secondary:cancelButtonType;return react.createElement("div",{className:classnames_default()("page-container__footer",footerClassName)},react.createElement("footer",null,!hideCancel&&react.createElement(component_library_button.$n,{size:component_library_button.Mp.Lg,variant:null!=cancelVariant?cancelVariant:component_library_button.Ak.Secondary,className:classnames_default()("page-container__footer-button","page-container__footer-button__cancel",footerButtonClassName),onClick:function(e){return onCancel(e)},"data-testid":"page-container-footer-cancel",block:!0},cancelText||this.context.t("cancel")),react.createElement(component_library_button.$n,{size:component_library_button.Mp.Lg,variant:null!=submitVariant?submitVariant:component_library_button.Ak.Primary,className:classnames_default()("page-container__footer-button",footerButtonClassName),disabled:disabled,onClick:function(e){return onSubmit(e)},"data-testid":"page-container-footer-next",startIconName:submitButtonIcon,block:!0},submitText||this.context.t("next"))),children&&react.createElement("div",{className:"page-container__footer-secondary"},children))}}]),PageContainerFooter}(react.Component);_define_property(PageContainerFooter,"propTypes",{children:prop_types_default().node,onCancel:prop_types_default().func,cancelText:prop_types_default().string,cancelButtonType:prop_types_default().string,onSubmit:prop_types_default().func,submitText:prop_types_default().string,disabled:prop_types_default().bool,submitButtonType:prop_types_default().string,hideCancel:prop_types_default().bool,footerClassName:prop_types_default().string,footerButtonClassName:prop_types_default().string,submitButtonIcon:prop_types_default().string}),_define_property(PageContainerFooter,"contextTypes",{t:prop_types_default().func}),PageContainerFooter.__docgenInfo={description:"",methods:[],displayName:"PageContainerFooter",props:{children:{description:"",type:{name:"node"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1},cancelButtonType:{description:"",type:{name:"string"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},submitButtonType:{description:"",type:{name:"string"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},footerClassName:{description:"",type:{name:"string"},required:!1},footerButtonClassName:{description:"",type:{name:"string"},required:!1},submitButtonIcon:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1}}}},"./ui/components/ui/pulse-loader/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>_pulse_loader__WEBPACK_IMPORTED_MODULE_0__.A});var _pulse_loader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/pulse-loader/pulse-loader.js")},"./ui/components/ui/pulse-loader/pulse-loader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>PulseLoader});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function PulseLoader(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pulse-loader","data-testid":"pulse-loader"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pulse-loader__loading-dot-one"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pulse-loader__loading-dot-two"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pulse-loader__loading-dot-three"}))}PulseLoader.__docgenInfo={description:"",methods:[],displayName:"PulseLoader"}},"./ui/pages/swaps/awaiting-signatures/awaiting-signatures.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>awaiting_signatures_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),isEqual=__webpack_require__("./node_modules/lodash/isEqual.js"),isEqual_default=__webpack_require__.n(isEqual),i18n=__webpack_require__("./ui/contexts/i18n.js"),swaps=__webpack_require__("./ui/ducks/swaps/swaps.js"),selectors=__webpack_require__("./ui/selectors/selectors.js"),modules_selectors=__webpack_require__("./shared/modules/selectors/index.ts"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),pulse_loader=__webpack_require__("./ui/components/ui/pulse-loader/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),swaps_footer=__webpack_require__("./ui/pages/swaps/swaps-footer/index.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),prop_types=__webpack_require__("./node_modules/prop-types/index.js");function SwapStepIcon(param){var _param_stepNumber=param.stepNumber;switch(void 0===_param_stepNumber?1:_param_stepNumber){case 1:return react.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),react.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"}));case 2:return react.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),react.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"}));default:return}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _ts_generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}function AwaitingSignatures(){var t=(0,react.useContext)(i18n.gJ),history=(0,react_router.W6)(),dispatch=(0,es.wA)(),fetchParams=(0,es.d4)(swaps.HU,isEqual_default()),_ref=(null==fetchParams?void 0:fetchParams.metaData)||{},destinationTokenInfo=_ref.destinationTokenInfo,sourceTokenInfo=_ref.sourceTokenInfo,approveTxParams=(0,es.d4)(swaps.ku,es.bN),hardwareWalletUsed=(0,es.d4)(selectors.SQP),hardwareWalletType=(0,es.d4)(selectors.ks6),smartTransactionsOptInStatus=(0,es.d4)(modules_selectors.l5),smartTransactionsEnabled=(0,es.d4)(modules_selectors.Q6),currentSmartTransactionsEnabled=(0,es.d4)(swaps.pK),needsTwoConfirmations=!!approveTxParams,trackEvent=(0,react.useContext)(metametrics.O2);(0,react.useEffect)(function(){trackEvent({event:"Awaiting Signature(s) on a HW wallet",category:constants_metametrics.FZ.Swaps,sensitiveProperties:{needs_two_confirmations:needsTwoConfirmations,token_from:null==sourceTokenInfo?void 0:sourceTokenInfo.symbol,token_from_amount:null==fetchParams?void 0:fetchParams.value,token_to:null==destinationTokenInfo?void 0:destinationTokenInfo.symbol,request_type:(null==fetchParams?void 0:fetchParams.balanceError)?"Quote":"Order",slippage:null==fetchParams?void 0:fetchParams.slippage,custom_slippage:(null==fetchParams?void 0:fetchParams.slippage)===2,is_hardware_wallet:hardwareWalletUsed,hardware_wallet_type:hardwareWalletType,stx_enabled:smartTransactionsEnabled,current_stx_enabled:currentSmartTransactionsEnabled,stx_user_opt_in:smartTransactionsOptInStatus}})},[]);var headerText=t(needsTwoConfirmations?"swapTwoTransactions":"swapConfirmWithHwWallet");return react.createElement("div",{className:"awaiting-signatures"},react.createElement(box.Ay,{paddingLeft:8,paddingRight:8,height:design_system.VH.FULL,justifyContent:design_system.A9.center,display:design_system.Nu.FLEX,className:"awaiting-signatures__content"},react.createElement(box.Ay,{marginTop:3,marginBottom:4},react.createElement(pulse_loader.A,null)),react.createElement(component_library.EY,{color:design_system.r7.textDefault,variant:design_system.J3.headingMd,as:"h3"},headerText),needsTwoConfirmations&&react.createElement(react.Fragment,null,react.createElement(component_library.EY,{variant:design_system.J3.bodyMdBold,marginTop:2},t("swapToConfirmWithHwWallet")),react.createElement("ul",{className:"awaiting-signatures__steps"},react.createElement("li",null,react.createElement(SwapStepIcon,{stepNumber:1}),t("swapAllowSwappingOf",[react.createElement(component_library.EY,{as:"span",variant:design_system.J3.bodyMdBold,key:"allowToken"},null==destinationTokenInfo?void 0:destinationTokenInfo.symbol)])),react.createElement("li",null,react.createElement(SwapStepIcon,{stepNumber:2}),t("swapFromTo",[react.createElement(component_library.EY,{as:"span",variant:design_system.J3.bodyMdBold,key:"tokenFrom"},null==sourceTokenInfo?void 0:sourceTokenInfo.symbol),react.createElement(component_library.EY,{as:"span",variation:design_system.J3.bodyMdBold,key:"tokenTo"},null==destinationTokenInfo?void 0:destinationTokenInfo.symbol)]))),react.createElement(component_library.EY,{variant:design_system.J3.bodyMd},t("swapGasFeesSplit")))),react.createElement(swaps_footer.A,{onSubmit:function(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,dispatch((0,swaps.Co)())];case 1:return _state.sent(),history.push(routes.Sg),history.push(routes.aI),[2]}})})()},submitText:t("cancel"),hideCancel:!0}))}SwapStepIcon.propTypes={stepNumber:__webpack_require__.n(prop_types)().number},SwapStepIcon.__docgenInfo={description:"",methods:[],displayName:"SwapStepIcon",props:{stepNumber:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1}}},AwaitingSignatures.__docgenInfo={description:"",methods:[],displayName:"AwaitingSignatures"};let awaiting_signatures_stories={title:"Pages/Swaps/AwaitingSignatures"};var DefaultStory=function(){return react.createElement(AwaitingSignatures,null)};DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...DefaultStory.parameters?.docs,source:{originalSource:`() => {
  return <AwaitingSignatures />;
}`,...DefaultStory.parameters?.docs?.source}}};let __namedExportsOrder=["DefaultStory"]},"./ui/pages/swaps/swaps-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>SwapsFooter});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),i18n=__webpack_require__("./ui/contexts/i18n.js"),page_container_footer=__webpack_require__("./ui/components/ui/page-container/page-container-footer/index.js");function SwapsFooter(param){var onCancel=param.onCancel,hideCancel=param.hideCancel,onSubmit=param.onSubmit,submitText=param.submitText,disabled=param.disabled,showTermsOfService=param.showTermsOfService,showTopBorder=param.showTopBorder,_param_className=param.className,className=void 0===_param_className?"":_param_className,cancelText=param.cancelText,t=(0,react.useContext)(i18n.gJ);return react.createElement("div",{className:"swaps-footer"},react.createElement("div",{className:classnames_default()("swaps-footer__buttons",className,{"swaps-footer__buttons--border":showTopBorder})},react.createElement(page_container_footer.A,{onCancel:onCancel,hideCancel:hideCancel,cancelText:cancelText||t("back"),onSubmit:onSubmit,submitText:submitText,footerClassName:classnames_default()("swaps-footer__custom-page-container-footer-class",className),footerButtonClassName:classnames_default()("swaps-footer__custom-page-container-footer-button-class",{"swaps-footer__custom-page-container-footer-button-class--single":hideCancel}),disabled:disabled})),showTermsOfService&&react.createElement("div",{className:"swaps-footer__bottom-text",onClick:function(){return __webpack_require__.g.platform.openTab({url:"https://metamask.io/terms.html"})}},t("termsOfService")))}SwapsFooter.propTypes={onCancel:prop_types_default().func,hideCancel:prop_types_default().bool,onSubmit:prop_types_default().func,submitText:prop_types_default().string,disabled:prop_types_default().bool,showTermsOfService:prop_types_default().bool,showTopBorder:prop_types_default().bool,className:prop_types_default().string,cancelText:prop_types_default().string},SwapsFooter.__docgenInfo={description:"",methods:[],displayName:"SwapsFooter",props:{className:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},showTermsOfService:{description:"",type:{name:"bool"},required:!1},showTopBorder:{description:"",type:{name:"bool"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1}}}}}]);
//# sourceMappingURL=pages-swaps-awaiting-signatures-awaiting-signatures-stories.5270278d.iframe.bundle.js.map