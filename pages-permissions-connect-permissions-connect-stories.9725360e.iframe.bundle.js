"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[53441],{"./shared/constants/security-provider.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K$:()=>SECURITY_PROVIDER_UTM_SOURCE,NE:()=>FALSE_POSITIVE_REPORT_BASE_URL,O5:()=>SecurityProvider,W4:()=>BlockaidReason,ob:()=>SECURITY_PROVIDER_CONFIG,p0:()=>BlockaidResultType});var _metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SecurityProvider=function(SecurityProvider){return SecurityProvider.Blockaid="blockaid",SecurityProvider}({}),SECURITY_PROVIDER_CONFIG=_define_property({},"blockaid",{tKeyName:"blockaid",url:"https://blockaid.io/"}),BlockaidReason=function(BlockaidReason){return BlockaidReason.approvalFarming="approval_farming",BlockaidReason.blurFarming="blur_farming",BlockaidReason.maliciousDomain="malicious_domain",BlockaidReason.permitFarming="permit_farming",BlockaidReason.rawNativeTokenTransfer="raw_native_token_transfer",BlockaidReason.rawSignatureFarming="raw_signature_farming",BlockaidReason.seaportFarming="seaport_farming",BlockaidReason.setApprovalForAll="set_approval_for_all",BlockaidReason.tradeOrderFarming="trade_order_farming",BlockaidReason.transferFarming="transfer_farming",BlockaidReason.transferFromFarming="transfer_from_farming",BlockaidReason.other="other",BlockaidReason.errored="Error",BlockaidReason.notApplicable="NotApplicable",BlockaidReason.inProgress="validation_in_progress",BlockaidReason}({}),BlockaidResultType=function(BlockaidResultType){return BlockaidResultType.Malicious="Malicious",BlockaidResultType.Warning="Warning",BlockaidResultType.Benign="Benign",BlockaidResultType.Errored="Error",BlockaidResultType.NotApplicable="NotApplicable",BlockaidResultType.Loading="loading",BlockaidResultType}({}),FALSE_POSITIVE_REPORT_BASE_URL="https://blockaid-false-positive-portal.metamask.io",SECURITY_PROVIDER_UTM_SOURCE="metamask-ppom";_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swap,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swapApproval,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swapAndSend,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.bridgeApproval,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.bridge},"./shared/lib/confirmation.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_I:()=>shouldUseRedesignForTransactions,ml:()=>shouldUseRedesignForSignatures,nO:()=>isCorrectDeveloperTransactionType});var _metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs"),_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/controller-utils/dist/constants.mjs");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var REDESIGN_SIGNATURE_APPROVAL_TYPES=[_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__.s.EthSignTypedData,_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__.s.PersonalSign],REDESIGN_USER_TRANSACTION_TYPES=[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.batch,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.contractInteraction,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.deployContract,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.revokeDelegation,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodApprove,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodIncreaseAllowance,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodSetApprovalForAll,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodTransfer,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodTransferFrom,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodSafeTransferFrom,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.simpleSend],REDESIGN_DEV_TRANSACTION_TYPES=_to_consumable_array(REDESIGN_USER_TRANSACTION_TYPES);function shouldUseRedesignForTransactions(param){var transactionMetadataType=param.transactionMetadataType;return shouldUseRedesignForTransactionsUserMode(transactionMetadataType)||shouldUseRedesignForTransactionsDeveloperMode(transactionMetadataType)}function shouldUseRedesignForSignatures(param){return isCorrectSignatureApprovalType(param.approvalType)}function isCorrectSignatureApprovalType(approvalType){return!!approvalType&&REDESIGN_SIGNATURE_APPROVAL_TYPES.includes(approvalType)}function isCorrectDeveloperTransactionType(transactionMetadataType){return!!transactionMetadataType&&REDESIGN_DEV_TRANSACTION_TYPES.includes(transactionMetadataType)}function isCorrectUserTransactionType(transactionMetadataType){return!!transactionMetadataType&&REDESIGN_USER_TRANSACTION_TYPES.includes(transactionMetadataType)}function shouldUseRedesignForTransactionsDeveloperMode(transactionMetadataType){return isCorrectDeveloperTransactionType(transactionMetadataType)}function shouldUseRedesignForTransactionsUserMode(transactionMetadataType){return isCorrectUserTransactionType(transactionMetadataType)}},"./ui/components/app/alert-system/alert-modal/alert-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>AcknowledgeCheckboxBase,W:()=>AlertModal1});var _metamask_snaps_sdk__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@metamask/snaps-sdk/dist/ui/components/button.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./shared/constants/security-provider.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/hooks/useAlerts.ts"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useI18nContext.js"),_pages_confirmations_context_confirm__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx"),_component_library__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/component-library/index.ts"),_contexts_alertActionHandler__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/app/alert-system/contexts/alertActionHandler.tsx"),_contexts_alertMetricsContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/components/app/alert-system/contexts/alertMetricsContext.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function getSeverityStyle(severity){switch(severity){case _helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Warning:return{background:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.warningMuted,icon:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.warningDefault};case _helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger:return{background:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.errorMuted,icon:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.errorDefault};default:return{background:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.backgroundDefault,icon:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.infoDefault}}}function AlertHeader(param){var _ref,selectedAlert=param.selectedAlert,customTitle=param.customTitle,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),severity=selectedAlert.severity,reason=selectedAlert.reason,severityStyle=getSeverityStyle(severity);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{gap:3,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Block,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.k2.center,textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nO.Center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.In,{name:severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Info?_component_library__WEBPACK_IMPORTED_MODULE_6__.$M.Info:_component_library__WEBPACK_IMPORTED_MODULE_6__.$M.Danger,size:_component_library__WEBPACK_IMPORTED_MODULE_6__.lK.Xl,color:severityStyle.icon}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.headingSm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.r7.inherit,marginTop:3,marginBottom:4},null!=(_ref=null!=customTitle?customTitle:reason)?_ref:t("alert")))}function BlockaidAlertDetails(){var copy,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),securityAlertResponse=(0,_pages_confirmations_context_confirm__WEBPACK_IMPORTED_MODULE_5__.TW)().currentConfirmation.securityAlertResponse;switch(null==securityAlertResponse?void 0:securityAlertResponse.reason){case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.approvalFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.setApprovalForAll:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.permitFarming:copy=t("blockaidAlertDescriptionWithdraw");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.transferFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.transferFromFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.rawNativeTokenTransfer:copy=t("blockaidAlertDescriptionTokenTransfer");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.seaportFarming:copy=t("blockaidAlertDescriptionOpenSea");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.blurFarming:copy=t("blockaidAlertDescriptionBlur");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.maliciousDomain:copy=t("blockaidAlertDescriptionMalicious");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.rawSignatureFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.tradeOrderFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.other:default:copy=t("blockaidAlertDescriptionOthers")}return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nO.Center,variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMd},copy)}function AlertDetails(param){var _selectedAlert_alertDetails,_selectedAlert_alertDetails1,selectedAlert=param.selectedAlert,customDetails=param.customDetails,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),severityStyle=getSeverityStyle(selectedAlert.severity);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{key:selectedAlert.key,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.InlineBlock,padding:2*!customDetails,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full,backgroundColor:customDetails?void 0:severityStyle.background,borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Z6.SM},null!=customDetails?customDetails:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,null,!!selectedAlert.content&&selectedAlert.content,!!selectedAlert.message&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMd,"data-testid":"alert-modal__selected-alert"},selectedAlert.message),(null==(_selectedAlert_alertDetails=selectedAlert.alertDetails)?void 0:_selectedAlert_alertDetails.length)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMdBold,marginTop:1},t("alertModalDetails")):null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{as:"ul",className:"alert-modal__alert-details",paddingLeft:6},null==(_selectedAlert_alertDetails1=selectedAlert.alertDetails)?void 0:_selectedAlert_alertDetails1.map(function(detail,index){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{as:"li",key:"".concat(selectedAlert.key,"-detail-").concat(index)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMd},detail))}))))}function AcknowledgeCheckboxBase(param){var selectedAlert=param.selectedAlert,onCheckboxClick=param.onCheckboxClick,isConfirmed=param.isConfirmed,label=param.label;if(selectedAlert.isBlocking||selectedAlert.severity!==_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger)return null;var t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),severityStyle=getSeverityStyle(selectedAlert.severity);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Flex,padding:4,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full,backgroundColor:severityStyle.background,borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Z6.LG,marginTop:4},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.Sc,{label:null!=label?label:t("alertModalAcknowledge"),"data-testid":"alert-modal-acknowledge-checkbox",isChecked:isConfirmed,onChange:onCheckboxClick,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.k2.flexStart,className:"alert-modal__acknowledge-checkbox"}))}function AcknowledgeButton(param){var onAcknowledgeClick=param.onAcknowledgeClick,isConfirmed=param.isConfirmed,hasActions=param.hasActions,isBlocking=param.isBlocking,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.$n,{variant:hasActions?_metamask_snaps_sdk__WEBPACK_IMPORTED_MODULE_9__.Ak.Secondary:_metamask_snaps_sdk__WEBPACK_IMPORTED_MODULE_9__.Ak.Primary,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full,onClick:onAcknowledgeClick,size:_component_library__WEBPACK_IMPORTED_MODULE_6__.Mp.Lg,"data-testid":"alert-modal-button",disabled:!isBlocking&&!isConfirmed},t("gotIt"))}function ActionButton(param){var action=param.action,onClose=param.onClose,alertKey=param.alertKey,processAction=(0,_contexts_alertActionHandler__WEBPACK_IMPORTED_MODULE_7__.Qh)().processAction,trackAlertActionClicked=(0,_contexts_alertMetricsContext__WEBPACK_IMPORTED_MODULE_8__.r)().trackAlertActionClicked,handleClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){action&&(trackAlertActionClicked(alertKey),processAction(action.key),onClose({recursive:!0}))},[action,onClose,processAction,trackAlertActionClicked,alertKey]);if(!action)return null;var key=action.key,label=action.label,dataTestId="alert-modal-action-".concat(key);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.$n,{"data-testid":dataTestId,key:key,variant:_metamask_snaps_sdk__WEBPACK_IMPORTED_MODULE_9__.Ak.Primary,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full,size:_component_library__WEBPACK_IMPORTED_MODULE_6__.Mp.Lg,onClick:handleClick},label)}function AlertModal1(param){var _selectedAlert_actions,ownerId=param.ownerId,onAcknowledgeClick=param.onAcknowledgeClick,alertKey=param.alertKey,onClose=param.onClose,headerStartAccessory=param.headerStartAccessory,customTitle=param.customTitle,customDetails=param.customDetails,customAcknowledgeCheckbox=param.customAcknowledgeCheckbox,customAcknowledgeButton=param.customAcknowledgeButton,_param_showCloseIcon=param.showCloseIcon,showCloseIcon=void 0===_param_showCloseIcon||_param_showCloseIcon,_useAlerts=(0,_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_3__.A)(ownerId),isAlertConfirmed=_useAlerts.isAlertConfirmed,setAlertConfirmed=_useAlerts.setAlertConfirmed,alerts=_useAlerts.alerts,trackAlertRender=(0,_contexts_alertMetricsContext__WEBPACK_IMPORTED_MODULE_8__.r)().trackAlertRender,handleClose=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];onClose.apply(void 0,_to_consumable_array(args))},[onClose]),selectedAlert=alerts.find(function(alert){return alert.key===alertKey});(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){selectedAlert&&trackAlertRender(selectedAlert.key)},[selectedAlert,trackAlertRender]);var isConfirmed=!!selectedAlert&&isAlertConfirmed(selectedAlert.key),isAlertDanger=!!selectedAlert&&selectedAlert.severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger,handleCheckboxClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){selectedAlert&&setAlertConfirmed(selectedAlert.key,!isConfirmed)},[isConfirmed,selectedAlert,setAlertConfirmed]);return selectedAlert?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.aF,{isOpen:!0,onClose:handleClose,"data-testid":"alert-modal"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.mH,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.$m,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.rQ,{onClose:showCloseIcon?handleClose:void 0,startAccessory:headerStartAccessory,paddingBottom:0,display:headerStartAccessory?_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.InlineFlex:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Block,closeButtonProps:{"data-testid":"alert-modal-close-button"},endAccessory:showCloseIcon?void 0:null}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(AlertHeader,{selectedAlert:selectedAlert,customTitle:customTitle}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.cw,null,selectedAlert.provider===_shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.O5.Blockaid?react__WEBPACK_IMPORTED_MODULE_0__.createElement(BlockaidAlertDetails,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(AlertDetails,{selectedAlert:selectedAlert,customDetails:customDetails}),null!=customAcknowledgeCheckbox?customAcknowledgeCheckbox:react__WEBPACK_IMPORTED_MODULE_0__.createElement(AcknowledgeCheckboxBase,{selectedAlert:selectedAlert,isConfirmed:isConfirmed,onCheckboxClick:handleCheckboxClick})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.jl,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.bo.Column,gap:4,paddingTop:2,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full},null!=customAcknowledgeButton?customAcknowledgeButton:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(AcknowledgeButton,{onAcknowledgeClick:onAcknowledgeClick,isConfirmed:!isAlertDanger||isConfirmed,hasActions:!!selectedAlert.actions,isBlocking:selectedAlert.isBlocking}),(null!=(_selectedAlert_actions=selectedAlert.actions)?_selectedAlert_actions:[]).map(function(action){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{key:action.key,action:action,onClose:handleClose,alertKey:selectedAlert.key})})))))):null}try{AcknowledgeCheckboxBase.displayName="AcknowledgeCheckboxBase",AcknowledgeCheckboxBase.__docgenInfo={description:"",displayName:"AcknowledgeCheckboxBase",props:{selectedAlert:{defaultValue:null,description:"",name:"selectedAlert",required:!0,type:{name:"Alert"}},onCheckboxClick:{defaultValue:null,description:"",name:"onCheckboxClick",required:!0,type:{name:"() => void"}},isConfirmed:{defaultValue:null,description:"",name:"isConfirmed",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/alert-modal/alert-modal.tsx#AcknowledgeCheckboxBase"]={docgenInfo:AcknowledgeCheckboxBase.__docgenInfo,name:"AcknowledgeCheckboxBase",path:"ui/components/app/alert-system/alert-modal/alert-modal.tsx#AcknowledgeCheckboxBase"})}catch(__react_docgen_typescript_loader_error){}try{AlertModal1.displayName="AlertModal",AlertModal1.__docgenInfo={description:"",displayName:"AlertModal",props:{alertKey:{defaultValue:null,description:"The unique key representing the specific alert field.",name:"alertKey",required:!0,type:{name:"string"}},customAcknowledgeButton:{defaultValue:null,description:"The custom button component for acknowledging the alert.",name:"customAcknowledgeButton",required:!1,type:{name:"ReactNode"}},customAcknowledgeCheckbox:{defaultValue:null,description:"The custom checkbox component for acknowledging the alert.",name:"customAcknowledgeCheckbox",required:!1,type:{name:"ReactNode"}},customDetails:{defaultValue:null,description:"The custom details component for the alert.",name:"customDetails",required:!1,type:{name:"ReactNode"}},customTitle:{defaultValue:null,description:"The custom title for the alert.",name:"customTitle",required:!1,type:{name:"string"}},headerStartAccessory:{defaultValue:null,description:`The start (left) content area of ModalHeader.
It overrides \`startAccessory\` of ModalHeaderDefault and by default no content is present.`,name:"headerStartAccessory",required:!1,type:{name:"ReactNode"}},onAcknowledgeClick:{defaultValue:null,description:"The function invoked when the user acknowledges the alert.",name:"onAcknowledgeClick",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"(request?: { recursive?: boolean | undefined; } | undefined) => void"}},ownerId:{defaultValue:null,description:"The owner ID of the relevant alert from the `confirmAlerts` reducer.",name:"ownerId",required:!0,type:{name:"string"}},showCloseIcon:{defaultValue:{value:"true"},description:"Whether to show the close icon in the modal header.",name:"showCloseIcon",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/alert-modal/alert-modal.tsx#AlertModal"]={docgenInfo:AlertModal1.__docgenInfo,name:"AlertModal",path:"ui/components/app/alert-system/alert-modal/alert-modal.tsx#AlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/alert-modal/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>_alert_modal__WEBPACK_IMPORTED_MODULE_0__.W});var _alert_modal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/alert-system/alert-modal/alert-modal.tsx");try{AlertModal.displayName="AlertModal",AlertModal.__docgenInfo={description:"",displayName:"AlertModal",props:{alertKey:{defaultValue:null,description:"The unique key representing the specific alert field.",name:"alertKey",required:!0,type:{name:"string"}},customAcknowledgeButton:{defaultValue:null,description:"The custom button component for acknowledging the alert.",name:"customAcknowledgeButton",required:!1,type:{name:"ReactNode"}},customAcknowledgeCheckbox:{defaultValue:null,description:"The custom checkbox component for acknowledging the alert.",name:"customAcknowledgeCheckbox",required:!1,type:{name:"ReactNode"}},customDetails:{defaultValue:null,description:"The custom details component for the alert.",name:"customDetails",required:!1,type:{name:"ReactNode"}},customTitle:{defaultValue:null,description:"The custom title for the alert.",name:"customTitle",required:!1,type:{name:"string"}},headerStartAccessory:{defaultValue:null,description:`The start (left) content area of ModalHeader.
It overrides \`startAccessory\` of ModalHeaderDefault and by default no content is present.`,name:"headerStartAccessory",required:!1,type:{name:"ReactNode"}},onAcknowledgeClick:{defaultValue:null,description:"The function invoked when the user acknowledges the alert.",name:"onAcknowledgeClick",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"(request?: { recursive?: boolean | undefined; } | undefined) => void"}},ownerId:{defaultValue:null,description:"The owner ID of the relevant alert from the `confirmAlerts` reducer.",name:"ownerId",required:!0,type:{name:"string"}},showCloseIcon:{defaultValue:{value:"true"},description:"Whether to show the close icon in the modal header.",name:"showCloseIcon",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/alert-modal/index.tsx#AlertModal"]={docgenInfo:AlertModal.__docgenInfo,name:"AlertModal",path:"ui/components/app/alert-system/alert-modal/index.tsx#AlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/contexts/alertActionHandler.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Qh:()=>useAlertActionHandler,U1:()=>AlertActionHandlerProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),AlertActionHandlerContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0),AlertActionHandlerProvider=function(param){var children=param.children,onProcessAction=param.onProcessAction,processAction=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(_actionKey){onProcessAction(_actionKey)},[onProcessAction]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AlertActionHandlerContext.Provider,{value:{processAction:processAction}},children)},useAlertActionHandler=function(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AlertActionHandlerContext);if(!context)throw Error("useAlertActionHandler must be used within an AlertActionHandlerProvider");return context};try{AlertActionHandlerProvider.displayName="AlertActionHandlerProvider",AlertActionHandlerProvider.__docgenInfo={description:"",displayName:"AlertActionHandlerProvider",props:{onProcessAction:{defaultValue:null,description:"",name:"onProcessAction",required:!0,type:{name:"(actionKey: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/contexts/alertActionHandler.tsx#AlertActionHandlerProvider"]={docgenInfo:AlertActionHandlerProvider.__docgenInfo,name:"AlertActionHandlerProvider",path:"ui/components/app/alert-system/contexts/alertActionHandler.tsx#AlertActionHandlerProvider"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/multiple-alert-modal/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>_multiple_alert_modal__WEBPACK_IMPORTED_MODULE_0__.C});var _multiple_alert_modal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/alert-system/multiple-alert-modal/multiple-alert-modal.tsx");try{MultipleAlertModal.displayName="MultipleAlertModal",MultipleAlertModal.__docgenInfo={description:"",displayName:"MultipleAlertModal",props:{alertKey:{defaultValue:null,description:"The key of the initial alert to display.",name:"alertKey",required:!1,type:{name:"string"}},displayAllAlerts:{defaultValue:{value:"false"},description:"If true the modal will display non-field alerts also.",name:"displayAllAlerts",required:!1,type:{name:"boolean"}},onFinalAcknowledgeClick:{defaultValue:null,description:"The function to be executed when the button in the alert modal is clicked.",name:"onFinalAcknowledgeClick",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"(request?: { recursive?: boolean | undefined; } | undefined) => void"}},ownerId:{defaultValue:null,description:"The unique identifier of the entity that owns the alert.",name:"ownerId",required:!0,type:{name:"string"}},showCloseIcon:{defaultValue:{value:"true"},description:"Whether to show the close icon in the modal header.",name:"showCloseIcon",required:!1,type:{name:"boolean"}},skipAlertNavigation:{defaultValue:{value:"false"},description:"Whether to skip the unconfirmed alerts validation and close the modal directly.",name:"skipAlertNavigation",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/multiple-alert-modal/index.tsx#MultipleAlertModal"]={docgenInfo:MultipleAlertModal.__docgenInfo,name:"MultipleAlertModal",path:"ui/components/app/alert-system/multiple-alert-modal/index.tsx#MultipleAlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/multiple-alert-modal/multiple-alert-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>MultipleAlertModal1});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_component_library__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/hooks/useI18nContext.js"),_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useAlerts.ts"),_alert_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/app/alert-system/alert-modal/index.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function PreviousButton(param){var selectedIndex=param.selectedIndex,onBackButtonClick=param.onBackButtonClick,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)();return selectedIndex+1>1?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.a2,{iconName:_component_library__WEBPACK_IMPORTED_MODULE_1__.$M.ArrowLeft,ariaLabel:t("back"),size:_component_library__WEBPACK_IMPORTED_MODULE_1__.f3.Sm,onClick:onBackButtonClick,className:"confirm_nav__left_btn","data-testid":"alert-modal-back-button",borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Z6.full,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.iconAlternative,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.backgroundAlternative}):null}function NextButton(param){var selectedIndex=param.selectedIndex,alertsLength=param.alertsLength,onNextButtonClick=param.onNextButtonClick,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)();return selectedIndex+1<alertsLength?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.a2,{iconName:_component_library__WEBPACK_IMPORTED_MODULE_1__.$M.ArrowRight,ariaLabel:t("next"),size:_component_library__WEBPACK_IMPORTED_MODULE_1__.f3.Sm,onClick:onNextButtonClick,className:"confirm_nav__right_btn","data-testid":"alert-modal-next-button",borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Z6.full,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.iconAlternative,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.backgroundAlternative}):null}function PageNumber(param){var selectedIndex=param.selectedIndex,alertsLength=param.alertsLength,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.r7.textAlternative,marginInline:1,style:{whiteSpace:"nowrap"}},"".concat(selectedIndex+1," ").concat(t("ofTextNofM")," ").concat(alertsLength))}function PageNavigation(param){var alerts=param.alerts,onBackButtonClick=param.onBackButtonClick,onNextButtonClick=param.onNextButtonClick,selectedIndex=param.selectedIndex;return alerts.length<=1?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.k2.center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(PreviousButton,{selectedIndex:selectedIndex,onBackButtonClick:onBackButtonClick}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageNumber,{selectedIndex:selectedIndex,alertsLength:alerts.length}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextButton,{selectedIndex:selectedIndex,alertsLength:alerts.length,onNextButtonClick:onNextButtonClick}))}function MultipleAlertModal1(param){var _alertsToDisplay_selectedIndex,alertKey=param.alertKey,_param_displayAllAlerts=param.displayAllAlerts,onClose=param.onClose,onFinalAcknowledgeClick=param.onFinalAcknowledgeClick,ownerId=param.ownerId,_param_showCloseIcon=param.showCloseIcon,_param_skipAlertNavigation=param.skipAlertNavigation,skipAlertNavigation=void 0!==_param_skipAlertNavigation&&_param_skipAlertNavigation,_useAlerts=(0,_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_4__.A)(ownerId),isAlertConfirmed=_useAlerts.isAlertConfirmed,fieldAlerts=_useAlerts.fieldAlerts,alerts=_useAlerts.alerts,alertsToDisplay=void 0!==_param_displayAllAlerts&&_param_displayAllAlerts?alerts:fieldAlerts,initialAlertIndex=alertsToDisplay.findIndex(function(alert){return alert.key===alertKey}),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1===initialAlertIndex?0:initialAlertIndex),2),selectedIndex=_useState[0],setSelectedIndex=_useState[1],selectedAlert=null!=(_alertsToDisplay_selectedIndex=alertsToDisplay[selectedIndex])?_alertsToDisplay_selectedIndex:alertsToDisplay[0],hasUnconfirmedAlerts=alerts.some(function(alert){return!isAlertConfirmed(alert.key)&&alert.severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger}),handleBackButtonClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setSelectedIndex(function(prevIndex){return prevIndex>0?prevIndex-1:prevIndex})},[]),handleNextButtonClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setSelectedIndex(function(prevIndex){return prevIndex+1})},[]),handleAcknowledgeClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){return skipAlertNavigation?void onFinalAcknowledgeClick():selectedIndex+1===alertsToDisplay.length?hasUnconfirmedAlerts?void setSelectedIndex(0):void onFinalAcknowledgeClick():void handleNextButtonClick()},[onFinalAcknowledgeClick,handleNextButtonClick,selectedIndex,alertsToDisplay.length,hasUnconfirmedAlerts,skipAlertNavigation]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_alert_modal__WEBPACK_IMPORTED_MODULE_5__.W,{ownerId:ownerId,onAcknowledgeClick:handleAcknowledgeClick,alertKey:null==selectedAlert?void 0:selectedAlert.key,onClose:onClose,headerStartAccessory:react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageNavigation,{alerts:alertsToDisplay,onBackButtonClick:handleBackButtonClick,onNextButtonClick:handleNextButtonClick,selectedIndex:selectedIndex}),showCloseIcon:void 0===_param_showCloseIcon||_param_showCloseIcon})}try{MultipleAlertModal1.displayName="MultipleAlertModal",MultipleAlertModal1.__docgenInfo={description:"",displayName:"MultipleAlertModal",props:{alertKey:{defaultValue:null,description:"The key of the initial alert to display.",name:"alertKey",required:!1,type:{name:"string"}},displayAllAlerts:{defaultValue:{value:"false"},description:"If true the modal will display non-field alerts also.",name:"displayAllAlerts",required:!1,type:{name:"boolean"}},onFinalAcknowledgeClick:{defaultValue:null,description:"The function to be executed when the button in the alert modal is clicked.",name:"onFinalAcknowledgeClick",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"(request?: { recursive?: boolean | undefined; } | undefined) => void"}},ownerId:{defaultValue:null,description:"The unique identifier of the entity that owns the alert.",name:"ownerId",required:!0,type:{name:"string"}},showCloseIcon:{defaultValue:{value:"true"},description:"Whether to show the close icon in the modal header.",name:"showCloseIcon",required:!1,type:{name:"boolean"}},skipAlertNavigation:{defaultValue:{value:"false"},description:"Whether to skip the unconfirmed alerts validation and close the modal directly.",name:"skipAlertNavigation",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/multiple-alert-modal/multiple-alert-modal.tsx#MultipleAlertModal"]={docgenInfo:MultipleAlertModal1.__docgenInfo,name:"MultipleAlertModal",path:"ui/components/app/alert-system/multiple-alert-modal/multiple-alert-modal.tsx#MultipleAlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/confirm/info/row/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GH:()=>AlertActionKey,Oh:()=>TEST_ADDRESS,oE:()=>RowAlertKey});var TEST_ADDRESS="0x5CfE73b6021E818B776b421B1c4Db2474086a7e1",RowAlertKey=function(RowAlertKey){return RowAlertKey.AccountTypeUpgrade="accountTypeUpgrade",RowAlertKey.EstimatedFee="estimatedFee",RowAlertKey.SigningInWith="signingInWith",RowAlertKey.RequestFrom="requestFrom",RowAlertKey.Network="network",RowAlertKey.Resimulation="resimulation",RowAlertKey.Speed="speed",RowAlertKey.InteractingWith="interactingWith",RowAlertKey.EstimatedChangesStatic="estimatedChangesStatic",RowAlertKey}({}),AlertActionKey=function(AlertActionKey){return AlertActionKey.Buy="buy",AlertActionKey.ShowAdvancedGasFeeModal="showAdvancedGasModal",AlertActionKey.ShowGasFeeModal="showGasFeeModal",AlertActionKey.ShowPendingConfirmation="showPendingConfirmation",AlertActionKey}({})},"./ui/components/app/permissions-connect-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PermissionsConnectFooter});var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),zendesk_url=__webpack_require__("./ui/helpers/constants/zendesk-url.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts");function _assert_this_initialized(self){if(void 0===self)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _call_super(_this,derived,args){return derived=_get_prototype_of(derived),_possible_constructor_return(_this,_is_native_reflect_construct()?Reflect.construct(derived,args||[],_get_prototype_of(_this).constructor):derived.apply(_this,args))}function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _get_prototype_of(o){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_set_prototype_of(subClass,superClass)}function _possible_constructor_return(self,call){return call&&("object"===_type_of(call)||"function"==typeof call)?call:_assert_this_initialized(self)}function _set_prototype_of(o,p){return(_set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function _is_native_reflect_construct(){try{var result=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return(_is_native_reflect_construct=function(){return!!result})()}var PermissionsConnectFooter=function(Component){function PermissionsConnectFooter(){return _class_call_check(this,PermissionsConnectFooter),_call_super(this,PermissionsConnectFooter,arguments)}return _inherits(PermissionsConnectFooter,Component),_create_class(PermissionsConnectFooter,[{key:"render",value:function render(){var t=this.context.t;return react.createElement(component_library.az,{display:design_system.nl.Flex,alignItems:design_system.k2.center,justifyContent:design_system.A9.center},react.createElement(component_library.EY,{variant:design_system.J3.bodyMd},t("onlyConnectTrust",[react.createElement(component_library.vx,{key:"permission-connect-footer-learn-more-link",size:component_library.wL.Inherit,target:"_blank",onClick:function(){__webpack_require__.g.platform.openTab({url:zendesk_url.A.USER_GUIDE_DAPPS})}},t("learnMoreUpperCase"))])))}}]),PermissionsConnectFooter}(react.Component);_define_property(PermissionsConnectFooter,"contextTypes",{t:prop_types_default().func}),PermissionsConnectFooter.__docgenInfo={description:"",methods:[],displayName:"PermissionsConnectFooter",context:{t:{type:{name:"func"},required:!1}}}},"./ui/components/app/snaps/snap-privacy-warning/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_snap_privacy_warning__WEBPACK_IMPORTED_MODULE_0__.A});var _snap_privacy_warning__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js")},"./ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>SnapPrivacyWarning});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useScrollRequired=__webpack_require__("./ui/hooks/useScrollRequired.js");function SnapPrivacyWarning(param){var onAccepted=param.onAccepted,onCanceled=param.onCanceled,t=(0,useI18nContext.P)(),_useScrollRequired=(0,useScrollRequired.c)(),isScrollable=_useScrollRequired.isScrollable,isScrolledToBottom=_useScrollRequired.isScrolledToBottom,scrollToBottom=_useScrollRequired.scrollToBottom,ref=_useScrollRequired.ref,onScroll=_useScrollRequired.onScroll;return react.createElement(component_library.aF,{onClose:function(){return null},isOpen:!0,className:"snap-install-warning"},react.createElement(component_library.$m,null,react.createElement(component_library.cw,{className:"snap-privacy-warning"},react.createElement(component_library.az,null,react.createElement(component_library.az,{className:"snap-privacy-warning__header"},react.createElement(component_library.az,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:design_system.nl.Flex,justifyContent:design_system.A9.center,alignItems:design_system.k2.center},react.createElement(component_library.hS,{iconName:component_library.$M.Info,color:design_system.Li.infoDefault,backgroundColor:design_system.i0.primaryMuted,size:component_library.OQ.Md})),react.createElement(component_library.az,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:design_system.nl.Flex,justifyContent:design_system.A9.center,alignItems:design_system.k2.center},react.createElement(component_library.EY,{variant:design_system.J3.headingMd,fontWeight:design_system.IT.Bold},t("thirdPartySoftware")))),react.createElement(component_library.az,{className:"snap-privacy-warning__content",ref:ref,onScroll:onScroll},react.createElement(component_library.az,{className:"snap-privacy-warning__message"},react.createElement(component_library.EY,{variant:design_system.J3.bodyMd},t("snapsPrivacyWarningFirstMessage",[react.createElement(component_library.vx,{className:"snap-privacy-warning__content__terms-link",key:"privacyNoticeTermsOfUseLink",size:component_library.wL.Inherit,href:"https://consensys.io/terms-of-use/",target:"_blank"},"",t("snapsTermsOfUse"),"")])),react.createElement(component_library.EY,{variant:design_system.J3.bodyMd,paddingTop:6},t("snapsPrivacyWarningSecondMessage")),react.createElement(component_library.EY,{variant:design_system.J3.bodyMd,fontWeight:design_system.IT.Bold,paddingTop:6},t("snapsPrivacyWarningThirdMessage"))),isScrollable&&!isScrolledToBottom?react.createElement(component_library.hS,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:component_library.$M.Arrow2Down,backgroundColor:design_system.i0.infoDefault,color:design_system.Li.primaryInverse,onClick:scrollToBottom,style:{cursor:"pointer"}}):null))),react.createElement(component_library.jl,{onSubmit:onAccepted,onCancel:onCanceled,submitButtonProps:{children:t("accept"),disabled:!isScrolledToBottom},cancelButtonProps:{children:t("cancel")}})))}SnapPrivacyWarning.propTypes={onAccepted:prop_types_default().func.isRequired,onCanceled:prop_types_default().func.isRequired},SnapPrivacyWarning.__docgenInfo={description:"",methods:[],displayName:"SnapPrivacyWarning",props:{onAccepted:{description:"onAccepted handler",type:{name:"func"},required:!0},onCanceled:{description:"onCanceled handler",type:{name:"func"},required:!0}}}},"./ui/hooks/useAlerts.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useAlerts});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),reselect=__webpack_require__("./node_modules/reselect/dist/reselect.mjs");function selectAlerts(state,ownerId){var _state_confirmAlerts,_state_confirmAlerts_alerts_ownerId;return null!=(_state_confirmAlerts_alerts_ownerId=null==(_state_confirmAlerts=state.confirmAlerts)?void 0:_state_confirmAlerts.alerts[ownerId])?_state_confirmAlerts_alerts_ownerId:[]}var selectGeneralAlerts=(0,reselect.Mz)(function(state,ownerId){return selectAlerts(state,ownerId)},function(alerts){return alerts.filter(function(alert){return!alert.field})}),selectFieldAlerts=(0,reselect.Mz)(function(state,ownerId){return selectAlerts(state,ownerId)},function(alerts){return alerts.filter(function(alert){return alert.field})});function selectConfirmedAlertKeys(state,ownerId){var _state_confirmAlerts,confirmed=(null!=(_state_confirmAlerts=state.confirmAlerts)?_state_confirmAlerts:{}).confirmed,ownerConfirmed=(null==confirmed?void 0:confirmed[ownerId])||{};return Object.keys(ownerConfirmed).filter(function(key){return ownerConfirmed[key]})}var confirm_alerts=__webpack_require__("./ui/ducks/confirm-alerts/confirm-alerts.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function sortAlertsBySeverity(alerts){var _obj,severityOrder=(_define_property(_obj={},design_system.AI.Danger,3),_define_property(_obj,design_system.AI.Warning,2),_define_property(_obj,design_system.AI.Info,1),_obj);return alerts.sort(function(a,b){return severityOrder[b.severity]-severityOrder[a.severity]})}let hooks_useAlerts=function(ownerId){var dispatch=(0,es.wA)(),alerts=sortAlertsBySeverity((0,es.d4)(function(state){return selectAlerts(state,ownerId)})),confirmedAlertKeys=(0,es.d4)(function(state){return selectConfirmedAlertKeys(state,ownerId)}),generalAlerts=sortAlertsBySeverity((0,es.d4)(function(state){return selectGeneralAlerts(state,ownerId)})),fieldAlerts=sortAlertsBySeverity((0,es.d4)(function(state){return selectFieldAlerts(state,ownerId)})),getFieldAlerts=(0,react.useCallback)(function(field){return field?alerts.filter(function(alert){return alert.field===field}):[]},[alerts]),setAlertConfirmed=(0,react.useCallback)(function(alertKey,isConfirmed){dispatch((0,confirm_alerts.G0)(ownerId,alertKey,isConfirmed))},[dispatch,confirm_alerts.G0,ownerId]),isAlertConfirmed=(0,react.useCallback)(function(alertKey){return confirmedAlertKeys.includes(alertKey)},[confirmedAlertKeys]),unconfirmedDangerAlerts=alerts.filter(function(alert){return!isAlertConfirmed(alert.key)&&alert.severity===design_system.AI.Danger}),hasAlerts=alerts.length>0,dangerAlerts=alerts.filter(function(alert){return alert.severity===design_system.AI.Danger}),hasUnconfirmedDangerAlerts=unconfirmedDangerAlerts.length>0,unconfirmedFieldDangerAlerts=fieldAlerts.filter(function(alert){return!isAlertConfirmed(alert.key)&&alert.severity===design_system.AI.Danger});return{alerts:alerts,fieldAlerts:fieldAlerts,generalAlerts:generalAlerts,getFieldAlerts:getFieldAlerts,hasAlerts:hasAlerts,dangerAlerts:dangerAlerts,hasDangerAlerts:(null==dangerAlerts?void 0:dangerAlerts.length)>0,hasUnconfirmedDangerAlerts:hasUnconfirmedDangerAlerts,isAlertConfirmed:isAlertConfirmed,setAlertConfirmed:setAlertConfirmed,unconfirmedDangerAlerts:unconfirmedDangerAlerts,unconfirmedFieldDangerAlerts:unconfirmedFieldDangerAlerts,hasUnconfirmedFieldDangerAlerts:unconfirmedFieldDangerAlerts.length>0}}},"./ui/hooks/usePrevious.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>usePrevious});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function usePrevious(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){ref.current=value},[value]),ref.current}},"./ui/hooks/useScrollRequired.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>useScrollRequired});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js"),_usePrevious__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/hooks/usePrevious.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var useScrollRequired=function(){var _ref_current,_ref_current1,dependencies=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref_offsetPxFromBottom=_ref.offsetPxFromBottom,offsetPxFromBottom=void 0===_ref_offsetPxFromBottom?16:_ref_offsetPxFromBottom,ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),prevOffsetHeight=(0,_usePrevious__WEBPACK_IMPORTED_MODULE_2__.Z)(null==(_ref_current=ref.current)?void 0:_ref_current.offsetHeight),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),hasScrolledToBottomState=_useState[0],setHasScrolledToBottom=_useState[1],_useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isScrollableState=_useState1[0],setIsScrollable=_useState1[1],_useState2=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isScrolledToBottomState=_useState2[0],setIsScrolledToBottom=_useState2[1],update=function(){if(ref.current){var isScrollable=ref.current&&ref.current.scrollHeight>ref.current.clientHeight,isScrolledToBottom=isScrollable&&Math.round(ref.current.scrollTop)+ref.current.offsetHeight+offsetPxFromBottom>=ref.current.scrollHeight;isScrollable!==isScrollableState&&(setHasScrolledToBottom(!1),setIsScrollable(isScrollable)),setIsScrolledToBottom(!isScrollable||isScrolledToBottom),(!isScrollable||isScrolledToBottom)&&setHasScrolledToBottom(!0)}};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(update,[ref].concat(_to_consumable_array(dependencies))),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){var _ref_current;prevOffsetHeight!==(null==(_ref_current=ref.current)?void 0:_ref_current.offsetHeight)&&update()},[null==(_ref_current1=ref.current)?void 0:_ref_current1.offsetHeight]),{isScrollable:isScrollableState,isScrolledToBottom:isScrolledToBottomState,hasScrolledToBottom:hasScrolledToBottomState,scrollToBottom:function(){setIsScrolledToBottom(!0),setHasScrolledToBottom(!0),ref.current&&ref.current.scrollTo({top:ref.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:setHasScrolledToBottom,ref:ref,onScroll:(0,lodash__WEBPACK_IMPORTED_MODULE_1__.debounce)(update,25)}}},"./ui/pages/confirmations/confirmation/alerts/TemplateAlertContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{xd:()=>TemplateAlertContextProvider,Jp:()=>useTemplateAlertContext});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useAlerts=__webpack_require__("./ui/hooks/useAlerts.ts"),alertActionHandler=__webpack_require__("./ui/components/app/alert-system/contexts/alertActionHandler.tsx"),alertMetricsContext=__webpack_require__("./ui/components/app/alert-system/contexts/alertMetricsContext.tsx"),multiple_alert_modal=__webpack_require__("./ui/components/app/alert-system/multiple-alert-modal/index.tsx"),selectors=__webpack_require__("./ui/selectors/index.js"),confirm_alerts=__webpack_require__("./ui/ducks/confirm-alerts/confirm-alerts.ts"),constants=__webpack_require__("./node_modules/@metamask/controller-utils/dist/constants.mjs"),row_constants=__webpack_require__("./ui/components/app/confirm/info/row/constants.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),VALIDATED_APPROVAL_TYPES=[constants.s.AddEthereumChain,constants.s.SwitchEthereumChain];function useUpdateEthereumChainAlerts(pendingConfirmation){var _pendingConfirmation_requestData,pendingConfirmationsFromOrigin=(0,es.d4)(function(state){return(0,selectors.aV8)(state,null==pendingConfirmation?void 0:pendingConfirmation.origin)}),t=(0,useI18nContext.P)();return(0,react.useMemo)(function(){var _pendingConfirmation_requestData_metadata,_pendingConfirmation_requestData;return(null==pendingConfirmationsFromOrigin?void 0:pendingConfirmationsFromOrigin.length)<=1||!VALIDATED_APPROVAL_TYPES.includes(pendingConfirmation.type)&&(null==pendingConfirmation||null==(_pendingConfirmation_requestData=pendingConfirmation.requestData)||null==(_pendingConfirmation_requestData_metadata=_pendingConfirmation_requestData.metadata)?void 0:_pendingConfirmation_requestData_metadata.isSwitchEthereumChain)!==!0?[]:[{actions:[{key:row_constants.GH.ShowPendingConfirmation,label:t("reviewPendingTransactions")}],key:"pendingConfirmationFromSameOrigin",message:t(pendingConfirmation.type===constants.s.AddEthereumChain?"pendingConfirmationAddNetworkAlertMessage":"pendingConfirmationSwitchNetworkAlertMessage",[pendingConfirmationsFromOrigin.length-1]),reason:t("areYouSure"),severity:design_system.AI.Warning}]},[null==pendingConfirmation?void 0:pendingConfirmation.type,null==pendingConfirmation||null==(_pendingConfirmation_requestData=pendingConfirmation.requestData)?void 0:_pendingConfirmation_requestData.metadata,null==pendingConfirmationsFromOrigin?void 0:pendingConfirmationsFromOrigin.length,t])}var useTemplateConfirmationAlerts=function(pendingConfirmation){var dispatch=(0,es.wA)(),addEthereumChainAlerts=useUpdateEthereumChainAlerts(pendingConfirmation),alerts=(0,react.useMemo)(function(){return addEthereumChainAlerts},[addEthereumChainAlerts]),alertOwnerId=null==pendingConfirmation?void 0:pendingConfirmation.id;(0,react.useEffect)(function(){dispatch((0,confirm_alerts.dH)(alertOwnerId,alerts))},[alerts,alertOwnerId,dispatch]),(0,react.useEffect)(function(){return function(){dispatch((0,confirm_alerts.lW)(alertOwnerId))}},[alertOwnerId,dispatch])},useConfirmationNavigation=__webpack_require__("./ui/pages/confirmations/hooks/useConfirmationNavigation.ts"),useAlertsActions=function(hideAlertModal,pendingConfirmation){var pendingConfirmationsFromOrigin=(0,es.d4)(function(state){return(0,selectors.aV8)(state,null==pendingConfirmation?void 0:pendingConfirmation.origin)}),_useConfirmationNavigation=(0,useConfirmationNavigation.N)(),getIndex=_useConfirmationNavigation.getIndex,navigateToIndex=_useConfirmationNavigation.navigateToIndex,navigateToPendingConfirmation=(0,react.useCallback)(function(){var _pendingConfirmations_,id=pendingConfirmation.id;navigateToIndex(getIndex(null==(_pendingConfirmations_=(null==pendingConfirmationsFromOrigin?void 0:pendingConfirmationsFromOrigin.filter(function(confirmation){return confirmation.id!==id}))[0])?void 0:_pendingConfirmations_.id)),hideAlertModal()},[getIndex,pendingConfirmation,pendingConfirmationsFromOrigin,hideAlertModal,navigateToIndex]);return(0,react.useCallback)(function(actionKey){actionKey===row_constants.GH.ShowPendingConfirmation?navigateToPendingConfirmation():console.error("Unknown alert action key:",actionKey)},[navigateToPendingConfirmation])};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var NopeFunction=function(){},TemplateAlertContext=(0,react.createContext)(void 0),TemplateAlertContextProvider=function(param){var _pendingConfirmations_find,children=param.children,confirmationId=param.confirmationId,onSubmit=param.onSubmit,pendingConfirmations=(0,es.d4)(selectors.rOW),pendingConfirmation=null!=(_pendingConfirmations_find=null==pendingConfirmations?void 0:pendingConfirmations.find(function(confirmation){return confirmation.id===confirmationId}))?_pendingConfirmations_find:pendingConfirmations[0],_useState=_sliced_to_array((0,react.useState)(!1),2),isAlertsModalVisible=_useState[0],setIsAlertsModalVisible=_useState[1],alertOwnerId=null==pendingConfirmation?void 0:pendingConfirmation.id;useTemplateConfirmationAlerts(pendingConfirmation);var hasAlerts=(0,useAlerts.A)(alertOwnerId).hasAlerts,showAlertsModal=(0,react.useCallback)(function(){setIsAlertsModalVisible(!0)},[setIsAlertsModalVisible]),hideAlertModal=(0,react.useCallback)(function(){setIsAlertsModalVisible(!1)},[setIsAlertsModalVisible]),onFinalSubmit=(0,react.useCallback)(function(){hideAlertModal(),onSubmit()},[hideAlertModal,onSubmit]),processAction=useAlertsActions(hideAlertModal,pendingConfirmation);return react.createElement(alertMetricsContext.n,{metrics:{trackAlertActionClicked:NopeFunction,trackAlertRender:NopeFunction,trackInlineAlertClicked:NopeFunction}},react.createElement(alertActionHandler.U1,{onProcessAction:processAction},react.createElement(TemplateAlertContext.Provider,{value:{hasAlerts:hasAlerts,showAlertsModal:showAlertsModal}},react.createElement(react.Fragment,null,isAlertsModalVisible&&react.createElement(multiple_alert_modal.C,{ownerId:alertOwnerId,onFinalAcknowledgeClick:onFinalSubmit,onClose:hideAlertModal,showCloseIcon:!1,displayAllAlerts:!0}),children))))},useTemplateAlertContext=function(){var context=(0,react.useContext)(TemplateAlertContext);if(!context)throw Error("useTemplateAlertContext must be used within an TemplateAlertContextProvider");return context};try{TemplateAlertContextProvider.displayName="TemplateAlertContextProvider",TemplateAlertContextProvider.__docgenInfo={description:"",displayName:"TemplateAlertContextProvider",props:{confirmationId:{defaultValue:null,description:"",name:"confirmationId",required:!0,type:{name:"string"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/confirmation/alerts/TemplateAlertContext.tsx#TemplateAlertContextProvider"]={docgenInfo:TemplateAlertContextProvider.__docgenInfo,name:"TemplateAlertContextProvider",path:"ui/pages/confirmations/confirmation/alerts/TemplateAlertContext.tsx#TemplateAlertContextProvider"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/context/confirm/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VF:()=>ConfirmContextProvider,TW:()=>useConfirmContext});var react=__webpack_require__("./node_modules/react/index.js"),types=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./ui/__mocks__/actions.js"),useCurrentConfirmation=__webpack_require__("./ui/pages/confirmations/hooks/useCurrentConfirmation.ts"),react_router=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),useConfirmationNavigation=__webpack_require__("./ui/pages/confirmations/hooks/useConfirmationNavigation.ts");let hooks_syncConfirmPath=function(currentConfirmation){var navigateToId=(0,useConfirmationNavigation.N)().navigateToId,paramId=(0,react_router.g)().id,confirmationId=null==currentConfirmation?void 0:currentConfirmation.id;(0,react.useEffect)(function(){confirmationId&&(paramId||navigateToId(confirmationId))},[confirmationId,paramId,navigateToId])};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var ConfirmContext=(0,react.createContext)(void 0),ConfirmContextProvider=function(param){var children=param.children,_useState=_sliced_to_array((0,react.useState)(!0),2),isScrollToBottomCompleted=_useState[0],setIsScrollToBottomCompleted=_useState[1],currentConfirmation=(0,useCurrentConfirmation.A)().currentConfirmation;hooks_syncConfirmPath(currentConfirmation);var dispatch=(0,es.wA)(),value=(0,react.useMemo)(function(){return{currentConfirmation:currentConfirmation,isScrollToBottomCompleted:isScrollToBottomCompleted,setIsScrollToBottomCompleted:setIsScrollToBottomCompleted}},[currentConfirmation,isScrollToBottomCompleted,setIsScrollToBottomCompleted]);return(0,react.useEffect)(function(){currentConfirmation&&(currentConfirmation.type===types.D_.revokeDelegation||currentConfirmation.type===types.D_.batch)&&dispatch((0,actions.setAccountDetailsAddress)(""))},[dispatch,currentConfirmation]),react.createElement(ConfirmContext.Provider,{value:value},children)},useConfirmContext=function(){var context=(0,react.useContext)(ConfirmContext);if(!context)throw Error("useConfirmContext must be used within an ConfirmContextProvider");return context};try{ConfirmContextProvider.displayName="ConfirmContextProvider",ConfirmContextProvider.__docgenInfo={description:"",displayName:"ConfirmContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/context/confirm/index.tsx#ConfirmContextProvider"]={docgenInfo:ConfirmContextProvider.__docgenInfo,name:"ConfirmContextProvider",path:"ui/pages/confirmations/context/confirm/index.tsx#ConfirmContextProvider"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/hooks/useConfirmationNavigation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>useConfirmationNavigation});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@metamask/controller-utils/dist/constants.mjs"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_confirmation_templates__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/pages/confirmations/confirmation/templates/index.js"),_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/constants/routes.ts"),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/pages/confirmations/utils/index.ts"),_selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/selectors/index.js"),CONNECT_APPROVAL_TYPES=[_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WalletRequestPermissions,"wallet_installSnap","wallet_updateSnap","wallet_installSnapResult"];function useConfirmationNavigation(){var confirmations=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_6__.VKo),approvalFlows=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_6__.j9f,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual),history=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.W6)(),getIndex=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(confirmationId){return confirmationId?confirmations.findIndex(function(param){return param.id===confirmationId}):0},[confirmations]),navigateToId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(confirmationId){navigateToConfirmation(confirmationId,confirmations,!!(null==approvalFlows?void 0:approvalFlows.length),history)},[confirmations,history]),navigateToIndex=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(index){var nextConfirmation=confirmations[index];navigateToId(null==nextConfirmation?void 0:nextConfirmation.id)},[confirmations,navigateToId]),count=confirmations.length;return{confirmations:confirmations,count:count,getIndex:getIndex,navigateToId:navigateToId,navigateToIndex:navigateToIndex}}function navigateToConfirmation(confirmationId,confirmations,hasApprovalFlows,history){var _nextConfirmation_requestData_asset,_nextConfirmation_requestData,hasNoConfirmations=(null==confirmations?void 0:confirmations.length)<=0||!confirmationId;if(hasApprovalFlows&&hasNoConfirmations)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.DL));if(!hasNoConfirmations){var nextConfirmation=confirmations.find(function(confirmation){return confirmation.id===confirmationId});if(nextConfirmation){var type=nextConfirmation.type;if(_confirmation_templates__WEBPACK_IMPORTED_MODULE_3__.x0.includes(type))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.DL,"/").concat(confirmationId));if((0,_utils__WEBPACK_IMPORTED_MODULE_5__.rS)(nextConfirmation))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.no));if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.Transaction)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId));if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.EthDecrypt)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.OT));if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.EthGetEncryptionPublicKey)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.yK));if(CONNECT_APPROVAL_TYPES.includes(type))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.Fh,"/").concat(confirmationId));var tokenId=null==nextConfirmation||null==(_nextConfirmation_requestData=nextConfirmation.requestData)||null==(_nextConfirmation_requestData_asset=_nextConfirmation_requestData.asset)?void 0:_nextConfirmation_requestData_asset.tokenId;if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WatchAsset&&!tokenId)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.nK));type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WatchAsset&&tokenId&&history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.A0))}}}},"./ui/pages/confirmations/hooks/useCurrentConfirmation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useCurrentConfirmation});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),selectors=__webpack_require__("./ui/selectors/index.js"),reselect=__webpack_require__("./node_modules/reselect/dist/reselect.mjs"),util=__webpack_require__("./shared/modules/selectors/util.js"),transactions=__webpack_require__("./ui/selectors/transactions.js");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}var selectUnapprovedMessages=(0,reselect.Mz)(transactions.cY,transactions.uJ,function(personalMsgs,typedMessages){return _object_spread({},personalMsgs,typedMessages)}),internalSelectUnapprovedMessage=(0,reselect.Mz)(selectUnapprovedMessages,function(_state,messageId){return messageId},function(messages,messageId){return messages[messageId]}),selectUnapprovedMessage=(0,util._)(internalSelectUnapprovedMessage,function(message){return message}),confirmation_utils=__webpack_require__("./shared/lib/confirmation.utils.ts");let hooks_useCurrentConfirmation=function(){var paramsConfirmationId=(0,react_router.g)().id,oldestPendingApproval=(0,es.d4)(selectors.dMC),confirmationId=null!=paramsConfirmationId?paramsConfirmationId:null==oldestPendingApproval?void 0:oldestPendingApproval.id,pendingApproval=(0,es.d4)(function(state){return(0,selectors.ll0)(state,confirmationId)}),transactionMetadata=(0,es.d4)(function(state){return(0,selectors.jJ$)(state,confirmationId)}),signatureMessage=(0,es.d4)(function(state){return selectUnapprovedMessage(state,confirmationId)}),useRedesignedForSignatures=(0,confirmation_utils.ml)({approvalType:null==pendingApproval?void 0:pendingApproval.type}),useRedesignedForTransaction=(0,confirmation_utils._I)({transactionMetadataType:null==transactionMetadata?void 0:transactionMetadata.type}),shouldUseRedesign=useRedesignedForSignatures||useRedesignedForTransaction;return(0,react.useMemo)(function(){var _ref;return shouldUseRedesign?{currentConfirmation:null!=(_ref=null!=transactionMetadata?transactionMetadata:signatureMessage)?_ref:void 0}:{currentConfirmation:void 0}},[transactionMetadata,signatureMessage,shouldUseRedesign])}},"./ui/pages/confirmations/utils/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VO:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.VO,WY:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.WY,ig:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.ig,m4:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.m4,q9:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.q9,rS:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.rS});var _confirm__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/pages/confirmations/utils/confirm.ts")},"./ui/pages/permissions-connect/permissions-connect.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChooseAccountComponent:()=>ChooseAccountComponent,PermissionPageContainerComponent:()=>PermissionPageContainerComponent,__namedExportsOrder:()=>__namedExportsOrder,default:()=>permissions_connect_stories});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),invokeSnap=__webpack_require__("./node_modules/@metamask/snaps-rpc-methods/dist/restricted/invokeSnap.mjs"),caveats=__webpack_require__("./node_modules/@metamask/snaps-utils/dist/caveats.mjs"),caip25Permission=__webpack_require__("./node_modules/@metamask/chain-agnostic-permission/dist/caip25Permission.mjs"),SubjectMetadataController=__webpack_require__("./node_modules/@metamask/permission-controller/dist/SubjectMetadataController.mjs"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),permissions_connect_footer=__webpack_require__("./ui/components/app/permissions-connect-footer/index.js"),constants_permissions=__webpack_require__("./shared/constants/permissions.ts"),snap_privacy_warning=__webpack_require__("./ui/components/app/snaps/snap-privacy-warning/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),caip_permission_operator_permittedChains=__webpack_require__("./node_modules/@metamask/chain-agnostic-permission/dist/operators/caip-permission-operator-permittedChains.mjs"),caip_permission_operator_accounts=__webpack_require__("./node_modules/@metamask/chain-agnostic-permission/dist/operators/caip-permission-operator-accounts.mjs");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getCaip25CaveatValueFromPermissions(permissions){var _permissions_Caip25EndowmentPermissionName_caveats_find,_permissions_Caip25EndowmentPermissionName_caveats,_permissions_Caip25EndowmentPermissionName,_permissions_Caip25EndowmentPermissionName_caveats_find_value;return null!=(_permissions_Caip25EndowmentPermissionName_caveats_find_value=null==permissions||null==(_permissions_Caip25EndowmentPermissionName=permissions[caip25Permission.em])||null==(_permissions_Caip25EndowmentPermissionName_caveats=_permissions_Caip25EndowmentPermissionName.caveats)||null==(_permissions_Caip25EndowmentPermissionName_caveats_find=_permissions_Caip25EndowmentPermissionName_caveats.find(function(caveat){return caveat.type===caip25Permission.DH}))?void 0:_permissions_Caip25EndowmentPermissionName_caveats_find.value)?_permissions_Caip25EndowmentPermissionName_caveats_find_value:{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}}function getCaip25PermissionsResponse(caip25CaveatValue,ethAccountAddresses,ethChainIds){var caveatValueWithChains=(0,caip_permission_operator_permittedChains.Ng)(caip25CaveatValue,ethChainIds),caveatValueWithAccounts=(0,caip_permission_operator_accounts.k0)(caveatValueWithChains,ethAccountAddresses);return _define_property({},caip25Permission.em,{caveats:[{type:caip25Permission.DH,value:caveatValueWithAccounts}]})}var TemplateAlertContext=__webpack_require__("./ui/pages/confirmations/confirmation/alerts/TemplateAlertContext.tsx"),keyring_api_dist=__webpack_require__("./node_modules/@metamask/keyring-api/dist/index.mjs"),containsEthPermissionsAndNonEvmAccount=function(accounts,permissions){var restrictedEthMethods=Object.keys(constants_permissions.ll),containsEthPermissions=Object.keys(permissions).some(function(permission){return restrictedEthMethods.includes(permission)}),containsNonEvmAccount=accounts.some(function(account){return!(0,keyring_api_dist.aw)(account.type)});return containsEthPermissions&&containsNonEvmAccount},useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),page_container=__webpack_require__("./ui/components/ui/page-container/index.js"),PermissionPageContainerFooter=function(param){var cancelText=param.cancelText,disabled=param.disabled,onCancel=param.onCancel,onSubmit=param.onSubmit,t=(0,useI18nContext.P)(),_useTemplateAlertContext=(0,TemplateAlertContext.Jp)(),hasAlerts=_useTemplateAlertContext.hasAlerts,showAlertsModal=_useTemplateAlertContext.showAlertsModal;return react.createElement(page_container.QY,{footerClassName:"permission-page-container-footer",cancelButtonType:"default",onCancel:onCancel,cancelText:cancelText,onSubmit:hasAlerts?showAlertsModal:onSubmit,submitText:t("confirm"),disabled:disabled,submitButtonIcon:hasAlerts?component_library.$M.Info:void 0})};try{PermissionPageContainerFooter.displayName="PermissionPageContainerFooter",PermissionPageContainerFooter.__docgenInfo={description:"",displayName:"PermissionPageContainerFooter",props:{cancelText:{defaultValue:null,description:"",name:"cancelText",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/permission-page-container/permission-page-container-footer.component.tsx#PermissionPageContainerFooter"]={docgenInfo:PermissionPageContainerFooter.__docgenInfo,name:"PermissionPageContainerFooter",path:"ui/components/app/permission-page-container/permission-page-container-footer.component.tsx#PermissionPageContainerFooter"})}catch(__react_docgen_typescript_loader_error){}function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _assert_this_initialized(self){if(void 0===self)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _call_super(_this,derived,args){return derived=_get_prototype_of(derived),_possible_constructor_return(_this,_is_native_reflect_construct()?Reflect.construct(derived,args||[],_get_prototype_of(_this).constructor):derived.apply(_this,args))}function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function permission_page_container_component_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _get_prototype_of(o){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_set_prototype_of(subClass,superClass)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){permission_page_container_component_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _possible_constructor_return(self,call){return call&&("object"===_type_of(call)||"function"==typeof call)?call:_assert_this_initialized(self)}function _set_prototype_of(o,p){return(_set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function _is_native_reflect_construct(){try{var result=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return(_is_native_reflect_construct=function(){return!!result})()}var PermissionPageContainer=function(Component){function PermissionPageContainer(){var _this;return _class_call_check(this,PermissionPageContainer),_this=_call_super(this,PermissionPageContainer,arguments),permission_page_container_component_define_property(_this,"state",{}),permission_page_container_component_define_property(_this,"onCancel",function(){var _this_props=_this.props,request=_this_props.request;(0,_this_props.rejectPermissionsRequest)(request.metadata.id)}),permission_page_container_component_define_property(_this,"onSubmit",function(){var _this_props=_this.props,_request=_this_props.request,approvePermissionsRequest=_this_props.approvePermissionsRequest,rejectPermissionsRequest=_this_props.rejectPermissionsRequest,selectedAccounts=_this_props.selectedAccounts,requestedChainIds=_this_props.requestedChainIds,approvedAccounts=selectedAccounts.map(function(selectedAccount){return selectedAccount.address}),requestedCaip25CaveatValue=getCaip25CaveatValueFromPermissions(_request.permissions),request=_object_spread_props(_object_spread({},_request),{permissions:_object_spread({},_request.permissions,getCaip25PermissionsResponse(requestedCaip25CaveatValue,approvedAccounts,requestedChainIds))});Object.keys(request.permissions).length>0?approvePermissionsRequest(request):rejectPermissionsRequest(request.metadata.id)}),permission_page_container_component_define_property(_this,"onLeftFooterClick",function(){void 0===_this.getRequestedPermissions()[caip25Permission.em]?_this.goBack():_this.onCancel()}),_this}return _inherits(PermissionPageContainer,Component),_create_class(PermissionPageContainer,[{key:"getRequestedPermissions",value:function getRequestedPermissions(){var _request_diff,_request_diff_permissionDiffMap,_ref,_this=this,request=this.props.request;return Object.entries(null!=(_ref=null!=(_request_diff_permissionDiffMap=null==request||null==(_request_diff=request.diff)?void 0:_request_diff.permissionDiffMap)?_request_diff_permissionDiffMap:request.permissions)?_ref:{}).reduce(function(acc,param){var _param=_sliced_to_array(param,2),permissionName=_param[0],permissionValue=_param[1];return permissionName===constants_permissions.wq.wallet_snap?acc[permissionName]=_this.getDedupedSnapPermissions():acc[permissionName]=permissionValue,acc},{})}},{key:"getDedupedSnapPermissions",value:function getDedupedSnapPermissions(){var _request_permissions,_this_props=this.props,request=_this_props.request,currentPermissions=_this_props.currentPermissions,snapKeys=(0,util.x2)(request,currentPermissions);return _object_spread_props(_object_spread({},(null==request||null==(_request_permissions=request.permissions)?void 0:_request_permissions[invokeSnap.x8])||{}),{caveats:[{type:caveats.R.SnapIds,value:snapKeys.reduce(function(caveatValue,snapId){return caveatValue[snapId]={},caveatValue},{})}]})}},{key:"showSnapsPrivacyWarning",value:function showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}},{key:"componentDidMount",value:function componentDidMount(){this.context.trackEvent({category:metametrics.FZ.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[invokeSnap.x8]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}},{key:"goBack",value:function goBack(){var _this_props=this.props,history=_this_props.history,connectPath=_this_props.connectPath;history.push(connectPath)}},{key:"render",value:function render(){var _request_metadata,_this=this,_this_props=this.props,request=_this_props.request,requestMetadata=_this_props.requestMetadata,targetSubjectMetadata=_this_props.targetSubjectMetadata,selectedAccounts=_this_props.selectedAccounts,allAccountsSelected=_this_props.allAccountsSelected,requestedChainIds=_this_props.requestedChainIds,requestedPermissions=this.getRequestedPermissions(),setIsShowingSnapsPrivacyWarning=function(value){_this.setState({isShowingSnapsPrivacyWarning:value})},confirmSnapsPrivacyWarning=function(){setIsShowingSnapsPrivacyWarning(!1),_this.props.setSnapsInstallPrivacyWarningShownStatus(!0)},footerLeftActionText=requestedPermissions[caip25Permission.em]?this.context.t("cancel"):this.context.t("back");return react.createElement(TemplateAlertContext.xd,{onSubmit:function(){return _this.onSubmit()},confirmationId:null==request||null==(_request_metadata=request.metadata)?void 0:_request_metadata.id},this.state.isShowingSnapsPrivacyWarning&&react.createElement(snap_privacy_warning.A,{onAccepted:function(){return confirmSnapsPrivacyWarning()},onCanceled:function(){return _this.onCancel()}}),react.createElement(PermissionPageContainerContent,{request:request,requestMetadata:requestMetadata,subjectMetadata:targetSubjectMetadata,selectedPermissions:requestedPermissions,requestedChainIds:requestedChainIds,selectedAccounts:selectedAccounts,allAccountsSelected:allAccountsSelected}),react.createElement(component_library.az,{display:design_system.nl.Flex,backgroundColor:design_system.i0.backgroundAlternative,flexDirection:design_system.bo.Column},(null==targetSubjectMetadata?void 0:targetSubjectMetadata.subjectType)!==SubjectMetadataController.P.Snap&&react.createElement(permissions_connect_footer.A,null),react.createElement(PermissionPageContainerFooter,{onCancel:function(){return _this.onLeftFooterClick()},cancelText:footerLeftActionText,onSubmit:function(){return _this.onSubmit()},disabled:containsEthPermissionsAndNonEvmAccount(selectedAccounts,requestedPermissions)})))}}]),PermissionPageContainer}(react.Component);permission_page_container_component_define_property(PermissionPageContainer,"propTypes",{approvePermissionsRequest:prop_types_default().func.isRequired,rejectPermissionsRequest:prop_types_default().func.isRequired,selectedAccounts:prop_types_default().array,requestedChainIds:prop_types_default().array,allAccountsSelected:prop_types_default().bool,currentPermissions:prop_types_default().object,snapsInstallPrivacyWarningShown:prop_types_default().bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:prop_types_default().func,request:prop_types_default().object,requestMetadata:prop_types_default().object,targetSubjectMetadata:prop_types_default().shape({name:prop_types_default().string,origin:prop_types_default().string.isRequired,subjectType:prop_types_default().string.isRequired,extensionId:prop_types_default().string,iconUrl:prop_types_default().string}),history:prop_types_default().object.isRequired,connectPath:prop_types_default().string.isRequired}),permission_page_container_component_define_property(PermissionPageContainer,"defaultProps",{request:{},requestMetadata:{},selectedAccounts:[],allAccountsSelected:!1,currentPermissions:{}}),permission_page_container_component_define_property(PermissionPageContainer,"contextTypes",{t:prop_types_default().func,trackEvent:prop_types_default().func}),PermissionPageContainer.__docgenInfo={description:"",methods:[{name:"getRequestedPermissions",docblock:null,modifiers:[],params:[],returns:null},{name:"getDedupedSnapPermissions",docblock:null,modifiers:[],params:[],returns:null},{name:"showSnapsPrivacyWarning",docblock:null,modifiers:[],params:[],returns:null},{name:"goBack",docblock:null,modifiers:[],params:[],returns:null},{name:"onCancel",docblock:null,modifiers:[],params:[],returns:null},{name:"onSubmit",docblock:null,modifiers:[],params:[],returns:null},{name:"onLeftFooterClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PermissionPageContainer",props:{request:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},requestMetadata:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},selectedAccounts:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},allAccountsSelected:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},currentPermissions:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},approvePermissionsRequest:{description:"",type:{name:"func"},required:!0},rejectPermissionsRequest:{description:"",type:{name:"func"},required:!0},requestedChainIds:{description:"",type:{name:"array"},required:!1},snapsInstallPrivacyWarningShown:{description:"",type:{name:"bool"},required:!0},setSnapsInstallPrivacyWarningShownStatus:{description:"",type:{name:"func"},required:!1},targetSubjectMetadata:{description:"",type:{name:"shape",value:{name:{name:"string",required:!1},origin:{name:"string",required:!0},subjectType:{name:"string",required:!0},extensionId:{name:"string",required:!1},iconUrl:{name:"string",required:!1}}},required:!1},history:{description:"",type:{name:"object"},required:!0},connectPath:{description:"",type:{name:"string"},required:!0}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}},(0,es.Ng)(function(state,ownProps){var _ownProps_request_metadata,selectedAccounts=ownProps.selectedAccounts,currentPermissions=(0,selectors.VE_)(state,null==(_ownProps_request_metadata=ownProps.request.metadata)?void 0:_ownProps_request_metadata.origin),allInternalAccounts=(0,selectors.atg)(state);return{allInternalAccountsSelected:Object.keys(selectedAccounts).length===Object.keys(allInternalAccounts).length&&selectedAccounts.length>1,currentPermissions:currentPermissions}})(PermissionPageContainer),PermissionPageContainer.__docgenInfo={description:"",methods:[{name:"getRequestedPermissions",docblock:null,modifiers:[],params:[],returns:null},{name:"getDedupedSnapPermissions",docblock:null,modifiers:[],params:[],returns:null},{name:"showSnapsPrivacyWarning",docblock:null,modifiers:[],params:[],returns:null},{name:"goBack",docblock:null,modifiers:[],params:[],returns:null},{name:"onCancel",docblock:null,modifiers:[],params:[],returns:null},{name:"onSubmit",docblock:null,modifiers:[],params:[],returns:null},{name:"onLeftFooterClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PermissionPageContainer",props:{request:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},requestMetadata:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},selectedAccounts:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},allAccountsSelected:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},currentPermissions:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},approvePermissionsRequest:{description:"",type:{name:"func"},required:!0},rejectPermissionsRequest:{description:"",type:{name:"func"},required:!0},requestedChainIds:{description:"",type:{name:"array"},required:!1},snapsInstallPrivacyWarningShown:{description:"",type:{name:"bool"},required:!0},setSnapsInstallPrivacyWarningShownStatus:{description:"",type:{name:"func"},required:!1},targetSubjectMetadata:{description:"",type:{name:"shape",value:{name:{name:"string",required:!1},origin:{name:"string",required:!0},subjectType:{name:"string",required:!0},extensionId:{name:"string",required:!1},iconUrl:{name:"string",required:!1}}},required:!1},history:{description:"",type:{name:"object"},required:!0},connectPath:{description:"",type:{name:"string"},required:!0}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}};var permissions_connect_permission_list=__webpack_require__("./ui/components/app/permissions-connect-permission-list/index.js");function permission_page_container_content_component_assert_this_initialized(self){if(void 0===self)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function permission_page_container_content_component_call_super(_this,derived,args){return derived=permission_page_container_content_component_get_prototype_of(derived),permission_page_container_content_component_possible_constructor_return(_this,permission_page_container_content_component_is_native_reflect_construct()?Reflect.construct(derived,args||[],permission_page_container_content_component_get_prototype_of(_this).constructor):derived.apply(_this,args))}function permission_page_container_content_component_class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError("Cannot call a class as a function")}function permission_page_container_content_component_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function permission_page_container_content_component_create_class(Constructor,protoProps,staticProps){return protoProps&&permission_page_container_content_component_defineProperties(Constructor.prototype,protoProps),staticProps&&permission_page_container_content_component_defineProperties(Constructor,staticProps),Constructor}function permission_page_container_content_component_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function permission_page_container_content_component_get_prototype_of(o){return(permission_page_container_content_component_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function permission_page_container_content_component_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&permission_page_container_content_component_set_prototype_of(subClass,superClass)}function permission_page_container_content_component_possible_constructor_return(self,call){return call&&("object"===permission_page_container_content_component_type_of(call)||"function"==typeof call)?call:permission_page_container_content_component_assert_this_initialized(self)}function permission_page_container_content_component_set_prototype_of(o,p){return(permission_page_container_content_component_set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function permission_page_container_content_component_type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function permission_page_container_content_component_is_native_reflect_construct(){try{var result=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return(permission_page_container_content_component_is_native_reflect_construct=function(){return!!result})()}var PermissionPageContainerContent=function(PureComponent){function PermissionPageContainerContent(){return permission_page_container_content_component_class_call_check(this,PermissionPageContainerContent),permission_page_container_content_component_call_super(this,PermissionPageContainerContent,arguments)}return permission_page_container_content_component_inherits(PermissionPageContainerContent,PureComponent),permission_page_container_content_component_create_class(PermissionPageContainerContent,[{key:"render",value:function render(){var _request_diff,_permissionDiffMap_Caip25EndowmentPermissionName,_request_diff1,_permissionDiffMap_Caip25EndowmentPermissionName_Caip25CaveatType,t=this.context.t,_this_props=this.props,selectedPermissions=_this_props.selectedPermissions,selectedAccounts=_this_props.selectedAccounts,subjectMetadata=_this_props.subjectMetadata,requestedChainIds=_this_props.requestedChainIds,request=_this_props.request,accounts=selectedAccounts.reduce(function(accumulator,account){return accumulator.push({avatarValue:account.address,avatarName:account.label}),accumulator},[]),origin=subjectMetadata.origin,displayOrigin=subjectMetadata.subjectType===SubjectMetadataController.P.Website?(0,util.US)(origin):origin,permissionDiffMap=null==(_request_diff=request.diff)?void 0:_request_diff.permissionDiffMap,permissionDiffRequestedChainIds=(0,caip_permission_operator_permittedChains.d_)(null!=(_permissionDiffMap_Caip25EndowmentPermissionName_Caip25CaveatType=null==permissionDiffMap||null==(_permissionDiffMap_Caip25EndowmentPermissionName=permissionDiffMap[caip25Permission.em])?void 0:_permissionDiffMap_Caip25EndowmentPermissionName[caip25Permission.DH])?_permissionDiffMap_Caip25EndowmentPermissionName_Caip25CaveatType:{requiredScopes:{},optionalScopes:{}});return react.createElement(component_library.az,{className:"permission-page-container-content",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,justifyContent:design_system.A9.flexStart,alignItems:design_system.k2.center,height:design_system.Zf.Full,paddingLeft:4,paddingRight:4,backgroundColor:design_system.i0.backgroundDefault},react.createElement(component_library.az,{display:design_system.nl.Flex,flexDirection:design_system.bo.Column,justifyContent:design_system.A9.center,alignItems:design_system.k2.center,paddingTop:4,paddingBottom:4},react.createElement(component_library.EY,{variant:design_system.J3.headingMd,textAlign:design_system.nO.Center},t("reviewPermissions")),react.createElement(component_library.EY,{variant:design_system.J3.bodyMd,textAlign:design_system.nO.Center},t("nativeNetworkPermissionRequestDescription",[react.createElement(component_library.EY,{as:"span",key:"description_key_".concat(displayOrigin),fontWeight:design_system.IT.Medium},displayOrigin)]))),react.createElement(component_library.az,{display:design_system.nl.Flex,backgroundColor:design_system.i0.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:design_system.Z6.XL},react.createElement(permissions_connect_permission_list.A,{isRequestApprovalPermittedChains:!!(null==(_request_diff1=request.diff)?void 0:_request_diff1.permissionDiffMap),permissions:selectedPermissions,subjectName:subjectMetadata.origin,accounts:accounts,requestedChainIds:permissionDiffRequestedChainIds.length>0?permissionDiffRequestedChainIds:requestedChainIds})))}}]),PermissionPageContainerContent}(react.PureComponent);permission_page_container_content_component_define_property(PermissionPageContainerContent,"propTypes",{request:prop_types_default().object,subjectMetadata:prop_types_default().shape({name:prop_types_default().string.isRequired,origin:prop_types_default().string.isRequired,subjectType:prop_types_default().string.isRequired,extensionId:prop_types_default().string,iconUrl:prop_types_default().string}),selectedPermissions:prop_types_default().object.isRequired,selectedAccounts:prop_types_default().array,requestedChainIds:prop_types_default().array}),permission_page_container_content_component_define_property(PermissionPageContainerContent,"defaultProps",{request:{},selectedAccounts:[],requestedChainIds:[]}),permission_page_container_content_component_define_property(PermissionPageContainerContent,"contextTypes",{t:prop_types_default().func}),PermissionPageContainerContent.__docgenInfo={description:"",methods:[],displayName:"PermissionPageContainerContent",props:{request:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},selectedAccounts:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},requestedChainIds:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},subjectMetadata:{description:"",type:{name:"shape",value:{name:{name:"string",required:!0},origin:{name:"string",required:!0},subjectType:{name:"string",required:!0},extensionId:{name:"string",required:!1},iconUrl:{name:"string",required:!1}}},required:!1},selectedPermissions:{description:"",type:{name:"object"},required:!0}},context:{t:{type:{name:"func"},required:!1}}};var mocks=__webpack_require__("./test/jest/mocks.ts"),account_list=__webpack_require__("./ui/components/ui/account-list/index.js");function choose_account_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function choose_account_array_with_holes(arr){if(Array.isArray(arr))return arr}function choose_account_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function choose_account_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function choose_account_sliced_to_array(arr,i){return choose_account_array_with_holes(arr)||choose_account_iterable_to_array_limit(arr,i)||choose_account_unsupported_iterable_to_array(arr,i)||choose_account_non_iterable_rest()}function choose_account_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return choose_account_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return choose_account_array_like_to_array(o,minLen)}}var ChooseAccount=function(param){var selectedAccountAddresses=param.selectedAccountAddresses,_param_addressLastConnectedMap=param.addressLastConnectedMap,accounts=param.accounts,selectAccounts=param.selectAccounts,selectNewAccountViaModal=param.selectNewAccountViaModal,cancelPermissionsRequest=param.cancelPermissionsRequest,permissionsRequestId=param.permissionsRequestId,targetSubjectMetadata=param.targetSubjectMetadata,nativeCurrency=param.nativeCurrency,_useState=choose_account_sliced_to_array((0,react.useState)(selectedAccountAddresses),2),selectedAccounts=_useState[0],setSelectedAccounts=_useState[1],evmAccounts=accounts.filter(function(account){return(0,keyring_api_dist.aw)(account.type)}),t=(0,useI18nContext.P)(),hasNonEvmAccounts=Object.keys(selectedAccountAddresses).length>evmAccounts.length,headerText=t(0===accounts.length?"connectAccountOrCreate":(null==targetSubjectMetadata?void 0:targetSubjectMetadata.subjectType)===SubjectMetadataController.P.Snap?"selectAccountsForSnap":"selectAccounts");return react.createElement(react.Fragment,null,react.createElement(component_library.az,{className:"permissions-connect-choose-account__content",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,backgroundColor:design_system.i0.backgroundAlternative,width:design_system.Zf.Full,height:design_system.Zf.Full,paddingLeft:6,paddingRight:6},react.createElement(component_library.az,{display:design_system.nl.Flex,flexDirection:design_system.bo.Column,justifyContent:design_system.A9.center,alignItems:design_system.k2.center,paddingTop:4,paddingBottom:4},react.createElement(component_library.EY,{variant:design_system.J3.headingMd},t("connectWithMetaMask")),react.createElement(component_library.EY,{variant:design_system.J3.bodyMd},headerText)),react.createElement(account_list.A,{accounts:accounts,selectNewAccountViaModal:selectNewAccountViaModal,addressLastConnectedMap:void 0===_param_addressLastConnectedMap?{}:_param_addressLastConnectedMap,nativeCurrency:nativeCurrency,selectedAccounts:selectedAccounts,allAreSelected:function(){return evmAccounts.length===selectedAccounts.size},deselectAll:function(){setSelectedAccounts(new Set)},selectAll:function(){setSelectedAccounts(new Set(evmAccounts.map(function(account){return account.address})))},handleAccountClick:function(address){var newSelectedAccounts=new Set(selectedAccounts);newSelectedAccounts.has(address)?newSelectedAccounts.delete(address):newSelectedAccounts.add(address),setSelectedAccounts(newSelectedAccounts)}})),react.createElement(component_library.az,{backgroundColor:design_system.i0.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},(null==targetSubjectMetadata?void 0:targetSubjectMetadata.subjectType)!==SubjectMetadataController.P.Snap&&react.createElement(permissions_connect_footer.A,null),react.createElement(page_container.QY,{cancelButtonType:"default",onCancel:function(){return cancelPermissionsRequest(permissionsRequestId)},cancelText:t("cancel"),onSubmit:function(){return selectAccounts(selectedAccounts)},submitText:t("next"),disabled:hasNonEvmAccounts||0===selectedAccounts.size})))};function permissions_connect_stories_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function permissions_connect_stories_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){permissions_connect_stories_define_property(target,key,source[key])})}return target}function permissions_connect_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function permissions_connect_stories_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):permissions_connect_stories_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}ChooseAccount.propTypes={accounts:prop_types_default().arrayOf(prop_types_default().shape({address:prop_types_default().string,addressLabel:prop_types_default().string,lastConnectedDate:prop_types_default().string,balance:prop_types_default().string})).isRequired,selectAccounts:prop_types_default().func.isRequired,selectNewAccountViaModal:prop_types_default().func.isRequired,nativeCurrency:prop_types_default().string.isRequired,addressLastConnectedMap:prop_types_default().object,cancelPermissionsRequest:prop_types_default().func.isRequired,permissionsRequestId:prop_types_default().string.isRequired,selectedAccountAddresses:prop_types_default().object.isRequired,targetSubjectMetadata:prop_types_default().shape({extensionId:prop_types_default().string,iconUrl:prop_types_default().string,name:prop_types_default().string,origin:prop_types_default().string.isRequired,subjectType:prop_types_default().string})},ChooseAccount.__docgenInfo={description:"",methods:[],displayName:"ChooseAccount",props:{addressLastConnectedMap:{defaultValue:{value:"{}",computed:!1},description:"A map of the last connected addresses",type:{name:"object"},required:!1},accounts:{description:"Array of user account objects",type:{name:"arrayOf",value:{name:"shape",value:{address:{name:"string",required:!1},addressLabel:{name:"string",required:!1},lastConnectedDate:{name:"string",required:!1},balance:{name:"string",required:!1}}}},required:!0},selectAccounts:{description:"Function to select an account",type:{name:"func"},required:!0},selectNewAccountViaModal:{description:"Function to select a new account via modal",type:{name:"func"},required:!0},nativeCurrency:{description:"Native currency of current chain",type:{name:"string"},required:!0},cancelPermissionsRequest:{description:"Function to cancel permission request",type:{name:"func"},required:!0},permissionsRequestId:{description:"Permission request Id",type:{name:"string"},required:!0},selectedAccountAddresses:{description:"Currently selected account addresses",type:{name:"object"},required:!0},targetSubjectMetadata:{description:"Domain data used to display site-origin pill",type:{name:"shape",value:{extensionId:{name:"string",required:!1},iconUrl:{name:"string",required:!1},name:{name:"string",required:!1},origin:{name:"string",required:!0},subjectType:{name:"string",required:!1}}},required:!1}}};var account1=permissions_connect_stories_object_spread_props(permissions_connect_stories_object_spread({},(0,mocks.H5)({address:"0xcb47e5e29f925e7482d1712297fb6b268f412344",name:"Account 1"})),{addressLabel:"Account 1 (...2344)",balance:"0x176e5b6f173ebe66",label:"Account 1"}),account2=permissions_connect_stories_object_spread_props(permissions_connect_stories_object_spread({},(0,mocks.H5)({address:"0xf68a4b64162906eff0ff6ae34e2bb1cd42fef62d",name:"Account 2"})),{addressLabel:"Account 2 (...f62d)",balance:"0x176e5b6f173e",label:"Account 2"}),account3=permissions_connect_stories_object_spread_props(permissions_connect_stories_object_spread({},(0,mocks.H5)({address:"0xbe0eb53f46cd790cd13851d5eff43d12404d33e8",name:"Account 3"})),{addressLabel:"Account 3 (...33e8)",balance:"0x176e5b6f173ebe",label:"Account 3"});let permissions_connect_stories={title:"Pages/PermissionsConnect"};var ChooseAccountComponent=function(){return react.createElement(ChooseAccount,{selectAccounts:(0,dist.XI)("Account(s) Selected"),selectedAccountAddresses:new Set(["0xcb47e5e29f925e7482d1712297fb6b268f412344","0xf68a4b64162906eff0ff6ae34e2bb1cd42fef62d","0xbe0eb53f46cd790cd13851d5eff43d12404d33e8"]),targetSubjectMetadata:{iconUrl:"./gnosis.svg",name:"Gnosis - Manage Digital Assets",origin:"https://gnosis-safe.io"},accounts:[account1,account2,account3]})},PermissionPageContainerComponent=function(){return react.createElement("div",{className:"page-container permission-approval-container"},react.createElement(PermissionPageContainerContent,{subjectMetadata:{extensionId:"1",iconUrl:"./gnosis.svg",name:"Gnosis - Manage Digital Assets",origin:"https://gnosis-safe.io"},selectedPermissions:{eth_accounts:!0}}),react.createElement(component_library.az,{className:"permission-approval-container__footers",backgroundColor:design_system.i0.backgroundAlternative},react.createElement(permissions_connect_footer.A,null),react.createElement(page_container.QY,{cancelButtonType:"default",onSubmit:(0,dist.XI)("Account(s) Connected"),submitText:"connect"})))};ChooseAccountComponent.parameters={...ChooseAccountComponent.parameters,docs:{...ChooseAccountComponent.parameters?.docs,source:{originalSource:`() => {
  return <ChooseAccount selectAccounts={action('Account(s) Selected')} selectedAccountAddresses={new Set(['0xcb47e5e29f925e7482d1712297fb6b268f412344', '0xf68a4b64162906eff0ff6ae34e2bb1cd42fef62d', '0xbe0eb53f46cd790cd13851d5eff43d12404d33e8'])} targetSubjectMetadata={{
    iconUrl: './gnosis.svg',
    name: 'Gnosis - Manage Digital Assets',
    origin: 'https://gnosis-safe.io'
  }} accounts={[account1, account2, account3]} />;
}`,...ChooseAccountComponent.parameters?.docs?.source}}},PermissionPageContainerComponent.parameters={...PermissionPageContainerComponent.parameters,docs:{...PermissionPageContainerComponent.parameters?.docs,source:{originalSource:`() => {
  return <div className="page-container permission-approval-container">
      <PermissionPageContainerContent subjectMetadata={{
      extensionId: '1',
      iconUrl: './gnosis.svg',
      name: 'Gnosis - Manage Digital Assets',
      origin: 'https://gnosis-safe.io'
    }} selectedPermissions={{
      eth_accounts: true
    }} />
      <Box className="permission-approval-container__footers" backgroundColor={BackgroundColor.backgroundAlternative}>
        <PermissionsConnectFooter />
        <PageContainerFooter cancelButtonType="default" onSubmit={action('Account(s) Connected')} submitText="connect" />
      </Box>
    </div>;
}`,...PermissionPageContainerComponent.parameters?.docs?.source}}};let __namedExportsOrder=["ChooseAccountComponent","PermissionPageContainerComponent"]}}]);
//# sourceMappingURL=pages-permissions-connect-permissions-connect-stories.9725360e.iframe.bundle.js.map