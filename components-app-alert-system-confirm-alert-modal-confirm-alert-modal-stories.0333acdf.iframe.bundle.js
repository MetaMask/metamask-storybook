"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[44278,82078],{"./shared/constants/security-provider.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K$:()=>SECURITY_PROVIDER_UTM_SOURCE,NE:()=>FALSE_POSITIVE_REPORT_BASE_URL,O5:()=>SecurityProvider,W4:()=>BlockaidReason,ob:()=>SECURITY_PROVIDER_CONFIG,p0:()=>BlockaidResultType});var _metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SecurityProvider=function(SecurityProvider){return SecurityProvider.Blockaid="blockaid",SecurityProvider}({}),SECURITY_PROVIDER_CONFIG=_define_property({},"blockaid",{tKeyName:"blockaid",url:"https://blockaid.io/"}),BlockaidReason=function(BlockaidReason){return BlockaidReason.approvalFarming="approval_farming",BlockaidReason.blurFarming="blur_farming",BlockaidReason.maliciousDomain="malicious_domain",BlockaidReason.permitFarming="permit_farming",BlockaidReason.rawNativeTokenTransfer="raw_native_token_transfer",BlockaidReason.rawSignatureFarming="raw_signature_farming",BlockaidReason.seaportFarming="seaport_farming",BlockaidReason.setApprovalForAll="set_approval_for_all",BlockaidReason.tradeOrderFarming="trade_order_farming",BlockaidReason.transferFarming="transfer_farming",BlockaidReason.transferFromFarming="transfer_from_farming",BlockaidReason.other="other",BlockaidReason.errored="Error",BlockaidReason.notApplicable="NotApplicable",BlockaidReason.inProgress="validation_in_progress",BlockaidReason}({}),BlockaidResultType=function(BlockaidResultType){return BlockaidResultType.Malicious="Malicious",BlockaidResultType.Warning="Warning",BlockaidResultType.Benign="Benign",BlockaidResultType.Errored="Error",BlockaidResultType.NotApplicable="NotApplicable",BlockaidResultType.Loading="loading",BlockaidResultType}({}),FALSE_POSITIVE_REPORT_BASE_URL="https://blockaid-false-positive-portal.metamask.io",SECURITY_PROVIDER_UTM_SOURCE="metamask-ppom";_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swap,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swapApproval,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swapAndSend,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.bridgeApproval,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.bridge},"./shared/lib/confirmation.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_I:()=>shouldUseRedesignForTransactions,ml:()=>shouldUseRedesignForSignatures,nO:()=>isCorrectDeveloperTransactionType});var _metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs"),_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/controller-utils/dist/constants.mjs");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var REDESIGN_SIGNATURE_APPROVAL_TYPES=[_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__.s.EthSignTypedData,_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_0__.s.PersonalSign],REDESIGN_USER_TRANSACTION_TYPES=[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.batch,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.contractInteraction,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.deployContract,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.revokeDelegation,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodApprove,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodIncreaseAllowance,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodSetApprovalForAll,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodTransfer,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodTransferFrom,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.tokenMethodSafeTransferFrom,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_1__.D_.simpleSend],REDESIGN_DEV_TRANSACTION_TYPES=_to_consumable_array(REDESIGN_USER_TRANSACTION_TYPES);function shouldUseRedesignForTransactions(param){var transactionMetadataType=param.transactionMetadataType;return shouldUseRedesignForTransactionsUserMode(transactionMetadataType)||shouldUseRedesignForTransactionsDeveloperMode(transactionMetadataType)}function shouldUseRedesignForSignatures(param){return isCorrectSignatureApprovalType(param.approvalType)}function isCorrectSignatureApprovalType(approvalType){return!!approvalType&&REDESIGN_SIGNATURE_APPROVAL_TYPES.includes(approvalType)}function isCorrectDeveloperTransactionType(transactionMetadataType){return!!transactionMetadataType&&REDESIGN_DEV_TRANSACTION_TYPES.includes(transactionMetadataType)}function isCorrectUserTransactionType(transactionMetadataType){return!!transactionMetadataType&&REDESIGN_USER_TRANSACTION_TYPES.includes(transactionMetadataType)}function shouldUseRedesignForTransactionsDeveloperMode(transactionMetadataType){return isCorrectDeveloperTransactionType(transactionMetadataType)}function shouldUseRedesignForTransactionsUserMode(transactionMetadataType){return isCorrectUserTransactionType(transactionMetadataType)}},"./ui/components/app/alert-system/alert-modal/alert-modal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,baseAlertsMock:()=>baseAlertsMock,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_alert_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/app/alert-system/alert-modal/alert-modal.tsx"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_store_store__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/store/store.ts"),react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-redux/es/index.js"),_storybook_client_api__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("@storybook/client-api"),_component_library__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/component-library/index.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var baseAlertsMock=[{key:"From",field:"From",severity:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger,message:"Description of what may happen if this alert was ignored",reason:"Reason for the alert 1",alertDetails:["We found the contract Petname 0xEqT3b9773b1763efa556f55ccbeb20441962d82x to be malicious","Operator is an externally owned account (EOA) ","Operator is untrusted according to previous activity"]},{key:"Data",field:"Data",severity:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Warning,message:"Alert 2",alertDetails:["detail 1 warning","detail 2 warning"],actions:[{key:"go-to-gas-modal",label:"Update gas option"}]},{key:"Contract",field:"Contract",severity:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Info,message:"Alert Info",alertDetails:["detail 1 info","detail  info"]}],storeMock=(0,_store_store__WEBPACK_IMPORTED_MODULE_3__.A)({confirmAlerts:{alerts:_define_property({},"123",baseAlertsMock),confirmed:_define_property({},"123",{From:!1,Data:!1,Contract:!1})}});let __WEBPACK_DEFAULT_EXPORT__={title:"Confirmations/Components/Alerts/AlertModal",component:_alert_modal__WEBPACK_IMPORTED_MODULE_1__.W,argTypes:{ownerId:{control:"text",description:"The unique identifier of the entity that owns the alert."},onAcknowledgeClick:{action:"onClick",description:"The handler for the alert modal."},onClose:{action:"onClick",description:"The function to be executed when the modal needs to be closed."},alertKey:{control:"text",description:"The unique key representing the specific alert field ."}},args:{onAcknowledgeClick:function(){},ownerId:"123"},decorators:[function(story){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_4__.Kq,{store:storeMock},story())}],excludeStories:["baseAlertsMock"]};var DefaultStory=function(args){var _useArgs=_sliced_to_array((0,_storybook_client_api__WEBPACK_IMPORTED_MODULE_5__.useArgs)(),2),isOpen=_useArgs[0].isOpen,updateArgs=_useArgs[1],handleOnClose=function(){updateArgs({isOpen:!1})};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,null,isOpen&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_alert_modal__WEBPACK_IMPORTED_MODULE_1__.W,_object_spread_props(_object_spread({},args),{alertKey:"From",onClose:handleOnClose,onAcknowledgeClick:handleOnClose})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.$n,{onClick:function(){updateArgs({isOpen:!0})},danger:!0},"Open alert modal"))};DefaultStory.storyName="Critical Alert",DefaultStory.parameters={...DefaultStory.parameters,docs:{...DefaultStory.parameters?.docs,source:{originalSource:`args => {
  const [{
    isOpen
  }, updateArgs] = useArgs();
  const handleOnClick = () => {
    updateArgs({
      isOpen: true
    });
  };
  const handleOnClose = () => {
    updateArgs({
      isOpen: false
    });
  };
  return <Box>
      {isOpen && <AlertModal {...args} alertKey={'From'} onClose={handleOnClose} onAcknowledgeClick={handleOnClose} />}
      <Button onClick={handleOnClick} danger={true}>Open alert modal</Button>
    </Box>;
}`,...DefaultStory.parameters?.docs?.source}}};let __namedExportsOrder=["baseAlertsMock","DefaultStory"]},"./ui/components/app/alert-system/alert-modal/alert-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>AcknowledgeCheckboxBase,W:()=>AlertModal1});var _metamask_snaps_sdk__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@metamask/snaps-sdk/dist/ui/components/button.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./shared/constants/security-provider.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/hooks/useAlerts.ts"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useI18nContext.js"),_pages_confirmations_context_confirm__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/pages/confirmations/context/confirm/index.tsx"),_component_library__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/component-library/index.ts"),_contexts_alertActionHandler__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/app/alert-system/contexts/alertActionHandler.tsx"),_contexts_alertMetricsContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/components/app/alert-system/contexts/alertMetricsContext.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function getSeverityStyle(severity){switch(severity){case _helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Warning:return{background:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.warningMuted,icon:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.warningDefault};case _helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger:return{background:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.errorMuted,icon:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.errorDefault};default:return{background:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.backgroundDefault,icon:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.infoDefault}}}function AlertHeader(param){var _ref,selectedAlert=param.selectedAlert,customTitle=param.customTitle,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),severity=selectedAlert.severity,reason=selectedAlert.reason,severityStyle=getSeverityStyle(severity);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{gap:3,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Block,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.k2.center,textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nO.Center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.In,{name:severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Info?_component_library__WEBPACK_IMPORTED_MODULE_6__.$M.Info:_component_library__WEBPACK_IMPORTED_MODULE_6__.$M.Danger,size:_component_library__WEBPACK_IMPORTED_MODULE_6__.lK.Xl,color:severityStyle.icon}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.headingSm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.r7.inherit,marginTop:3,marginBottom:4},null!=(_ref=null!=customTitle?customTitle:reason)?_ref:t("alert")))}function BlockaidAlertDetails(){var copy,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),securityAlertResponse=(0,_pages_confirmations_context_confirm__WEBPACK_IMPORTED_MODULE_5__.TW)().currentConfirmation.securityAlertResponse;switch(null==securityAlertResponse?void 0:securityAlertResponse.reason){case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.approvalFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.setApprovalForAll:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.permitFarming:copy=t("blockaidAlertDescriptionWithdraw");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.transferFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.transferFromFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.rawNativeTokenTransfer:copy=t("blockaidAlertDescriptionTokenTransfer");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.seaportFarming:copy=t("blockaidAlertDescriptionOpenSea");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.blurFarming:copy=t("blockaidAlertDescriptionBlur");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.maliciousDomain:copy=t("blockaidAlertDescriptionMalicious");break;case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.rawSignatureFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.tradeOrderFarming:case _shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.W4.other:default:copy=t("blockaidAlertDescriptionOthers")}return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nO.Center,variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMd},copy)}function AlertDetails(param){var _selectedAlert_alertDetails,_selectedAlert_alertDetails1,selectedAlert=param.selectedAlert,customDetails=param.customDetails,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),severityStyle=getSeverityStyle(selectedAlert.severity);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{key:selectedAlert.key,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.InlineBlock,padding:2*!customDetails,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full,backgroundColor:customDetails?void 0:severityStyle.background,borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Z6.SM},null!=customDetails?customDetails:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,null,!!selectedAlert.content&&selectedAlert.content,!!selectedAlert.message&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMd,"data-testid":"alert-modal__selected-alert"},selectedAlert.message),(null==(_selectedAlert_alertDetails=selectedAlert.alertDetails)?void 0:_selectedAlert_alertDetails.length)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMdBold,marginTop:1},t("alertModalDetails")):null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{as:"ul",className:"alert-modal__alert-details",paddingLeft:6},null==(_selectedAlert_alertDetails1=selectedAlert.alertDetails)?void 0:_selectedAlert_alertDetails1.map(function(detail,index){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{as:"li",key:"".concat(selectedAlert.key,"-detail-").concat(index)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMd},detail))}))))}function AcknowledgeCheckboxBase(param){var selectedAlert=param.selectedAlert,onCheckboxClick=param.onCheckboxClick,isConfirmed=param.isConfirmed,label=param.label;if(selectedAlert.isBlocking||selectedAlert.severity!==_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger)return null;var t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),severityStyle=getSeverityStyle(selectedAlert.severity);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Flex,padding:4,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full,backgroundColor:severityStyle.background,borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Z6.LG,marginTop:4},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.Sc,{label:null!=label?label:t("alertModalAcknowledge"),"data-testid":"alert-modal-acknowledge-checkbox",isChecked:isConfirmed,onChange:onCheckboxClick,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.k2.flexStart,className:"alert-modal__acknowledge-checkbox"}))}function AcknowledgeButton(param){var onAcknowledgeClick=param.onAcknowledgeClick,isConfirmed=param.isConfirmed,hasActions=param.hasActions,isBlocking=param.isBlocking,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.$n,{variant:hasActions?_metamask_snaps_sdk__WEBPACK_IMPORTED_MODULE_9__.Ak.Secondary:_metamask_snaps_sdk__WEBPACK_IMPORTED_MODULE_9__.Ak.Primary,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full,onClick:onAcknowledgeClick,size:_component_library__WEBPACK_IMPORTED_MODULE_6__.Mp.Lg,"data-testid":"alert-modal-button",disabled:!isBlocking&&!isConfirmed},t("gotIt"))}function ActionButton(param){var action=param.action,onClose=param.onClose,alertKey=param.alertKey,processAction=(0,_contexts_alertActionHandler__WEBPACK_IMPORTED_MODULE_7__.Qh)().processAction,trackAlertActionClicked=(0,_contexts_alertMetricsContext__WEBPACK_IMPORTED_MODULE_8__.r)().trackAlertActionClicked,handleClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){action&&(trackAlertActionClicked(alertKey),processAction(action.key),onClose({recursive:!0}))},[action,onClose,processAction,trackAlertActionClicked,alertKey]);if(!action)return null;var key=action.key,label=action.label,dataTestId="alert-modal-action-".concat(key);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.$n,{"data-testid":dataTestId,key:key,variant:_metamask_snaps_sdk__WEBPACK_IMPORTED_MODULE_9__.Ak.Primary,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full,size:_component_library__WEBPACK_IMPORTED_MODULE_6__.Mp.Lg,onClick:handleClick},label)}function AlertModal1(param){var _selectedAlert_actions,ownerId=param.ownerId,onAcknowledgeClick=param.onAcknowledgeClick,alertKey=param.alertKey,onClose=param.onClose,headerStartAccessory=param.headerStartAccessory,customTitle=param.customTitle,customDetails=param.customDetails,customAcknowledgeCheckbox=param.customAcknowledgeCheckbox,customAcknowledgeButton=param.customAcknowledgeButton,_param_showCloseIcon=param.showCloseIcon,showCloseIcon=void 0===_param_showCloseIcon||_param_showCloseIcon,_useAlerts=(0,_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_3__.A)(ownerId),isAlertConfirmed=_useAlerts.isAlertConfirmed,setAlertConfirmed=_useAlerts.setAlertConfirmed,alerts=_useAlerts.alerts,trackAlertRender=(0,_contexts_alertMetricsContext__WEBPACK_IMPORTED_MODULE_8__.r)().trackAlertRender,handleClose=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];onClose.apply(void 0,_to_consumable_array(args))},[onClose]),selectedAlert=alerts.find(function(alert){return alert.key===alertKey});(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){selectedAlert&&trackAlertRender(selectedAlert.key)},[selectedAlert,trackAlertRender]);var isConfirmed=!!selectedAlert&&isAlertConfirmed(selectedAlert.key),isAlertDanger=!!selectedAlert&&selectedAlert.severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger,handleCheckboxClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){selectedAlert&&setAlertConfirmed(selectedAlert.key,!isConfirmed)},[isConfirmed,selectedAlert,setAlertConfirmed]);return selectedAlert?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.aF,{isOpen:!0,onClose:handleClose,"data-testid":"alert-modal"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.mH,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.$m,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.rQ,{onClose:showCloseIcon?handleClose:void 0,startAccessory:headerStartAccessory,paddingBottom:0,display:headerStartAccessory?_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.InlineFlex:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Block,closeButtonProps:{"data-testid":"alert-modal-close-button"},endAccessory:showCloseIcon?void 0:null}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(AlertHeader,{selectedAlert:selectedAlert,customTitle:customTitle}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.cw,null,selectedAlert.provider===_shared_constants_security_provider__WEBPACK_IMPORTED_MODULE_1__.O5.Blockaid?react__WEBPACK_IMPORTED_MODULE_0__.createElement(BlockaidAlertDetails,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(AlertDetails,{selectedAlert:selectedAlert,customDetails:customDetails}),null!=customAcknowledgeCheckbox?customAcknowledgeCheckbox:react__WEBPACK_IMPORTED_MODULE_0__.createElement(AcknowledgeCheckboxBase,{selectedAlert:selectedAlert,isConfirmed:isConfirmed,onCheckboxClick:handleCheckboxClick})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.jl,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_6__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.bo.Column,gap:4,paddingTop:2,width:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Zf.Full},null!=customAcknowledgeButton?customAcknowledgeButton:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(AcknowledgeButton,{onAcknowledgeClick:onAcknowledgeClick,isConfirmed:!isAlertDanger||isConfirmed,hasActions:!!selectedAlert.actions,isBlocking:selectedAlert.isBlocking}),(null!=(_selectedAlert_actions=selectedAlert.actions)?_selectedAlert_actions:[]).map(function(action){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{key:action.key,action:action,onClose:handleClose,alertKey:selectedAlert.key})})))))):null}try{AcknowledgeCheckboxBase.displayName="AcknowledgeCheckboxBase",AcknowledgeCheckboxBase.__docgenInfo={description:"",displayName:"AcknowledgeCheckboxBase",props:{selectedAlert:{defaultValue:null,description:"",name:"selectedAlert",required:!0,type:{name:"Alert"}},onCheckboxClick:{defaultValue:null,description:"",name:"onCheckboxClick",required:!0,type:{name:"() => void"}},isConfirmed:{defaultValue:null,description:"",name:"isConfirmed",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/alert-modal/alert-modal.tsx#AcknowledgeCheckboxBase"]={docgenInfo:AcknowledgeCheckboxBase.__docgenInfo,name:"AcknowledgeCheckboxBase",path:"ui/components/app/alert-system/alert-modal/alert-modal.tsx#AcknowledgeCheckboxBase"})}catch(__react_docgen_typescript_loader_error){}try{AlertModal1.displayName="AlertModal",AlertModal1.__docgenInfo={description:"",displayName:"AlertModal",props:{alertKey:{defaultValue:null,description:"The unique key representing the specific alert field.",name:"alertKey",required:!0,type:{name:"string"}},customAcknowledgeButton:{defaultValue:null,description:"The custom button component for acknowledging the alert.",name:"customAcknowledgeButton",required:!1,type:{name:"ReactNode"}},customAcknowledgeCheckbox:{defaultValue:null,description:"The custom checkbox component for acknowledging the alert.",name:"customAcknowledgeCheckbox",required:!1,type:{name:"ReactNode"}},customDetails:{defaultValue:null,description:"The custom details component for the alert.",name:"customDetails",required:!1,type:{name:"ReactNode"}},customTitle:{defaultValue:null,description:"The custom title for the alert.",name:"customTitle",required:!1,type:{name:"string"}},headerStartAccessory:{defaultValue:null,description:`The start (left) content area of ModalHeader.
It overrides \`startAccessory\` of ModalHeaderDefault and by default no content is present.`,name:"headerStartAccessory",required:!1,type:{name:"ReactNode"}},onAcknowledgeClick:{defaultValue:null,description:"The function invoked when the user acknowledges the alert.",name:"onAcknowledgeClick",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"(request?: { recursive?: boolean | undefined; } | undefined) => void"}},ownerId:{defaultValue:null,description:"The owner ID of the relevant alert from the `confirmAlerts` reducer.",name:"ownerId",required:!0,type:{name:"string"}},showCloseIcon:{defaultValue:{value:"true"},description:"Whether to show the close icon in the modal header.",name:"showCloseIcon",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/alert-modal/alert-modal.tsx#AlertModal"]={docgenInfo:AlertModal1.__docgenInfo,name:"AlertModal",path:"ui/components/app/alert-system/alert-modal/alert-modal.tsx#AlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/alert-modal/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>_alert_modal__WEBPACK_IMPORTED_MODULE_0__.W});var _alert_modal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/alert-system/alert-modal/alert-modal.tsx");try{AlertModal.displayName="AlertModal",AlertModal.__docgenInfo={description:"",displayName:"AlertModal",props:{alertKey:{defaultValue:null,description:"The unique key representing the specific alert field.",name:"alertKey",required:!0,type:{name:"string"}},customAcknowledgeButton:{defaultValue:null,description:"The custom button component for acknowledging the alert.",name:"customAcknowledgeButton",required:!1,type:{name:"ReactNode"}},customAcknowledgeCheckbox:{defaultValue:null,description:"The custom checkbox component for acknowledging the alert.",name:"customAcknowledgeCheckbox",required:!1,type:{name:"ReactNode"}},customDetails:{defaultValue:null,description:"The custom details component for the alert.",name:"customDetails",required:!1,type:{name:"ReactNode"}},customTitle:{defaultValue:null,description:"The custom title for the alert.",name:"customTitle",required:!1,type:{name:"string"}},headerStartAccessory:{defaultValue:null,description:`The start (left) content area of ModalHeader.
It overrides \`startAccessory\` of ModalHeaderDefault and by default no content is present.`,name:"headerStartAccessory",required:!1,type:{name:"ReactNode"}},onAcknowledgeClick:{defaultValue:null,description:"The function invoked when the user acknowledges the alert.",name:"onAcknowledgeClick",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"(request?: { recursive?: boolean | undefined; } | undefined) => void"}},ownerId:{defaultValue:null,description:"The owner ID of the relevant alert from the `confirmAlerts` reducer.",name:"ownerId",required:!0,type:{name:"string"}},showCloseIcon:{defaultValue:{value:"true"},description:"Whether to show the close icon in the modal header.",name:"showCloseIcon",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/alert-modal/index.tsx#AlertModal"]={docgenInfo:AlertModal.__docgenInfo,name:"AlertModal",path:"ui/components/app/alert-system/alert-modal/index.tsx#AlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/confirm-alert-modal/confirm-alert-modal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TemplateStory:()=>TemplateStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_confirm_alert_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/app/alert-system/confirm-alert-modal/confirm-alert-modal.tsx"),_store_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/store/store.ts"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),_component_library__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/component-library/index.ts"),_storybook_client_api__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("@storybook/client-api"),_alert_modal_alert_modal_stories__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/app/alert-system/alert-modal/alert-modal.stories.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var alertsMock=[_alert_modal_alert_modal_stories__WEBPACK_IMPORTED_MODULE_6__.baseAlertsMock[0],_object_spread_props(_object_spread({},_alert_modal_alert_modal_stories__WEBPACK_IMPORTED_MODULE_6__.baseAlertsMock[1]),{actions:void 0}),_alert_modal_alert_modal_stories__WEBPACK_IMPORTED_MODULE_6__.baseAlertsMock[2]],storeMock=(0,_store_store__WEBPACK_IMPORTED_MODULE_2__.A)({confirmAlerts:{alerts:_define_property({},"123",alertsMock),confirmed:_define_property({},"123",{From:!0,Data:!0,Contract:!0})}});let __WEBPACK_DEFAULT_EXPORT__={title:"Confirmations/Components/Alerts/ConfirmAlertModal",component:_confirm_alert_modal__WEBPACK_IMPORTED_MODULE_1__.g,argTypes:{alertKey:{control:"text",description:"The unique key identifying the specific alert."},onAcknowledgeClick:{action:"acknowledged",description:"Callback function invoked when the acknowledge action is triggered."},onClose:{action:"closed",description:"Callback function invoked when the modal is requested to close."},ownerId:{control:"text",description:"The owner ID of the relevant alert from the `confirmAlerts` reducer."},onAlertLinkClick:{action:"alertLinkClicked",description:"Callback function called when the alert link is clicked."},onCancel:{action:"cancelled",description:"Callback function called when the cancel button is clicked."},onSubmit:{action:"submitted",description:"Callback function called when the submit button is clicked."}},args:{onAcknowledgeClick:function(){},onClose:function(){},ownerId:"123"},decorators:[function(story){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_3__.Kq,{store:storeMock},story())}]};var TemplateStory=function(args){var _useArgs=_sliced_to_array((0,_storybook_client_api__WEBPACK_IMPORTED_MODULE_5__.useArgs)(),2),isOpen=_useArgs[0].isOpen,updateArgs=_useArgs[1],handleOnClose=function(){updateArgs({isOpen:!1})};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_4__.az,null,isOpen&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_confirm_alert_modal__WEBPACK_IMPORTED_MODULE_1__.g,_object_spread_props(_object_spread({},args),{onClose:handleOnClose,onCancel:handleOnClose,onSubmit:handleOnClose})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_4__.$n,{onClick:function(){updateArgs({isOpen:!0})},danger:!0},"Open confirm alert modal"))};TemplateStory.storyName="Confirm Critical Alert Modal",TemplateStory.parameters={...TemplateStory.parameters,docs:{...TemplateStory.parameters?.docs,source:{originalSource:`args => {
  const [{
    isOpen
  }, updateArgs] = useArgs();
  const handleOnClick = () => {
    updateArgs({
      isOpen: true
    });
  };
  const handleOnClose = () => {
    updateArgs({
      isOpen: false
    });
  };
  return <Box>
      {isOpen && <ConfirmAlertModal {...args} onClose={handleOnClose} onCancel={handleOnClose} onSubmit={handleOnClose} />}
      <Button onClick={handleOnClick} danger={true}>
        Open confirm alert modal
      </Button>
    </Box>;
}`,...TemplateStory.parameters?.docs?.source}}};let __namedExportsOrder=["TemplateStory"]},"./ui/components/app/alert-system/confirm-alert-modal/confirm-alert-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>ConfirmAlertModal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_component_library__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/hooks/useI18nContext.js"),_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useAlerts.ts"),_alert_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/app/alert-system/alert-modal/index.tsx"),_alert_modal_alert_modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/app/alert-system/alert-modal/alert-modal.tsx"),_multiple_alert_modal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/app/alert-system/multiple-alert-modal/index.tsx"),_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./shared/constants/metametrics.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function ConfirmButtons(param){var onCancel=param.onCancel,onSubmit=param.onSubmit,isConfirmed=param.isConfirmed,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)(),onAlertCancel=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){onCancel({location:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_8__.If.AlertFrictionModal})},[onCancel]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.$n,{block:!0,onClick:onAlertCancel,size:_component_library__WEBPACK_IMPORTED_MODULE_1__.Mp.Lg,variant:_component_library__WEBPACK_IMPORTED_MODULE_1__.Ak.Secondary,"data-testid":"confirm-alert-modal-cancel-button"},t("reject")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.$n,{variant:_component_library__WEBPACK_IMPORTED_MODULE_1__.Ak.Primary,onClick:onSubmit,size:_component_library__WEBPACK_IMPORTED_MODULE_1__.Mp.Lg,"data-testid":"confirm-alert-modal-submit-button",disabled:!isConfirmed,danger:!0,startIconName:_component_library__WEBPACK_IMPORTED_MODULE_1__.$M.Danger},t("confirm")))}function ConfirmDetails(param){var onAlertLinkClick=param.onAlertLinkClick,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.az,{alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.k2.center,textAlign:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nO.Center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMd},t("confirmationAlertDetails")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.vx,{marginTop:4,size:_component_library__WEBPACK_IMPORTED_MODULE_1__.wL.Inherit,textProps:{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodyMd,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.k2.flexStart},as:"a",onClick:onAlertLinkClick,target:"_blank",rel:"noopener noreferrer","data-testid":"confirm-alert-modal-review-all-alerts"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.In,{name:_component_library__WEBPACK_IMPORTED_MODULE_1__.$M.SecuritySearch,size:_component_library__WEBPACK_IMPORTED_MODULE_1__.lK.Inherit}),t("alertModalReviewAllAlerts"))))}function ConfirmAlertModal(param){var onCancel=param.onCancel,onClose=param.onClose,onSubmit=param.onSubmit,ownerId=param.ownerId,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)(),_useAlerts=(0,_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_4__.A)(ownerId),fieldAlerts=_useAlerts.fieldAlerts,alerts=_useAlerts.alerts,hasUnconfirmedFieldDangerAlerts=_useAlerts.hasUnconfirmedFieldDangerAlerts,_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),confirmCheckbox=_useState[0],setConfirmCheckbox=_useState[1],hasDangerBlockingAlerts=fieldAlerts.some(function(alert){return alert.severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger&&alert.isBlocking}),_useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(hasUnconfirmedFieldDangerAlerts),2),multipleAlertModalVisible=_useState1[0],setMultipleAlertModalVisible=_useState1[1],handleCloseMultipleAlertModal=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(request){setMultipleAlertModalVisible(!1),((null==request?void 0:request.recursive)||hasUnconfirmedFieldDangerAlerts||hasDangerBlockingAlerts)&&onClose()},[onClose,hasUnconfirmedFieldDangerAlerts,hasDangerBlockingAlerts]),handleOpenMultipleAlertModal=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setMultipleAlertModalVisible(!0)},[]),handleConfirmCheckbox=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setConfirmCheckbox(!confirmCheckbox)},[confirmCheckbox]);if(multipleAlertModalVisible)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_multiple_alert_modal__WEBPACK_IMPORTED_MODULE_7__.C,{ownerId:ownerId,onFinalAcknowledgeClick:handleCloseMultipleAlertModal,onClose:handleCloseMultipleAlertModal,showCloseIcon:!1});var selectedAlert=alerts[0];return selectedAlert?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_alert_modal__WEBPACK_IMPORTED_MODULE_5__.W,{ownerId:ownerId,onAcknowledgeClick:onClose,alertKey:selectedAlert.key,onClose:onClose,customTitle:t("confirmationAlertModalTitleDescription"),customDetails:react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConfirmDetails,{onAlertLinkClick:handleOpenMultipleAlertModal}),customAcknowledgeCheckbox:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_alert_modal_alert_modal__WEBPACK_IMPORTED_MODULE_6__.F,{selectedAlert:selectedAlert,isConfirmed:confirmCheckbox,onCheckboxClick:handleConfirmCheckbox,label:t(1===alerts.length?"confirmAlertModalAcknowledgeSingle":"confirmAlertModalAcknowledgeMultiple")}),customAcknowledgeButton:react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConfirmButtons,{onCancel:onCancel,onSubmit:onSubmit,isConfirmed:confirmCheckbox})}):null}try{ConfirmAlertModal.displayName="ConfirmAlertModal",ConfirmAlertModal.__docgenInfo={description:"",displayName:"ConfirmAlertModal",props:{onCancel:{defaultValue:null,description:"Callback function that is called when the cancel button is clicked.",name:"onCancel",required:!0,type:{name:"OnCancelHandler"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"Callback function that is called when the submit button is clicked.",name:"onSubmit",required:!0,type:{name:"() => void"}},ownerId:{defaultValue:null,description:"The owner ID of the relevant alert from the `confirmAlerts` reducer.",name:"ownerId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/confirm-alert-modal/confirm-alert-modal.tsx#ConfirmAlertModal"]={docgenInfo:ConfirmAlertModal.__docgenInfo,name:"ConfirmAlertModal",path:"ui/components/app/alert-system/confirm-alert-modal/confirm-alert-modal.tsx#ConfirmAlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/contexts/alertActionHandler.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Qh:()=>useAlertActionHandler,U1:()=>AlertActionHandlerProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),AlertActionHandlerContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0),AlertActionHandlerProvider=function(param){var children=param.children,onProcessAction=param.onProcessAction,processAction=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(_actionKey){onProcessAction(_actionKey)},[onProcessAction]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AlertActionHandlerContext.Provider,{value:{processAction:processAction}},children)},useAlertActionHandler=function(){var context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AlertActionHandlerContext);if(!context)throw Error("useAlertActionHandler must be used within an AlertActionHandlerProvider");return context};try{AlertActionHandlerProvider.displayName="AlertActionHandlerProvider",AlertActionHandlerProvider.__docgenInfo={description:"",displayName:"AlertActionHandlerProvider",props:{onProcessAction:{defaultValue:null,description:"",name:"onProcessAction",required:!0,type:{name:"(actionKey: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/contexts/alertActionHandler.tsx#AlertActionHandlerProvider"]={docgenInfo:AlertActionHandlerProvider.__docgenInfo,name:"AlertActionHandlerProvider",path:"ui/components/app/alert-system/contexts/alertActionHandler.tsx#AlertActionHandlerProvider"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/multiple-alert-modal/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>_multiple_alert_modal__WEBPACK_IMPORTED_MODULE_0__.C});var _multiple_alert_modal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/alert-system/multiple-alert-modal/multiple-alert-modal.tsx");try{MultipleAlertModal.displayName="MultipleAlertModal",MultipleAlertModal.__docgenInfo={description:"",displayName:"MultipleAlertModal",props:{alertKey:{defaultValue:null,description:"The key of the initial alert to display.",name:"alertKey",required:!1,type:{name:"string"}},displayAllAlerts:{defaultValue:{value:"false"},description:"If true the modal will display non-field alerts also.",name:"displayAllAlerts",required:!1,type:{name:"boolean"}},onFinalAcknowledgeClick:{defaultValue:null,description:"The function to be executed when the button in the alert modal is clicked.",name:"onFinalAcknowledgeClick",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"(request?: { recursive?: boolean | undefined; } | undefined) => void"}},ownerId:{defaultValue:null,description:"The unique identifier of the entity that owns the alert.",name:"ownerId",required:!0,type:{name:"string"}},showCloseIcon:{defaultValue:{value:"true"},description:"Whether to show the close icon in the modal header.",name:"showCloseIcon",required:!1,type:{name:"boolean"}},skipAlertNavigation:{defaultValue:{value:"false"},description:"Whether to skip the unconfirmed alerts validation and close the modal directly.",name:"skipAlertNavigation",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/multiple-alert-modal/index.tsx#MultipleAlertModal"]={docgenInfo:MultipleAlertModal.__docgenInfo,name:"MultipleAlertModal",path:"ui/components/app/alert-system/multiple-alert-modal/index.tsx#MultipleAlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/alert-system/multiple-alert-modal/multiple-alert-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>MultipleAlertModal1});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_component_library__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/hooks/useI18nContext.js"),_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useAlerts.ts"),_alert_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/app/alert-system/alert-modal/index.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function PreviousButton(param){var selectedIndex=param.selectedIndex,onBackButtonClick=param.onBackButtonClick,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)();return selectedIndex+1>1?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.a2,{iconName:_component_library__WEBPACK_IMPORTED_MODULE_1__.$M.ArrowLeft,ariaLabel:t("back"),size:_component_library__WEBPACK_IMPORTED_MODULE_1__.f3.Sm,onClick:onBackButtonClick,className:"confirm_nav__left_btn","data-testid":"alert-modal-back-button",borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Z6.full,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.iconAlternative,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.backgroundAlternative}):null}function NextButton(param){var selectedIndex=param.selectedIndex,alertsLength=param.alertsLength,onNextButtonClick=param.onNextButtonClick,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)();return selectedIndex+1<alertsLength?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.a2,{iconName:_component_library__WEBPACK_IMPORTED_MODULE_1__.$M.ArrowRight,ariaLabel:t("next"),size:_component_library__WEBPACK_IMPORTED_MODULE_1__.f3.Sm,onClick:onNextButtonClick,className:"confirm_nav__right_btn","data-testid":"alert-modal-next-button",borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Z6.full,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Li.iconAlternative,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.i0.backgroundAlternative}):null}function PageNumber(param){var selectedIndex=param.selectedIndex,alertsLength=param.alertsLength,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.P)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.J3.bodySm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.r7.textAlternative,marginInline:1,style:{whiteSpace:"nowrap"}},"".concat(selectedIndex+1," ").concat(t("ofTextNofM")," ").concat(alertsLength))}function PageNavigation(param){var alerts=param.alerts,onBackButtonClick=param.onBackButtonClick,onNextButtonClick=param.onNextButtonClick,selectedIndex=param.selectedIndex;return alerts.length<=1?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.nl.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.k2.center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(PreviousButton,{selectedIndex:selectedIndex,onBackButtonClick:onBackButtonClick}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageNumber,{selectedIndex:selectedIndex,alertsLength:alerts.length}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextButton,{selectedIndex:selectedIndex,alertsLength:alerts.length,onNextButtonClick:onNextButtonClick}))}function MultipleAlertModal1(param){var _alertsToDisplay_selectedIndex,alertKey=param.alertKey,_param_displayAllAlerts=param.displayAllAlerts,onClose=param.onClose,onFinalAcknowledgeClick=param.onFinalAcknowledgeClick,ownerId=param.ownerId,_param_showCloseIcon=param.showCloseIcon,_param_skipAlertNavigation=param.skipAlertNavigation,skipAlertNavigation=void 0!==_param_skipAlertNavigation&&_param_skipAlertNavigation,_useAlerts=(0,_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_4__.A)(ownerId),isAlertConfirmed=_useAlerts.isAlertConfirmed,fieldAlerts=_useAlerts.fieldAlerts,alerts=_useAlerts.alerts,alertsToDisplay=void 0!==_param_displayAllAlerts&&_param_displayAllAlerts?alerts:fieldAlerts,initialAlertIndex=alertsToDisplay.findIndex(function(alert){return alert.key===alertKey}),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1===initialAlertIndex?0:initialAlertIndex),2),selectedIndex=_useState[0],setSelectedIndex=_useState[1],selectedAlert=null!=(_alertsToDisplay_selectedIndex=alertsToDisplay[selectedIndex])?_alertsToDisplay_selectedIndex:alertsToDisplay[0],hasUnconfirmedAlerts=alerts.some(function(alert){return!isAlertConfirmed(alert.key)&&alert.severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.AI.Danger}),handleBackButtonClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setSelectedIndex(function(prevIndex){return prevIndex>0?prevIndex-1:prevIndex})},[]),handleNextButtonClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setSelectedIndex(function(prevIndex){return prevIndex+1})},[]),handleAcknowledgeClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){return skipAlertNavigation?void onFinalAcknowledgeClick():selectedIndex+1===alertsToDisplay.length?hasUnconfirmedAlerts?void setSelectedIndex(0):void onFinalAcknowledgeClick():void handleNextButtonClick()},[onFinalAcknowledgeClick,handleNextButtonClick,selectedIndex,alertsToDisplay.length,hasUnconfirmedAlerts,skipAlertNavigation]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_alert_modal__WEBPACK_IMPORTED_MODULE_5__.W,{ownerId:ownerId,onAcknowledgeClick:handleAcknowledgeClick,alertKey:null==selectedAlert?void 0:selectedAlert.key,onClose:onClose,headerStartAccessory:react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageNavigation,{alerts:alertsToDisplay,onBackButtonClick:handleBackButtonClick,onNextButtonClick:handleNextButtonClick,selectedIndex:selectedIndex}),showCloseIcon:void 0===_param_showCloseIcon||_param_showCloseIcon})}try{MultipleAlertModal1.displayName="MultipleAlertModal",MultipleAlertModal1.__docgenInfo={description:"",displayName:"MultipleAlertModal",props:{alertKey:{defaultValue:null,description:"The key of the initial alert to display.",name:"alertKey",required:!1,type:{name:"string"}},displayAllAlerts:{defaultValue:{value:"false"},description:"If true the modal will display non-field alerts also.",name:"displayAllAlerts",required:!1,type:{name:"boolean"}},onFinalAcknowledgeClick:{defaultValue:null,description:"The function to be executed when the button in the alert modal is clicked.",name:"onFinalAcknowledgeClick",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"The function to be executed when the modal needs to be closed.",name:"onClose",required:!0,type:{name:"(request?: { recursive?: boolean | undefined; } | undefined) => void"}},ownerId:{defaultValue:null,description:"The unique identifier of the entity that owns the alert.",name:"ownerId",required:!0,type:{name:"string"}},showCloseIcon:{defaultValue:{value:"true"},description:"Whether to show the close icon in the modal header.",name:"showCloseIcon",required:!1,type:{name:"boolean"}},skipAlertNavigation:{defaultValue:{value:"false"},description:"Whether to skip the unconfirmed alerts validation and close the modal directly.",name:"skipAlertNavigation",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/alert-system/multiple-alert-modal/multiple-alert-modal.tsx#MultipleAlertModal"]={docgenInfo:MultipleAlertModal1.__docgenInfo,name:"MultipleAlertModal",path:"ui/components/app/alert-system/multiple-alert-modal/multiple-alert-modal.tsx#MultipleAlertModal"})}catch(__react_docgen_typescript_loader_error){}},"./ui/hooks/useAlerts.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useAlerts});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),reselect=__webpack_require__("./node_modules/reselect/dist/reselect.mjs");function selectAlerts(state,ownerId){var _state_confirmAlerts,_state_confirmAlerts_alerts_ownerId;return null!=(_state_confirmAlerts_alerts_ownerId=null==(_state_confirmAlerts=state.confirmAlerts)?void 0:_state_confirmAlerts.alerts[ownerId])?_state_confirmAlerts_alerts_ownerId:[]}var selectGeneralAlerts=(0,reselect.Mz)(function(state,ownerId){return selectAlerts(state,ownerId)},function(alerts){return alerts.filter(function(alert){return!alert.field})}),selectFieldAlerts=(0,reselect.Mz)(function(state,ownerId){return selectAlerts(state,ownerId)},function(alerts){return alerts.filter(function(alert){return alert.field})});function selectConfirmedAlertKeys(state,ownerId){var _state_confirmAlerts,confirmed=(null!=(_state_confirmAlerts=state.confirmAlerts)?_state_confirmAlerts:{}).confirmed,ownerConfirmed=(null==confirmed?void 0:confirmed[ownerId])||{};return Object.keys(ownerConfirmed).filter(function(key){return ownerConfirmed[key]})}var confirm_alerts=__webpack_require__("./ui/ducks/confirm-alerts/confirm-alerts.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function sortAlertsBySeverity(alerts){var _obj,severityOrder=(_define_property(_obj={},design_system.AI.Danger,3),_define_property(_obj,design_system.AI.Warning,2),_define_property(_obj,design_system.AI.Info,1),_obj);return alerts.sort(function(a,b){return severityOrder[b.severity]-severityOrder[a.severity]})}let hooks_useAlerts=function(ownerId){var dispatch=(0,es.wA)(),alerts=sortAlertsBySeverity((0,es.d4)(function(state){return selectAlerts(state,ownerId)})),confirmedAlertKeys=(0,es.d4)(function(state){return selectConfirmedAlertKeys(state,ownerId)}),generalAlerts=sortAlertsBySeverity((0,es.d4)(function(state){return selectGeneralAlerts(state,ownerId)})),fieldAlerts=sortAlertsBySeverity((0,es.d4)(function(state){return selectFieldAlerts(state,ownerId)})),getFieldAlerts=(0,react.useCallback)(function(field){return field?alerts.filter(function(alert){return alert.field===field}):[]},[alerts]),setAlertConfirmed=(0,react.useCallback)(function(alertKey,isConfirmed){dispatch((0,confirm_alerts.G0)(ownerId,alertKey,isConfirmed))},[dispatch,confirm_alerts.G0,ownerId]),isAlertConfirmed=(0,react.useCallback)(function(alertKey){return confirmedAlertKeys.includes(alertKey)},[confirmedAlertKeys]),unconfirmedDangerAlerts=alerts.filter(function(alert){return!isAlertConfirmed(alert.key)&&alert.severity===design_system.AI.Danger}),hasAlerts=alerts.length>0,dangerAlerts=alerts.filter(function(alert){return alert.severity===design_system.AI.Danger}),hasUnconfirmedDangerAlerts=unconfirmedDangerAlerts.length>0,unconfirmedFieldDangerAlerts=fieldAlerts.filter(function(alert){return!isAlertConfirmed(alert.key)&&alert.severity===design_system.AI.Danger});return{alerts:alerts,fieldAlerts:fieldAlerts,generalAlerts:generalAlerts,getFieldAlerts:getFieldAlerts,hasAlerts:hasAlerts,dangerAlerts:dangerAlerts,hasDangerAlerts:(null==dangerAlerts?void 0:dangerAlerts.length)>0,hasUnconfirmedDangerAlerts:hasUnconfirmedDangerAlerts,isAlertConfirmed:isAlertConfirmed,setAlertConfirmed:setAlertConfirmed,unconfirmedDangerAlerts:unconfirmedDangerAlerts,unconfirmedFieldDangerAlerts:unconfirmedFieldDangerAlerts,hasUnconfirmedFieldDangerAlerts:unconfirmedFieldDangerAlerts.length>0}}},"./ui/pages/confirmations/context/confirm/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VF:()=>ConfirmContextProvider,TW:()=>useConfirmContext});var react=__webpack_require__("./node_modules/react/index.js"),types=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./ui/__mocks__/actions.js"),useCurrentConfirmation=__webpack_require__("./ui/pages/confirmations/hooks/useCurrentConfirmation.ts"),react_router=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),useConfirmationNavigation=__webpack_require__("./ui/pages/confirmations/hooks/useConfirmationNavigation.ts");let hooks_syncConfirmPath=function(currentConfirmation){var navigateToId=(0,useConfirmationNavigation.N)().navigateToId,paramId=(0,react_router.g)().id,confirmationId=null==currentConfirmation?void 0:currentConfirmation.id;(0,react.useEffect)(function(){confirmationId&&(paramId||navigateToId(confirmationId))},[confirmationId,paramId,navigateToId])};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var ConfirmContext=(0,react.createContext)(void 0),ConfirmContextProvider=function(param){var children=param.children,_useState=_sliced_to_array((0,react.useState)(!0),2),isScrollToBottomCompleted=_useState[0],setIsScrollToBottomCompleted=_useState[1],currentConfirmation=(0,useCurrentConfirmation.A)().currentConfirmation;hooks_syncConfirmPath(currentConfirmation);var dispatch=(0,es.wA)(),value=(0,react.useMemo)(function(){return{currentConfirmation:currentConfirmation,isScrollToBottomCompleted:isScrollToBottomCompleted,setIsScrollToBottomCompleted:setIsScrollToBottomCompleted}},[currentConfirmation,isScrollToBottomCompleted,setIsScrollToBottomCompleted]);return(0,react.useEffect)(function(){currentConfirmation&&(currentConfirmation.type===types.D_.revokeDelegation||currentConfirmation.type===types.D_.batch)&&dispatch((0,actions.setAccountDetailsAddress)(""))},[dispatch,currentConfirmation]),react.createElement(ConfirmContext.Provider,{value:value},children)},useConfirmContext=function(){var context=(0,react.useContext)(ConfirmContext);if(!context)throw Error("useConfirmContext must be used within an ConfirmContextProvider");return context};try{ConfirmContextProvider.displayName="ConfirmContextProvider",ConfirmContextProvider.__docgenInfo={description:"",displayName:"ConfirmContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/confirmations/context/confirm/index.tsx#ConfirmContextProvider"]={docgenInfo:ConfirmContextProvider.__docgenInfo,name:"ConfirmContextProvider",path:"ui/pages/confirmations/context/confirm/index.tsx#ConfirmContextProvider"})}catch(__react_docgen_typescript_loader_error){}},"./ui/pages/confirmations/hooks/useConfirmationNavigation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>useConfirmationNavigation});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@metamask/controller-utils/dist/constants.mjs"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_confirmation_templates__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/pages/confirmations/confirmation/templates/index.js"),_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/constants/routes.ts"),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/pages/confirmations/utils/index.ts"),_selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/selectors/index.js"),CONNECT_APPROVAL_TYPES=[_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WalletRequestPermissions,"wallet_installSnap","wallet_updateSnap","wallet_installSnapResult"];function useConfirmationNavigation(){var confirmations=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_6__.VKo),approvalFlows=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_6__.j9f,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual),history=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.W6)(),getIndex=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(confirmationId){return confirmationId?confirmations.findIndex(function(param){return param.id===confirmationId}):0},[confirmations]),navigateToId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(confirmationId){navigateToConfirmation(confirmationId,confirmations,!!(null==approvalFlows?void 0:approvalFlows.length),history)},[confirmations,history]),navigateToIndex=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(index){var nextConfirmation=confirmations[index];navigateToId(null==nextConfirmation?void 0:nextConfirmation.id)},[confirmations,navigateToId]),count=confirmations.length;return{confirmations:confirmations,count:count,getIndex:getIndex,navigateToId:navigateToId,navigateToIndex:navigateToIndex}}function navigateToConfirmation(confirmationId,confirmations,hasApprovalFlows,history){var _nextConfirmation_requestData_asset,_nextConfirmation_requestData,hasNoConfirmations=(null==confirmations?void 0:confirmations.length)<=0||!confirmationId;if(hasApprovalFlows&&hasNoConfirmations)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.DL));if(!hasNoConfirmations){var nextConfirmation=confirmations.find(function(confirmation){return confirmation.id===confirmationId});if(nextConfirmation){var type=nextConfirmation.type;if(_confirmation_templates__WEBPACK_IMPORTED_MODULE_3__.x0.includes(type))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.DL,"/").concat(confirmationId));if((0,_utils__WEBPACK_IMPORTED_MODULE_5__.rS)(nextConfirmation))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.no));if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.Transaction)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId));if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.EthDecrypt)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.OT));if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.EthGetEncryptionPublicKey)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.s8,"/").concat(confirmationId).concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.yK));if(CONNECT_APPROVAL_TYPES.includes(type))return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.Fh,"/").concat(confirmationId));var tokenId=null==nextConfirmation||null==(_nextConfirmation_requestData=nextConfirmation.requestData)||null==(_nextConfirmation_requestData_asset=_nextConfirmation_requestData.asset)?void 0:_nextConfirmation_requestData_asset.tokenId;if(type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WatchAsset&&!tokenId)return void history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.nK));type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_7__.s.WatchAsset&&tokenId&&history.replace("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_4__.A0))}}}},"./ui/pages/confirmations/hooks/useCurrentConfirmation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useCurrentConfirmation});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),selectors=__webpack_require__("./ui/selectors/index.js"),reselect=__webpack_require__("./node_modules/reselect/dist/reselect.mjs"),util=__webpack_require__("./shared/modules/selectors/util.js"),transactions=__webpack_require__("./ui/selectors/transactions.js");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}var selectUnapprovedMessages=(0,reselect.Mz)(transactions.cY,transactions.uJ,function(personalMsgs,typedMessages){return _object_spread({},personalMsgs,typedMessages)}),internalSelectUnapprovedMessage=(0,reselect.Mz)(selectUnapprovedMessages,function(_state,messageId){return messageId},function(messages,messageId){return messages[messageId]}),selectUnapprovedMessage=(0,util._)(internalSelectUnapprovedMessage,function(message){return message}),confirmation_utils=__webpack_require__("./shared/lib/confirmation.utils.ts");let hooks_useCurrentConfirmation=function(){var paramsConfirmationId=(0,react_router.g)().id,oldestPendingApproval=(0,es.d4)(selectors.dMC),confirmationId=null!=paramsConfirmationId?paramsConfirmationId:null==oldestPendingApproval?void 0:oldestPendingApproval.id,pendingApproval=(0,es.d4)(function(state){return(0,selectors.ll0)(state,confirmationId)}),transactionMetadata=(0,es.d4)(function(state){return(0,selectors.jJ$)(state,confirmationId)}),signatureMessage=(0,es.d4)(function(state){return selectUnapprovedMessage(state,confirmationId)}),useRedesignedForSignatures=(0,confirmation_utils.ml)({approvalType:null==pendingApproval?void 0:pendingApproval.type}),useRedesignedForTransaction=(0,confirmation_utils._I)({transactionMetadataType:null==transactionMetadata?void 0:transactionMetadata.type}),shouldUseRedesign=useRedesignedForSignatures||useRedesignedForTransaction;return(0,react.useMemo)(function(){var _ref;return shouldUseRedesign?{currentConfirmation:null!=(_ref=null!=transactionMetadata?transactionMetadata:signatureMessage)?_ref:void 0}:{currentConfirmation:void 0}},[transactionMetadata,signatureMessage,shouldUseRedesign])}},"./ui/pages/confirmations/utils/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VO:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.VO,WY:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.WY,ig:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.ig,m4:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.m4,q9:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.q9,rS:()=>_confirm__WEBPACK_IMPORTED_MODULE_0__.rS});var _confirm__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/pages/confirmations/utils/confirm.ts")}}]);
//# sourceMappingURL=components-app-alert-system-confirm-alert-modal-confirm-alert-modal-stories.0333acdf.iframe.bundle.js.map